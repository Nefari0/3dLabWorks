(this.webpackJsonp3depot=this.webpackJsonp3depot||[]).push([[0],Array(45).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},,,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t){},,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(3),i=n.n(s),a=n(48),o=n.n(a),c=(n(93),n(60),n(168),n(7)),l=n(4),u=n.n(l),d=n(10),p=n(13),h=n(14),j=n(5),b=n(16),x=n(15),m=n(6),f=n.n(m),g=(n(114),{user:{},isLoggedIn:!1,isLoading:!1,loginError:!1,loginOpen:!1}),O="LOGIN_USER",v="LOGOUT_USER",w="REGISTER_USER",k="UPDATE_USER",y="AUTO_LOGIN",_="OPEN_LOGIN";function L(e){return{type:_,payload:e}}function N(e,t,n,r){return{type:O,payload:f.a.post("/auth/login",{user_name:e,password:t,last_visit:n,visited:r})}}function I(e,t,n,r,s,i){return{type:w,payload:f.a.post("/auth/register",{user_name:e,password:t,email:n,first_name:r,is_admin:s,is_sudo:i})}}function C(e){return{type:k,payload:e}}var S=n(17),M=(n(118),n(8)),P=n(9);function U(){var e=Object(M.a)(["\n    position: relative;\n    margin: none;\n    height: 60px;\n    min-width: 300px;\n    background: linear-gradient(0deg,#5077be,#6495ed);\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    align-content: center;\n"]);return U=function(){return e},e}var T=P.b.header(U()),D=n(87),F={margin:"auto",marginLeft:"10px",marginRight:"10px",height:"40px",width:"40px",opacity:"60%",color:"#6495ed",paddingTop:"10px"},E=function(e){var t=Object.assign({},e);return Object(r.jsx)("svg",Object(c.a)(Object(c.a)({},t),{},{xmlns:"http://www.w3.org/2000/svg",className:"comment-menu small-icon",style:{marginBottom:"10px",marginRight:"0px",height:"40px",width:"40px",opacity:"60%"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}))},R=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})},A=function(){return Object(r.jsx)("svg",{style:F,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})},G=function(){return Object(r.jsx)("svg",{style:F,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})},z=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},B=function(e){var t=Object.assign({},e);return Object(r.jsx)("svg",Object(c.a)(Object(c.a)({className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t),{},{children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}))},V=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})},W=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{color:"#fff",marginLeft:"20[x"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})},K=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})},H=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},J=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})},q=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})})};function Y(){var e=Object(M.a)(["\n    width:50px;\n    height:50px;\n    display:flex;\n    justify-content:center;\n    align-items:center;\n    position: absolute;\n    right: 20px;\n    \n    img {\n        position: absolute;\n        height: 45px;\n        width: 45px;\n        border-radius: 50%;\n        z-index: 0;\n        border: 1px solid #3c598e;\n        box-shadow: 0 4px 3px 0  rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n        top: 5px;\n        display:none;\n    }\n    \n    svg {\n        height: 35px;\n        position:relative;\n    }\n\n    ","\n\n    @media (min-width:820px) {\n        display:none;\n    }\n\n    @media (max-width:400px) {\n        -webkit-transform: scale(.75);\n        -ms-transform: scale(.75);\n        transform: scale(.75);\n\n        right:0px;\n    }\n"]);return Y=function(){return e},e}function X(){var e=Object(M.a)(["\n\n    svg {\n        position: absolute;\n        height: 25px;\n        border-radius: 50%;\n        color: #fff;\n        bottom: -5px;\n        right: 0px;\n    }\n\n    img {display:block;}\n"]);return X=function(){return e},e}var Z=Object(P.a)(X()),Q=P.b.div(Y(),(function(e){return e.isLoggedIn&&Z})),$=function(e){var t=e.photo,n=e.isLoggedIn,s=Object(D.a)(e,["photo","isLoggedIn"]);return Object(r.jsxs)(Q,Object(c.a)(Object(c.a)({isLoggedIn:n},s),{},{children:[Object(r.jsx)("img",{src:t||"https://firebasestorage.googleapis.com/v0/b/depot-7bb3e.appspot.com/o/Chris%20deMontigny%2Fphotos%2Fprofile-pic-placeholder.JPEG?alt=media&token=0f93dc94-dd77-4072-82bd-925a3b19acf3"}),Object(r.jsx)(V,{})]}))},ee=n(19),te=n(12),ne=(n(119),n(70),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"agreement-container",children:Object(r.jsx)("p",{className:"agreement-text",children:"Any and all information and content that a User submits to, or uses with, the Sites or Services (e.g., content in the User\u2019s profile or postings, user-created designs), including any modifications, improvements, or alterations (\u201cModification\u201d) made to products available by Company or its authorized suppliers through MadModels3d (all such products collectively referred to herein as the \u201cMadModels3d Experimental Product\u201d) or to any print profiles, modes, or settings created by you using Company products (\u201cPrint Profile\u201d). You retain all your intellectual property rights in your User Content. Company does not claim ownership in any User Content. You are solely responsible for your User Content, and you assume all risks associated with use of your User Content, including any reliance on its accuracy, completeness, or usefulness by others, or any disclosure of your User Content by you that makes you or any third party personally identifiable. Unless Company states otherwise in a writing to you, you may not state or imply that your User Content is in any way provided, sponsored, or endorsed by the Company. The Company is not obligated to backup any User Content and User Content may be deleted at any time. You are solely responsible for creating backup copies of your User Content if you desire."})})}}]),n}(s.Component));var re=Object(S.b)((function(e){return e}),{registerUser:I,loginUser:N})((function(e){var t=e.isLoggedIn,n=(e.saveSession,e.current_user,e.user.user),i=n.user,a=n.photo,o=Object(s.useState)(""),c=Object(te.a)(o,2),l=c[0],p=c[1],h=Object(s.useState)(""),j=Object(te.a)(h,2),b=j[0],x=j[1],m=Object(s.useState)(!0),f=Object(te.a)(m,2),g=f[0],O=f[1],v=Object(s.useState)(!1),w=Object(te.a)(v,2),k=w[0],y=w[1],_=Object(s.useState)(""),L=Object(te.a)(_,2),N=L[0],I=L[1],C=Object(s.useState)(""),S=Object(te.a)(C,2),M=S[0],P=S[1],U=Object(s.useState)(""),T=Object(te.a)(U,2),D=T[0],F=T[1],E=Object(s.useState)(""),R=Object(te.a)(E,2),A=(R[0],R[1],Object(s.useState)(!1)),G=Object(te.a)(A,1)[0],z=Object(s.useState)(!1),B=Object(te.a)(z,1)[0],V=Object(s.useState)(!1),W=Object(te.a)(V,2),K=W[0],H=W[1],J=Object(s.useState)(!0),q=Object(te.a)(J,2),Y=q[0],X=q[1],Z=function(){y(!k)},Q=function(){H(!K)},$=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.execute(l,b,g);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"plogin-container ".concat(!k||"plogin-Container r-selected ".concat(!!Y||"plogin-container r-selected agree-view")),children:[Object(r.jsxs)("section",{className:"login-title ".concat(!k||"rlogin-title ".concat(!!Y||"rlogin-title rlogin-title-agreement")),children:[Object(r.jsx)("svg",{className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},onClick:e.exit,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),k?Object(r.jsx)("h2",{style:{textTransform:"none"},children:"Create Account"}):t?Object(r.jsx)("h2",{style:{textTransform:"none"},children:"Log Out"}):Object(r.jsx)("h2",{style:{textTransform:"none"},children:"Log In to Your Accout"})]}),k?Object(r.jsxs)("section",{className:"rform",children:[Y?Object(r.jsxs)("form",{style:{height:"450px"},children:[Object(r.jsx)("input",{value:l,onChange:function(e){return p(e.target.value)},placeholder:"Username",className:"log-input log-form-length disabled",style:{marginLeft:"2px"}}),Object(r.jsx)("input",{value:b,onChange:function(e){return x(e.target.value)},placeholder:"Password",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"17px",marginBottom:"2px"},type:"password"}),Object(r.jsx)("input",{value:N,onChange:function(e){return I(e.target.value)},placeholder:"Email",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"18px",marginBottom:"2px"}}),Object(r.jsx)("input",{value:M,onChange:function(e){return P(e.target.value)},placeholder:"First Name",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"17px",marginBottom:"2px"}}),Object(r.jsx)("input",{value:D,onChange:function(e){return F(e.target.value)},placeholder:"Last Name",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginBottom:"20px",marginTop:"17px"}})]}):Object(r.jsx)(ne,{}),Object(r.jsxs)("div",{className:"keep-session-check",children:[K?Object(r.jsx)("svg",{onClick:Q,style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):Object(r.jsx)("svg",{onClick:Q,style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(r.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px"},onClick:function(){X(!Y)},children:"I agree to terms and conditions"})]}),Y?Object(r.jsx)("a",{className:"login-button",style:{marginTop:"10px"},onClick:function(){if(!0!==K)return alert("please agree to conditions");e.registerUser(l,b,N,M,G,B),e.exit()},children:"Sign Up"}):null,Object(r.jsx)("div",{className:"build-account",children:Object(r.jsx)("a",{style:{fontWeight:"400",color:"blue"},onClick:Z,children:"Cancel"})}),Object(r.jsx)("div",{className:"r-form-fake-bottom"})]}):Object(r.jsxs)("section",{className:"form",children:[t?Object(r.jsx)("img",{style:{height:"100px",borderRadius:"50%",marginTop:"20px"},src:a}):null,t?null:Object(r.jsx)("input",{value:l,onChange:function(e){return p(e.target.value)},placeholder:"Username",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"21px"}}),t?null:Object(r.jsx)("input",{value:b,onChange:function(e){return x(e.target.value)},placeholder:"Password",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"17px"},type:"password"}),t?Object(r.jsx)("div",{className:"keep-session log-form-length"}):Object(r.jsxs)("ul",{className:"keep-session log-form-length",children:[Object(r.jsxs)("div",{className:"keep-session-check",children:[Object(r.jsx)("svg",{onClick:function(){return O(!g)},style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:!1===g?Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}):Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(r.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px"},children:"stay logged in?"})]}),Object(r.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px",color:"blue"},children:"Forgot password?"})]}),t?Object(r.jsx)("a",{className:"login-button",onClick:e.logout,children:"Log Out"}):Object(r.jsx)("a",{className:"login-button",onClick:$,children:"Log In"}),t?Object(r.jsxs)("div",{className:"build-account",children:[Object(r.jsx)("p",{children:"Logged in as:"}),Object(r.jsx)("a",{style:{fontWeight:"400",color:"blue"},children:i})]}):Object(r.jsxs)("div",{className:"build-account",children:[Object(r.jsx)("p",{children:"Need an account?"}),Object(r.jsx)("a",{style:{fontWeight:"400",color:"blue"},onClick:Z,children:"Sign up"})]})]})]})})),se=(n(120),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"load-box",children:[Object(r.jsx)("div",{className:"load-background"}),Object(r.jsx)("div",{className:"load"})]})}}]),n}(s.Component)),ie=n.p+"static/media/cdLabs-logo-1-alpha.8a76484b.png",ae=n.p+"static/media/MM3D2333x50orthofff.66b36e66.png",oe=n.p+"static/media/CDinits.d5585836.png";function ce(){var e=Object(M.a)(["\n\n        \n    @media (min-width:820px) {\n        display:none;\n    }\n\n    border-radius: 5px;\n    list-style-type: none;\n    background-color: #6495ed;\n    box-shadow: 0px 5px 20px -7px #000000;\n    border: solid 1px #3c598e;\n    margin-top: 60px;\n    margin-right: 40px;\n    position: absolute;\n    top: 0;\n    right: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    align-items: baseline;\n    overflow: hidden;\n    z-index: 15;\n    width:","px;\n    height:","px;\n    transition: all 500ms;\n\n    ul {\n        width:250px;\n    }\n    \n    li {\n        text-align:left;\n        color:#fff;\n        margin-left:5px;\n        display:flex;\n    }\n\n    svg {\n        height: 25px;\n        width: 25px;\n        padding:0px;\n        margin-top:2px;\n        margin-right:10px;\n    }\n\n    a {text-decoration:none;}\n\n    ","\n"]);return ce=function(){return e},e}function le(){var e=Object(M.a)(["\n    height:0px;\n    width:0px;\n    transition: all 500ms;\n    \n    ul {\n        display:none;\n    }\n"]);return le=function(){return e},e}var ue=Object(P.a)(le()),de=P.b.nav(ce(),125,(function(e){return e.isLoggedIn?"150":"110"}),(function(e){return!e.isMenuOpen&&ue})),pe=n(50),he=function(e){var t=e.isLoggedIn,n=e.isMenuOpen,s=e.toggleLogin,i=e.toggleMenu;return Object(r.jsx)(de,{isMenuOpen:n,isLoggedIn:t,children:Object(r.jsxs)("ul",{style:{paddingTop:"10px"},onClick:function(){return i()},children:[Object(r.jsxs)("li",{onClick:s,children:[t?Object(r.jsx)(K,{}):Object(r.jsx)(W,{}),t?"Logout":"Login"]}),Object(r.jsx)(pe.Link,{to:"/about",children:Object(r.jsxs)("li",{children:[Object(r.jsx)(H,{}),"About"]})}),Object(r.jsx)(pe.Link,{to:"/explore",children:Object(r.jsxs)("li",{children:[Object(r.jsx)(J,{}),"Explore"]})}),t&&Object(r.jsx)(pe.Link,{to:"/user",children:Object(r.jsxs)("li",{children:[Object(r.jsx)(q,{}),"My page"]})})]})})},je=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this)).trackAdminUser=function(e){var t=localStorage.visited,n=e;!0===e&&void 0!==t&&f.a.post("/api/tracking/setIsAdmin",{unique_id:t,isAdmin:n}).then().catch((function(e){return console.log(e)}))},r.state={username:{},user_name:"",password:"",setPermission:!0,isLoggedInState:null,saveSession:!1,unique_id:null},r.handleLogging=r.handleLogging.bind(Object(j.a)(r)),r.resetState=r.resetState.bind(Object(j.a)(r)),r.toggleMenu=r.toggleMenu.bind(Object(j.a)(r)),r.handleClick=r.handleClick.bind(Object(j.a)(r)),r.handlePassword=r.handlePassword.bind(Object(j.a)(r)),r.handleUserName=r.handleUserName.bind(Object(j.a)(r)),r.toggleLogin=r.toggleLogin.bind(Object(j.a)(r)),r.handleLogout=r.handleLogout.bind(Object(j.a)(r)),r.setSaveSession=r.setSaveSession.bind(Object(j.a)(r)),r.sessionToWindow=r.sessionToWindow.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"sessionToWindow",value:function(e,t){localStorage.setItem(e,t)}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,s,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.visited,localStorage.assigned_browser,r=localStorage.user_name,s=new Date,void 0!=n&&void 0!=localStorage.user_name&&this.props.autoLogin(r,s,n).catch((function(e){return console.log("there was an error",e)})),i=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()},void 0===n&&(a=i(),o=i(),this.sessionToWindow("visited",a),this.sessionToWindow("assigned_browser",o)),void 0!==n&&this.setState({unique_id:n}),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUpdate",value:function(){var e=this.state.setPermission,t=this.props.user;!0===t.isLoggedIn&&!0===e&&(!0===t.user.is_admin&&this.trackAdminUser(!0),this.setState({username:t.user.user.user,isLoggedInState:t.isLoggedIn,setPermission:!1}))}},{key:"resetState",value:function(){this.setState({setPermission:!1,username:{},user_name:"",password:"",isMenuOpen:!1,toggleHideLoggin:!0})}},{key:"handleLogging",value:function(){var e=this.state,t=e.user_name,n=e.password,r=this.props,s=r.loginUser,i=r.logoutUser,a=new Date,o=localStorage.visited;this.toggleLogin(),!1===this.props.isLoggedIn?s(t,n,a,o):i()}},{key:"toggleMenu",value:function(){this.setState({isMenuOpen:!this.state.isMenuOpen})}},{key:"handleClick",value:function(){var e=Object(d.a)(u.a.mark((function e(t,n,r){var s,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.user.menuOpen,s=this.state,s.user_name,s.password,i=localStorage.visited,a=new Date,e.next=6,this.props.loginUser(t,n,a,i);case 6:!0===r&&!0===this.props.user.isLoggedIn?localStorage.setItem("user_name",t):localStorage.removeItem("visited"),this.toggleLogin(),this.setState({user_name:"",password:""});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){this.props.user.menuOpen;localStorage.removeItem("user_name"),localStorage.setItem("visited",function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()}()),this.toggleLogin(),this.props.logoutUser()}},{key:"handleUserName",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{user_name:e}))}},{key:"handlePassword",value:function(e){this.setState(Object(c.a)(Object(c.a)({},this.state),{},{password:e}))}},{key:"toggleLogin",value:function(){var e=this.props.user.loginOpen;this.props.remoteLogin(!e)}},{key:"setSaveSession",value:function(){this.setState({saveSession:!this.state.saveSession})}},{key:"render",value:function(){var e=this.state,t=e.saveSession,n=e.isMenuOpen,s=e.user_name,i=this.props.user,a=i.isLoggedIn,o=i.isLoading,c=i.loginOpen,l=this.props.user.user,u=l.photo,d=l.user;return Object(r.jsxs)(T,{children:[!0===o?Object(r.jsx)(se,{}):null,Object(r.jsx)("img",{onClick:this.viewTheWindow,src:ie,className:"cd-logo"}),Object(r.jsx)("img",{onClick:this.viewTheWindow,src:oe,className:"cd-logo-small"}),Object(r.jsx)(ee.c,{to:"/",style:{textDecoration:"none",color:"#fff"},children:Object(r.jsx)("img",{className:"mm3d-logo",src:ae})}),Object(r.jsxs)("ul",{className:"desktop-nav",children:[Object(r.jsx)(ee.c,{to:"/about",style:{textDecoration:"none"},children:Object(r.jsx)("li",{className:"link-item",children:Object(r.jsx)("a",{children:"About"})})}),Object(r.jsx)(ee.c,{to:"/explore",style:{textDecoration:"none"},children:Object(r.jsx)("li",{className:"link-item",children:Object(r.jsx)("a",{children:"Explore"})})}),a?Object(r.jsx)(ee.c,{to:"/user",style:{textDecoration:"none"},children:Object(r.jsx)("li",{className:"link-item",children:Object(r.jsx)("a",{children:d})})}):Object(r.jsx)("div",{}),Object(r.jsx)("a",{className:"link-button",onClick:this.toggleLogin,children:a?"logout":"Login"})]}),Object(r.jsx)($,{onClick:this.toggleMenu,isLoggedIn:a,photo:u}),Object(r.jsx)(he,{isMenuOpen:n,isLoggedIn:a,toggleLogin:this.toggleLogin,toggleMenu:this.toggleMenu}),c?Object(r.jsx)(re,{current_user:s,setSaveSession:this.setSaveSession,logout:this.handleLogout,execute:this.handleClick,name:this.handleUserName,pass:this.handlePassword,hide:this.state.openLogin,exit:this.toggleLogin,isLoggedIn:this.props.user.isLoggedIn,saveSession:t}):Object(r.jsx)("div",{className:"blank-div"})]})}}]),n}(s.Component);var be=Object(S.b)((function(e){return e}),{loginUser:N,logoutUser:function(){return{type:v,payload:f.a.get("/auth/logout")}},updateUser:C,autoLogin:function(e,t,n){return{type:y,payload:f.a.post("/auth/browser/login",{user_name:e,last_visit:t,visited:n})}},remoteLogin:L})(je),xe=n(24),me=n(18),fe={models:[],featured:[],isloading:!1},ge="GET_MODELS",Oe="GET_FEATURED";function ve(){return{type:ge,payload:f.a.get("/api/project/join")}}n(53);var we=function(e){var t=function(e){return Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})};return Object(r.jsx)("div",{children:Object(r.jsx)("svg",{style:{margin:"auto",marginLeft:"10px",marginRight:"10px",height:"40px",width:"40px",opacity:"60%",color:"#6495ed",paddingTop:"10px"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:function(e){switch(e){case"download_icon":return Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"});case"large_heart":case"large_heart_dark":return t();case"edit_project":return Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"});case"comments":return Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"});case"folder":return Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2,d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"});case"info":return Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"});case"largeX":return Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"});case"send":return Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})}}(e.params)})})};function ke(){var e=Object(M.a)(["\n    margin-right: 15px;\n    padding-right: 1px;\n\n    aside {\n        border-left:1px solid #555555;\n        height: 40px;\n        width: 131px;\n        margin: none;\n        display: flex;\n        align-items: center;\n        color: #555;\n        font-size: 15px;\n\n        svg {\n            margin-left: 10px;\n            margin-bottom: 7px;\n        }\n    }\n\n    @media (max-width:1000px) {\n        margin-right: 15px;\n        padding-right: 1px;\n    }\n"]);return ke=function(){return e},e}function ye(){var e=Object(M.a)(["\n    border-top:1px solid #555;\n    height: 200px;\n    display: flex;\n    align-items: center;\n    // background-color:blue;\n"]);return ye=function(){return e},e}function _e(){var e=Object(M.a)(["\n    background-color: #000;\n    overflow: hidden;\n    margin-bottom: auto;\n    max-height: 160px;\n\n    img {\n        opacity: 0.7;\n        width: 280px;\n        max-height: 188px;\n        -webkit-transform: scale(2.15);\n        -ms-transform: scale(2.15);\n        transform: scale(1.15);\n        -webkit-transition: -webkit-transform 0.5s, opacity 0.5s;\n        transition: transform 0.5s, opacity 0.5s;\n        overflow: hidden;\n\n        &:hover {\n            opacity: 1;\n            -webkit-transform: scale(1.03);\n            -ms-transform: scale(1.03);\n            transform: scale(1.03);\n        }\n    }\n\n"]);return _e=function(){return e},e}function Le(){var e=Object(M.a)(["\n    height: 30px;\n    width: 30px;\n    border-radius: 50%;\n    margin-right: 5px;\n    margin-left: 10px;\n"]);return Le=function(){return e},e}function Ne(){var e=Object(M.a)(["\n    border-radius: 5px;\n    margin: 10px;\n    height: 350px;\n    width: 280px;\n    box-shadow: 0px 5px 20px -7px #000000;\n    background-color: #fff;\n    text-align: left;\n    display: flex;\n\tflex-direction: column;\n    justify-content: space-between;\n    overflow:hidden;\n\n    header {\n        display: flex;\n        align-items: center;\n        margin-top: 5px;\n        margin: 0px;\n        opacity: .8;\n    }\n\n    @media (max-height:520px) {\n        height: 330px;\n    }\n\n    @media (max-width:1000px) {\n        width: 240px;\n        margin-left:0px;\n        margin-right:20px;\n\n        footer {a{\n            font-size: 12px;\n            font-weight: 400;\n        }}\n\n        h5 {font-size: 14px;}\n    }\n"]);return Ne=function(){return e},e}var Ie=P.b.section(Ne()),Ce=P.b.img(Le()),Se=P.b.section(_e()),Me=P.b.footer(ye()),Pe=P.b.div(ke());var Ue=Object(S.b)((function(e){return e}),{getModels:ve,updateUser:C,remoteLogin:L})((function(e){var t=e.data,n=t.firebase_url,i=t.firebase_url01,a=t.name,o=t.user_name,c=t.model_id,l=t.photo_url,p=t.user_id,h=t.likes,j=e.isLoggedIn,b=e.id,x=e.user_likes,m=Object(s.useState)(0),g=Object(te.a)(m,2),O=g[0],v=g[1],w=Object(s.useState)(!1),k=Object(te.a)(w,2),y=k[0],_=k[1];Object(s.useEffect)((function(){v(h),!0===S()&&!1===y&&_(!0)}),[]);var L=function(){window.scrollTo(0,0),e.remoteLogin(!0)},N=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,s=n,e.next=4,f.a.post("/api/projects/like",{user_id:r,model_id:s});case 4:return e.next=6,I(s);case 6:return e.next=8,_(!y);case 8:return e.next=10,S(y);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("params",t),f.a.get("/api/like/update/".concat(t)).then((function(e){var t=e.data[0].likes;v(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){!0===j&&void 0!=b?N(b,c):L()},S=function(t){return!0===e.projectIsLiked(c,x)};return Object(r.jsxs)(Ie,{children:[Object(r.jsxs)("header",{style:{backgroundColor:""},children:[Object(r.jsx)(ee.c,{to:"/viewuser/".concat(p),children:Object(r.jsx)(Ce,{src:function(){var t=e.user_photo_url;return void 0!=l?l:t}()})}),Object(r.jsxs)("h5",{className:"dark-text",style:{color:"#555",paddingBottom:"15px",paddingTop:"",fontWeight:"400"},children:[a,Object(r.jsx)("br",{}),Object(r.jsxs)("i",{children:["by ",function(){var t=e.current_user_name;return void 0!=o?o:t}()]})]})]}),Object(r.jsx)(ee.c,{to:"/projectdetails/".concat(c),children:Object(r.jsx)(Se,{children:Object(r.jsx)("img",{src:i})})}),Object(r.jsxs)(Me,{children:[Object(r.jsx)("div",{onClick:function(){return!0===j?window.open(n):L()},children:Object(r.jsx)(we,{params:"download_icon",fill:"none",stroke:"currentColor"})}),j?Object(r.jsx)("a",{style:{marginRight:"10px",textDecoration:"none"},href:"".concat(n),target:"_blank",rel:"noopener noreferrer",children:"download"}):Object(r.jsx)("a",{style:{marginRight:"10px",color:"#555"},onClick:function(){return L()},children:"download"}),Object(r.jsxs)(Pe,{children:[Object(r.jsxs)("aside",{style:{borderBottom:"1px solid #555"},children:[!1===y?Object(r.jsx)("svg",{className:"small-icon",onClick:C,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(r.jsx)("svg",{className:"small-icon",onClick:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),Object(r.jsx)("p",{style:{marginLeft:"10px"},children:O})]}),Object(r.jsxs)("aside",{children:[Object(r.jsx)("svg",{className:"small-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),Object(r.jsx)("p",{style:{marginLeft:"10px"},children:"share"})]})]})]})]})})),Te=n(58),De=n.n(Te),Fe=(n(140),function(e){var t=e.video_url,n=e.firebase_url,s=e.category,i=e.tag,a=e.photo_url,o=e.user_name,c=e.name,l=e.video_name;return Object(r.jsxs)("div",{className:"player-container",children:[Object(r.jsxs)("header",{className:"video-title",children:[Object(r.jsx)("img",{className:"video-user-photo",src:a}),Object(r.jsxs)("div",{className:"vidnm-and-usrnm",children:[" ",Object(r.jsx)("h4",{className:"dark-text video-nm-txt",children:"dummy project"===c?l:c}),Object(r.jsxs)("i",{style:{marginRight:"60px"},children:["Video by ",o]})," "]})]}),Object(r.jsxs)("div",{className:"",style:{marginTop:"50px"},children:[Object(r.jsx)("div",{className:"reg-size",children:Object(r.jsx)(De.a,{className:"react-player",url:t,width:"298px",height:"191px",controls:!0})}),Object(r.jsx)("div",{className:"small-size",children:Object(r.jsx)(De.a,{className:"react-player",url:t,width:"240px",height:"150px",controls:!0})}),Object(r.jsxs)("div",{className:"video-info-container",children:[Object(r.jsx)("header",{className:"video-header",children:Object(r.jsxs)("p",{className:"video-header-text",children:[s,": ",i]})}),null===n?Object(r.jsx)("p",{className:"video-container-text",children:"There are no files associated with this video"}):Object(r.jsxs)("p",{className:"video-container-text",children:["Click ",Object(r.jsx)("a",{href:n,children:"here"})," to download the files used in this video"]})]})]})]})}),Ee=n.p+"static/media/blender_background.a862b66c.png";function Re(){var e=Object(M.a)(["\n    ","\n    right:3px;\n    "]);return Re=function(){return e},e}function Ae(){var e=Object(M.a)(["\n    ","\n    left:3px;\n"]);return Ae=function(){return e},e}function Ge(){var e=Object(M.a)(["\n    border-radius:50%;\n    position:absolute;\n    z-index:1000000000000000000000;\n    // top:80%;\n    border:solid #fff 1px;\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, .7);\n    height:50px;\n    width:50px;\n"]);return Ge=function(){return e},e}function ze(){var e=Object(M.a)(["\n    position:absolute;\n    min-width:100vw;\n    height:100%;\n    // background-color:green;\n    display:flex;\n    flex-direction:row;\n    align-items:center;\n    left:","px;\n    transition:all 1000ms;\n"]);return ze=function(){return e},e}function Be(){var e=Object(M.a)(["\n    position:relative;\n    height: 70vh;\n    width: 100vw;\n    // display: flex;\n    // align-items: center;\n    overflow: none;\n    z-index: 0;\n    margin-left:10px;\n\n    @media (max-width:350px) {\n        width:240px;\n        height:370px;\n        overflow:hidden;\n        margin:auto;\n    }\n"]);return Be=function(){return e},e}function Ve(){var e=Object(M.a)(["\n    width: 100vw;\n\n    @media (max-width:400px) {display:none;}\n    @media (max-height:525px) {display:none;}\n"]);return Ve=function(){return e},e}function We(){var e=Object(M.a)(["\n    position:relative;\n    height: 90vh;\n    width: 100vw;\n    background-image: linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0)),url(",");\n    background-size: cover; \n    background-position: center bottom;\n    background-attachment: fixed;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-around;\n    align-items: baseline;\n    // overflow-x: scroll;\n    overflow:hidden;\n    border-bottom: solid 20px #6495ed;\n\n    @media (max-width:300px) {\n        min-width: 300px;\n    }\n\n    @media (min-height:700px) {\n        height: 92vh;\n    }\n\n    @media (min-height:850px) {\n        height: 94vh;   \n    }\n"]);return We=function(){return e},e}var Ke=P.b.section(We(),Ee),He=P.b.h2(Ve()),Je=P.b.section(Be()),qe=P.b.section(ze(),(function(e){return e.positionCounter})),Ye=Object(P.a)(Ge()),Xe=P.b.button(Ae(),Ye),Ze=P.b.button(Re(),Ye),Qe=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getFeaturedVideos=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(),t.next=3,e.props.getFeatured();case 3:return t.next=5,f.a.get("/api/videos/featured").then((function(t){e.setState({videos:t.data,loading:!1})}));case 5:case"end":return t.stop()}}),t)}))),e.state={projects:[],videos:[],user_name:"",password:"",userLikes:null,loading:!1,positionCounter:0},e.stateHandler=e.stateHandler.bind(Object(j.a)(e)),e.projectIsLiked=e.projectIsLiked.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getFeaturedVideos()}},{key:"setLoading",value:function(){this.setState({loading:!this.state.loading})}},{key:"stateHandler",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,s=t.videos,i=t.positionCounter,a=this.props.user.isLoggedIn,o=this.props.user.user,c=o.user_likes,l=o.model_likes,u=this.props.models.featured.map((function(t){return Object(r.jsx)(Ue,{data:t,projectIsLiked:e.projectIsLiked,isLoggedIn:a,model_likes:l,likes:t.likes,id:t.user_id,user_likes:c},t.model_id)})),d=s.map((function(e){return Object(r.jsx)(Fe,{video_url:e.video_url,category:e.category,tag:e.tag,firebase_url:e.firebase_url,photo_url:e.photo_url,user_name:e.user_name,name:e.name,video_name:e.video_name},e.video_id)}));return Object(r.jsxs)(Ke,{children:[!n||Object(r.jsx)(se,{}),Object(r.jsx)(He,{className:"",children:"IMAGINE IT - BUILD IT."}),Object(r.jsx)(Je,{children:Object(r.jsxs)(qe,{positionCounter:i,children:[d,u]})}),i<0&&Object(r.jsx)(Xe,{onClick:function(){return e.stateHandler("positionCounter",i+260)},children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),i>=-260*(d.length+u.length-2)&&Object(r.jsx)(Ze,{onClick:function(){return e.stateHandler("positionCounter",i-260)},children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})}}]),n}(s.Component);var $e=Object(S.b)((function(e){return e}),{loginUser:N,updateUser:C,getModels:ve,getFeatured:function(){return{type:Oe,payload:f.a.get("api/featured/join")}}})(Qe),et=(n(141),function(e){return Object(r.jsxs)("div",{className:"group-page",children:[Object(r.jsx)("ul",{}),Object(r.jsx)("h3",{children:"group page"})]})}),tt=(n(45),"GET_PROJECTS");function nt(){return{type:tt,payload:f.a.get("/api/projects/all")}}var rt=n(41),st=n.n(rt),it=n(83).a.initializeApp({apiKey:"AIzaSyB6ImzEUWfnyXD6bcpNEN8ktaMSfos8Js0",authDomain:"depot-7bb3e.firebaseapp.com",projectId:"depot-7bb3e",storageBucket:"depot-7bb3e.appspot.com",messagingSenderId:"38861699624",appId:"1:38861699624:web:b1d9abfce822f3a4d2531d",measurementId:"G-DSTFFPFHLD"}),at=(it.firestore(),{isLoading:!1,url:{},error:!1}),ot="DELETE_FILE",ct="ADD_TO_FIREBASE",lt="REF_FROM_URL",ut=function(e){var t=it.storage().refFromURL(e);return{type:ot,payload:t.delete().then((function(e){}))}},dt=function(e,t){var n=it.storage().ref(t).child(e.name).put(e);return{type:ct,payload:n}};n(142);var pt=n(34);n(143);function ht(){var e=Object(M.a)(["\n    position: absolute;\n    background: linear-gradient(0turn,#5077be,#6495ed);\n    height: 50px;\n    width: 200px;\n    border-radius: 2px;\n    font-size: 14px;\n    border:solid 1px #3c598e;\n    z-index: 0;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n    align-content: stretch;\n    color: #fff;\n\n    @media (max-width:700px) {\n        height: 25px;\n        width: 80px;\n        \n"]);return ht=function(){return e},e}function jt(){var e=Object(M.a)(["\n    position: fixed;\n    top: 100px;\n    height: 350px;\n    width: 400px;\n    z-index: 1000;\n\n    @media(max-width:700px){\n        width: 298px;\n\n        img {\n            width: 100%;\n            box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\n        }\n    }\n"]);return jt=function(){return e},e}var bt=P.b.section(jt()),xt=P.b.button(ht()),mt=function(e){var t=e.previewImageFile,n=e.photo_url,s=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addPhoto(n);case 2:return t.next=4,i();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){e.handleInput("previewImageFile",null),e.handleInput("photo_url",null)};return Object(r.jsxs)(bt,{children:[Object(r.jsx)("img",{src:t}),Object(r.jsx)(xt,{style:{width:"50%"},onClick:function(){return s()},children:"Submit"}),Object(r.jsx)(xt,{style:{right:"0px",width:"50%"},onClick:function(){return i(["string"])},children:"Cancel"})]})},ft=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r,s;return Object(p.a)(this,n),(s=t.call(this,e)).removeFileFromSpace=Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.props.info,n=t.firebase_url,r=t.model_id,s.setIsLoading(),null==n){e.next=5;break}return e.next=5,s.props.deleteFile(n);case 5:return e.next=7,s.deleteAllImages(!0);case 7:return e.next=9,f.a.delete("".concat("/api/project/delete/").concat(r));case 9:s.setIsLoading(),s.props.setIsDeleted();case 11:case"end":return e.stop()}}),e)}))),s.deleteAllImages=function(e){var t=s.props.modelImages,n=Object(pt.a)(t);!0===e&&n.map((function(e){s.props.deleteFile(e.photo_url)}))},s.replaceModelFile=Object(d.a)(u.a.mark((function e(){var t,n,r,i,a,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state,t.photo_url,n=t.file_url,r=s.props.info,i=r.model_id,a=r.firebase_url,s.props.user_id,s.setIsLoading(),e.next=6,s.props.getRefFromUrl(a).payload;case 6:return o=e.sent,e.prev=7,e.next=10,s.props.deleteFile(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log("this file doesnt exist");case 15:return e.next=17,s.props.addNewModel(n,o);case 17:return c=e.sent,e.next=20,c.action.payload.ref.getDownloadURL();case 20:return l=e.sent,e.next=23,s.newModelToDB(i,l);case 23:s.setIsLoading();case 24:case"end":return e.stop()}}),e,null,[[7,12]])}))),s.newModelToDB=function(e,t){f.a.post("/api/project/update/file",{url:t,model_id:e})},s.fileHandler=function(){var e=Object(d.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],s.setState((i={},Object(me.a)(i,r,a),Object(me.a)(i,n,URL.createObjectURL(a)),i));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s.handlePhoto=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t.target.files[0]&&(n=!0),n)try{st.a.imageFileResizer(t.target.files[0],400,267,"JPEG",100,0,(function(e){console.log(e,"uri"),s.setState({previewImageFile:URL.createObjectURL(e),photo_url:e})}),"file",298,191)}catch(r){console.log(r)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.setIsLoading=function(){s.setState({isLoading:!s.state.isLoading})},s.passNewPhotoToFB=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.photo_url,s.addPhoto(t),s.setState({previewImageFile:null}),e.next=5,s.props.getImages();case 5:case"end":return e.stop()}}),e)}))),s.addPhoto=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,i,a,o,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.props,r=n.model_id,i=n.info,a=i.user_id,o=i.name,s.setIsLoading(),e.next=5,s.props.addNewModel(t,"madmodels/projects/".concat(a,"/").concat(o,"/"));case 5:return c=e.sent,e.next=8,c.action.payload.ref.getDownloadURL();case 8:return l=e.sent,e.next=11,f.a.post("/api/project/photos/put",{model_id:r,name:o,photo_url:l});case 11:return e.next=13,s.props.getImages();case 13:s.setState({previewImageFile:null}),s.setIsLoading();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.executeChange=Object(d.a)(u.a.mark((function e(){var t,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.info.model_id,n=s.state,r=n.name,i=n.description,s.setIsLoading(),e.next=5,f.a.post("/api/project/edit/name",{name:r,description:i,model_id:t});case 5:s.setIsLoading(),s.props.getDetails();case 7:case"end":return e.stop()}}),e)}))),s.confirmDelete=function(){s.setState({openDeleteConfirm:!s.state.openDeleteConfirm})},s.state=(r={name:s.props.info.name,user_id:s.props.info.user_id,description:s.props.info.description,photo_url:null,file_url:null,isLoading:!1,imageUr1:null,openDeleteConfirm:!1},Object(me.a)(r,"isLoading",!1),Object(me.a)(r,"previewImageFile",null),Object(me.a)(r,"isDeleted",!1),Object(me.a)(r,"newImage",""),r),s.handleInput=s.handleInput.bind(Object(j.a)(s)),s.executeChange=s.executeChange.bind(Object(j.a)(s)),s.fileHandler=s.fileHandler.bind(Object(j.a)(s)),s.addPhoto=s.addPhoto.bind(Object(j.a)(s)),s.setIsLoading=s.setIsLoading.bind(Object(j.a)(s)),s.removeFileFromSpace=s.removeFileFromSpace.bind(Object(j.a)(s)),s.confirmDelete=s.confirmDelete.bind(Object(j.a)(s)),s.newModelToDB=s.newModelToDB.bind(Object(j.a)(s)),s.replaceModelFile=s.replaceModelFile.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"handleInput",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.previewImageFile,s=t.isLoading,i=t.openDeleteConfirm,a=t.photo_url,o=t.description,c=t.name,l=t.file_url;return Object(r.jsxs)("div",{className:"edit-project-container",children:[s?Object(r.jsx)(se,{}):null,Object(r.jsx)("button",{style:{width:"30px",height:"20px",fontSize:"10px",marginLeft:"85%",marginTop:"10px"},onClick:function(){return e.confirmDelete()},children:"delete"}),i?Object(r.jsxs)("div",{className:"select-delete",children:[Object(r.jsx)("p",{onClick:function(){return e.removeFileFromSpace()},children:"yes"}),Object(r.jsx)("p",{onClick:function(){return e.confirmDelete()},children:"no"})]}):null,Object(r.jsx)("div",{className:"section-title",children:Object(r.jsx)("p",{style:{color:"#555"},children:"Add Image / Update File"})}),n&&Object(r.jsx)(mt,{previewImageFile:n,photo_url:a,addPhoto:this.addPhoto,handleInput:this.handleInput}),l?Object(r.jsxs)("section",{className:"replace-file-warning",children:[Object(r.jsx)("h4",{children:"replace file?"}),Object(r.jsxs)("span",{className:"select-delete",style:{height:"50px",backgroundColor:"#5077be"},children:[Object(r.jsx)("p",{className:"delete-button-txt",onClick:function(){return e.replaceModelFile()},children:"yes"}),Object(r.jsx)("p",{className:"delete-button-txt",onClick:function(){return e.handleInput("file_url",null)},children:"no"})]})]}):null,Object(r.jsxs)("section",{className:"edit-project-row row-x",style:{height:"30px",color:"#555"},children:[null===n&&null===l?Object(r.jsxs)("div",{className:"edit-file-input-box ",children:[Object(r.jsx)("div",{className:"edit-file-button ",children:Object(r.jsx)("p",{children:"Add Image"})}),Object(r.jsx)("input",{className:"fake-input-file ",style:{marginLeft:"40px"},type:"file",accept:"image/png,image/jpeg",onChange:function(t){return e.handlePhoto(t)}})]}):null,null===n&&null===l?Object(r.jsxs)("div",{className:"edit-photo-input-box",children:[Object(r.jsx)("div",{className:"edit-file-button",children:Object(r.jsx)("p",{children:"New File"})}),Object(r.jsx)("input",{className:"fake-input-file",style:{marginLeft:"40px"},type:"file",accept:".blend,.stl",onChange:function(t){return e.fileHandler(t,null,"file_url")}})]}):null]}),Object(r.jsx)("section",{className:"edit-project-row text-input-row",children:Object(r.jsxs)("div",{className:"input-left-column",children:[Object(r.jsx)("div",{className:"section-title",children:Object(r.jsx)("p",{style:{color:"#555"},children:"Name"})}),Object(r.jsx)("input",{value:c,className:"text-input",onChange:function(t){return e.handleInput("name",t.target.value)}}),Object(r.jsx)("div",{className:"section-title",children:Object(r.jsx)("p",{style:{color:"#555"},children:"Description"})}),Object(r.jsx)("textarea",{name:"text",rows:"5",cols:"50",wrap:"soft",placeholder:"text",value:o,className:"text-input input-description",onChange:function(t){return e.handleInput("description",t.target.value)},children:" "})]})}),Object(r.jsx)("div",{className:"section-title",children:Object(r.jsx)("p",{style:{color:"#555"},children:"Submit Changes / Delete"})}),null===n&&null===l?Object(r.jsx)("div",{className:"edit-file-button",style:{position:"relative",marginTop:"10px",height:"30px",width:"80px"},onClick:function(){return e.executeChange()},children:Object(r.jsx)("p",{children:"Submit"})}):null]})}}]),n}(s.Component),gt=Object(S.b)((function(e){return e}),{addNewModel:dt,deleteFile:ut,getRefFromUrl:function(e){var t=it.storage().refFromURL(e).fullPath.split("/").slice(0,-1).join("/");return{type:lt,payload:t}}})(ft);n(144);function Ot(){var e=Object(M.a)(["\n    opacity: .01;\n    left: 5px;\n    bottom: 5px;\n    width: 150%;\n    height: 27%;\n    z-index: 1;\n"]);return Ot=function(){return e},e}function vt(){var e=Object(M.a)(["\n    opacity: .5;\n    height: 20px;\n    width: 100%;\n    border-top: solid 1px #6495ed;\n    margin-top: 10px;\n    text-align: left;\n    margin-left: 5px;\n    font-size: x-small;\n    font-weight: 600;\n"]);return vt=function(){return e},e}function wt(){var e=Object(M.a)(["\n    width: 100%;\n    height: 300px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    align-items: center;\n"]);return wt=function(){return e},e}function kt(){var e=Object(M.a)(["\n    position: absolute;\n    height: 300px;\n    width: 100%;\n    bottom: 40px;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    align-content: flex-start;\n    transition: all 100ms;\n"]);return kt=function(){return e},e}function yt(){var e=Object(M.a)(["\n    color: #fff;\n    position: absolute;\n    text-transform: none;\n    top: -1px;\n    height: 80px;\n    width: 100%;\n    background: linear-gradient(0turn,#5077be,#6495ed);\n    padding-top: 10%;\n    margin: none;\n    transition: all 100ms;\n\n    h2 {text-transform:none;}\n"]);return yt=function(){return e},e}function _t(){var e=Object(M.a)(["\n\n    height: 450px;\n    width: 300px;\n    border-radius: 3%;\n    background-color: #fff;\n    color: #555;\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-wrap: nowrap;\n\tjustify-content: flex-start;\n    align-items: flex-start;\n\talign-content: center;\n    top: 5vh;\n\tflex-direction: column;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n    position: fixed;\n    z-index:10;\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\n    margin: none;\n    overflow: hidden;\n"]);return _t=function(){return e},e}var Lt=P.b.section(_t()),Nt=P.b.header(yt()),It=P.b.form(kt()),Ct=P.b.div(wt()),St=P.b.header(vt()),Mt=Object(P.a)(Ot());function Pt(){var e=Object(M.a)(["\n    position: absolute;\n    top: 10px;\n    height: 40px;\n    width: 300px;\n    color: #555;\n    z-index: 10000;\n    ","\n"]);return Pt=function(){return e},e}function Ut(){var e=Object(M.a)(["\n    margin-bottom: 50px;\n    margin-left: 45px;\n    height: 25px;\n    width: 200px;\n    border-radius: 2px;\n    font-size: 18px;\n    border:solid 1px #3c598e;\n    z-index: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ut=function(){return e},e}function Tt(){var e=Object(M.a)(["\n    position: absolute;\n    height: 80px;\n    width: 100%;\n    display: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\talign-items: center;\n\talign-content: stretch;\n    overflow: none;\n"]);return Tt=function(){return e},e}var Dt=P.b.div(Tt()),Ft=P.b.button(Ut()),Et=P.b.input(Pt(),Mt),Rt=function(e){var t=e.handleFile,n=e.getFileName;return Object(r.jsx)(Dt,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(Ft,{children:n()}),Object(r.jsx)(Et,{style:{marginLeft:"40px"},type:"file",accept:".blend,.stl",onChange:function(e){return t(e)}})]})})};function At(){var e=Object(M.a)(["\n    position: relative;\n    height: 90px;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: flex-start;\n    align-content: center;\n\n    img {\n        width:80px;\n        height:80px;\n        border-radius:10px;\n        margin-left:35%;\n        margin-bottom:0px;\n        // background-color:yellow;\n    }\n\n    input[type='file']\n    {\n        text-indent: -999em;\n        outline: none;\n        position: absolute;\n        left: 20%;\n        opacity: .1;\n        height: 80px;\n        width: 80px;\n        z-index: 10000;\n    }\n    "]);return At=function(){return e},e}var Gt=P.b.div(At()),zt=function(e){var t=e.previewImageFile,n=e.handlePhoto;return Object(r.jsxs)(Gt,{children:[Object(r.jsx)("img",{src:t}),Object(r.jsx)("input",{style:{marginLeft:"40px"},type:"file",accept:"image/png,image/jpeg",onChange:function(e){return n(e)}})]})},Bt=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getFileName=function(){return null!=e.props.file?e.props.file.name:"Add File"},e.state={description:"",name:"",previewImageFile:null},e.getFileName=e.getFileName.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)(Lt,{children:[Object(r.jsxs)(Nt,{children:[Object(r.jsx)(B,{onClick:function(){return e.props.resetView()}}),Object(r.jsx)("h2",{children:"Create a project"})]}),Object(r.jsxs)(It,{onSubmit:function(t){return e.props.createNewProject(t)},children:[Object(r.jsx)(Ct,{children:Object(r.jsx)(Rt,{getFileName:this.getFileName,handleFile:this.props.handleFile})}),this.props.file&&Object(r.jsxs)(Ct,{children:[Object(r.jsx)(St,{children:Object(r.jsx)("p",{children:"Add Photo"})}),Object(r.jsx)(zt,{handlePhoto:this.props.handlePhoto,previewImageFile:this.props.previewImageFile})]}),Object(r.jsx)(St,{children:Object(r.jsx)("p",{children:"Name and description"})}),Object(r.jsx)("input",{placeholder:"Name",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"21px"},required:!0,onChange:function(t){return e.props.handleAddText("projectName",t.target.value)}}),Object(r.jsx)("textarea",{placeholder:"description",name:"text",rows:"5",cols:"50",wrap:"soft",className:"text-input input-description",onChange:function(t){return e.props.handleAddText("projectDescription",t.target.value)}}),this.props.file&&Object(r.jsx)("button",{style:{marginTop:"10px"},type:"submit",children:"Submit"})]})]})}}]),n}(s.Component),Vt=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getProjects=function(){var t=e.props.user.user.id;f.a.get("/api/projects/".concat(t)).then((function(t){return e.setState(Object(c.a)(Object(c.a)({},e.state),{},{data:t.data}))}))},e.createNewProject=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i,a,o,c,l,d,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,s=r.file,i=r.imageFile,r.fileUrl,r.imageUrl,r.projectDescription,a=r.projectName,o=e.props.user.user.id,void 0==e.state.file.name){t.next=26;break}return e.props.setIsLoading(),t.next=8,e.props.addNewModel(s,"madmodels/projects/".concat(o,"/").concat(a,"/"));case 8:return c=t.sent,t.next=11,c.action.payload.ref.getDownloadURL();case 11:if(l=t.sent,d=null,null==i){t.next=20;break}return t.next=16,e.props.addNewModel(i,"madmodels/projects/".concat(o,"/").concat(a,"/"));case 16:return p=t.sent,t.next=19,p.action.payload.ref.getDownloadURL();case 19:d=t.sent;case 20:return t.next=22,e.addToDatabase(l,d);case 22:return t.next=24,e.getProjects();case 24:e.props.resetView(),e.props.setIsLoading();case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setFileUrl=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({fileUrl:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setImageUrl=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({imageUrl:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleFile=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.files[0],t.t0=e,t.next=4,r;case 4:t.t1=t.sent,t.t0.addFile.call(t.t0,t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePhoto=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.files[0],t.t0=e,t.next=4,r;case 4:t.t1=t.sent,t.t0.addPhoto.call(t.t0,t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fileHandler=function(){var t=Object(d.a)(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.state,r.file,r.fileUrl,r.imageFile,r.imageUrl,!0,e.sendIntoSpace();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fileHandlerRemove=function(t){e.setState({file:null})},e.handleDelete=function(t){e.setState({imageFile:null})},e.sendIntoSpace=Object(d.a)(u.a.mark((function t(){var n,r,s,i,a,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.file,s=n.imageFile,n.fileUrl,n.imageUrl,i=n.projectDescription,a=n.projectName,e.props.username.user.id,a,i,"firebase_url",e.state.fileUrl,e.props.setIsLoading(),t.next=9,e.getFileUrl(r);case 9:return o=t.sent,t.t0=e,t.next=13,o.getDownloadURL();case 13:if(t.t1=t.sent,t.t0.setFileUrl.call(t.t0,t.t1),null==s){t.next=24;break}return t.next=18,e.getImUrl(s);case 18:return c=t.sent,t.t2=e,t.next=22,c.getDownloadURL();case 22:t.t3=t.sent,t.t2.setImageUrl.call(t.t2,t.t3);case 24:return t.next=26,e.addToDatabase(e.state.fileUrl,e.state.imageUrl);case 26:return t.next=28,e.getProjects();case 28:e.props.setIsLoading(),e.props.resetView();case 30:case"end":return t.stop()}}),t)}))),e.getImUrl=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user.user.id,s=it.storage().ref("madmodels/projects/".concat(r,"/")),i=s.child(n.name),t.next=5,i.put(n);case 5:return console.log("image loaded"),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getFileUrl=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.user.user.id,s=it.storage().ref("madmodels/projects/".concat(r,"/")),i=s.child(n.name),t.next=5,i.put(n);case 5:return console.log("file loaded"),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeFileFromSpace=function(){var t=Object(d.a)(u.a.mark((function t(n,r,s){var i,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.setIsLoading(),null==n){t.next=7;break}return t.next=4,it.storage().refFromURL(n);case 4:return i=t.sent,t.next=7,i.delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error",e)}));case 7:if(null==s){t.next=13;break}return t.next=10,it.storage().refFromURL(s);case 10:return a=t.sent,t.next=13,a.delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error",e)}));case 13:return t.next=15,f.a.delete("/api/project/delete/".concat(r));case 15:e.props.setIsLoading();case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),e.addToDatabase=function(){var t=Object(d.a)(u.a.mark((function t(n,r){var s,i,a,o,c,l,d,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("this is from addToDatabase function"),s=e.state,i=s.projectDescription,a=s.projectName,o=e.props.user.user.id,c=a,l=i,d=n,p=r,!1,t.next=10,f.a.post("/api/project/post",{id:o,name:c,description:l,firebase_url:d,firebase_url01:p,is_hidden:false}).then((function(e){return e.status}));case 10:return t.next=12,e.props.getProjects();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.state={openEditModel:!1,data:[],fileUrl:null,file:null,previewImageFile:null,previewModelFile:null,imageFile:null,imageUrl:null,newItem:{},props:null,openAddProject:!1,projectName:"",projectDescription:""},e.setFileUrl=e.setFileUrl.bind(Object(j.a)(e)),e.handleFile=e.handleFile.bind(Object(j.a)(e)),e.addFile=e.addFile.bind(Object(j.a)(e)),e.addPhoto=e.addPhoto.bind(Object(j.a)(e)),e.handlePhoto=e.handlePhoto.bind(Object(j.a)(e)),e.fileHandler=e.fileHandler.bind(Object(j.a)(e)),e.addToDatabase=e.addToDatabase.bind(Object(j.a)(e)),e.fileHandlerRemove=e.fileHandlerRemove.bind(Object(j.a)(e)),e.removeFileFromSpace=e.removeFileFromSpace.bind(Object(j.a)(e)),e.addNewProject=e.addNewProject.bind(Object(j.a)(e)),e.getImUrl=e.getImUrl.bind(Object(j.a)(e)),e.getFileUrl=e.getFileUrl.bind(Object(j.a)(e)),e.handleAddText=e.handleAddText.bind(Object(j.a)(e)),e.projectIsLiked=e.projectIsLiked.bind(Object(j.a)(e)),e.getProjects=e.getProjects.bind(Object(j.a)(e)),e.createNewProject=e.createNewProject.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getProjects()}},{key:"handleAddText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"addFile",value:function(e){this.setState({file:e,previewModelFile:URL.createObjectURL(e)})}},{key:"addPhoto",value:function(e){this.setState({imageFile:e,previewImageFile:URL.createObjectURL(e)})}},{key:"handleChange",value:function(e){this.setState({file:e})}},{key:"addNewProject",value:function(e){this.setState({openAddProject:!this.state.openAddProject})}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=(t.openAddProject,t.openEditModel,t.previewImageFile),s=t.previewModelFile,i=t.data,a=t.file,o=this.props,c=o.photo_url,l=o.user,u=o.showCreateProject,d=i.map((function(t){return Object(r.jsx)(Ue,{data:t,name:t.name,img:t.firebase_url01,file:t.firebase_url,id:t.model_id,delete:e.deleteModel,removeFileFromSpace:e.removeFileFromSpace,openEdidModel:e.openEditModel,projectIsLiked:e.projectIsLiked,user_photo_url:c,current_user_name:l.user.user},t.model_id)}));return Object(r.jsxs)("div",{className:"collections",children:[u&&Object(r.jsx)(Bt,{resetView:this.props.resetView,handleFile:this.handleFile,handleAddText:this.handleAddText,handlePhoto:this.handlePhoto,previewImageFile:n,previewModelFile:s,file:a,sendIntoSpace:this.sendIntoSpace,createNewProject:this.createNewProject}),d]})}}]),n}(s.Component);var Wt=Object(S.b)((function(e){return e}),{getProjects:nt,addNewModel:dt})(Vt),Kt=(n(145),n(146),it.firestore(),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).userInfoFromProps=function(){var e=r.props.user.user,t=e.email,n=e.photo,s=e.user,i=e.background_url,a=e.name,o=e.id,c=e.last_name;r.setState({first_name:a,last_name:c,user_name:s,photoUrl:n,background_url:i,email:t,user_id:o})},r.launchNewPass=Object(d.a)(u.a.mark((function e(){var t,n,s,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({setPermission:!0}),t=r.state,n=t.newPassword1,s=t.newPassword2,i=t.oldPassword,a=r.props.user.user.user,o=a,n===s&&f.a.post("/auth/password",{newPassword1:n,newPassword2:s,oldPassword:i,user_name:o}).then((function(e){r.openChangePass(),r.props.hideView("showEditUserInfo")}));case 5:case"end":return e.stop()}}),e)}))),r.state={user_id:null,user_name:"",last_name:"",first_name:"",user:{},setPermission:!0,openNewPass:!1,oldPassword:"",newPassword1:"",newPassword2:""},r.addToDatabase=r.addToDatabase.bind(Object(j.a)(r)),r.launchNewPass=r.launchNewPass.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user.user,t=e.email,n=e.photo,r=e.user,s=e.background_url,i=e.name,a=e.id,o=e.last_name;this.setState({first_name:i,last_name:o,user_name:r,photoUrl:n,background_url:s,email:t,user_id:a}),this.userInfoFromProps()}},{key:"componentDidUpdate",value:function(){!0===this.state.setPermission&&(this.props.updateUser(),this.userInfoFromProps(),this.setState({setPermission:!1}))}},{key:"addToDatabase",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.first_name,r=t.last_name,s=t.email,i=t.user_id,console.log("hit add to db func"),f.a.post("/api/user/update/info/".concat(i),{email:s,last_name:r,first_name:n,user_id:i}),e.next=5,this.userInfoFromProps();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAddText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"openChangePass",value:function(){this.setState({openNewPass:!this.state.openNewPass})}},{key:"render",value:function(){var e=this,t=this.props.user.user,n=t.email,s=t.name,i=(t.user,t.photo,this.state),a=(i.staticPhoto,i.file,i.openNewPass),o=i.last_name;return Object(r.jsxs)("div",{className:"edit-user-info",children:[a?Object(r.jsxs)("div",{className:"change-pass-container",children:[Object(r.jsx)("input",{placeholder:"Old Password",onChange:function(t){return e.handleAddText("oldPassword",t.target.value)}}),Object(r.jsx)("input",{placeholder:"New Password",onChange:function(t){return e.handleAddText("newPassword1",t.target.value)}}),Object(r.jsx)("input",{placeholder:"Verify New Password",onChange:function(t){return e.handleAddText("newPassword2",t.target.value)}}),Object(r.jsxs)("div",{className:"change-pass-button-flex",children:[Object(r.jsx)("button",{onClick:function(){e.launchNewPass()},children:"submit"}),Object(r.jsx)("button",{onClick:function(){return e.setState({openNewPass:!1})},children:"cancel"})]})]}):null,Object(r.jsxs)("section",{className:"edit-user-info-title",children:[Object(r.jsx)("svg",{onClick:function(){return e.props.resetView()},className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(r.jsx)("h2",{children:"edit user info"})]}),Object(r.jsx)("section",{className:"",children:Object(r.jsxs)("div",{className:"input-list",children:[Object(r.jsx)("button",{onClick:function(){return e.openChangePass()},children:"change password"}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("p",{className:"list-text",children:"First Name"}),Object(r.jsx)("input",{placeholder:s,onChange:function(t){return e.handleAddText("first_name",t.target.value)}})]}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("p",{className:"list-text",children:"Last Name"}),Object(r.jsx)("input",{placeholder:o,onChange:function(t){return e.handleAddText("last_name",t.target.value)}})]}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("p",{className:"list-text",children:"Email Address"}),Object(r.jsx)("input",{placeholder:n,onChange:function(t){return e.handleAddText("email",t.target.value)}})]}),Object(r.jsx)("div",{className:"submit-row",children:Object(r.jsx)("button",{onClick:function(){return e.addToDatabase()},className:"li-button",children:"submit"})})]})})]})}}]),n}(s.Component));var Ht=Object(S.b)((function(e){return e}),{updateUser:C,loginUser:N})(Kt),Jt=function(e){var t=e.user,n=e.name,i=e.email,a=Object(s.useState)(!1),o=Object(te.a)(a,2);o[0],o[1];return Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsxs)("div",{className:"user-info-title",children:[Object(r.jsx)("p",{}),Object(r.jsx)("h2",{className:"user-info-title-text",children:"My Info"})]}),Object(r.jsxs)("div",{className:"user-info-h2",children:[Object(r.jsx)("p",{className:"user-info-p",children:"name:"}),Object(r.jsx)("h2",{className:"text-element",children:n})]}),null!=i?Object(r.jsxs)("div",{className:"user-info-h2",children:[Object(r.jsx)("p",{className:"user-info-p",children:"email:"}),Object(r.jsx)("h2",{className:"text-element",children:i})]}):null,Object(r.jsxs)("div",{className:"user-info-h2",children:[Object(r.jsx)("p",{className:"user-info-p",children:"username:"}),Object(r.jsx)("h2",{className:"text-element",children:t})]})]})},qt=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={},r}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"sec-test-container"})}}]),n}(s.Component),Yt=(n(46),function(e){var t=e.user_name,n=e.first_name,s=e.last_name,i=e.user_id;return Object(r.jsx)(ee.c,{to:"/viewuser/".concat(i),children:Object(r.jsxs)("div",{className:"show-user",children:[Object(r.jsx)("p",{className:"admin-a",children:n+" "+s}),Object(r.jsx)("p",{className:"admin-a",children:t})]})})}),Xt=function(e){var t=e.unique_id,n=e.remount,s=e.date_created,i=e.id,a=e.last_visit;return Object(r.jsxs)("div",{className:"traffic-display-unit",children:[Object(r.jsx)("p",{className:"traffic-text",children:s})," ",Object(r.jsx)("p",{className:"traffic-text",children:i}),"  ",Object(r.jsx)("p",{className:"traffic-text",children:t}),Object(r.jsx)("p",{className:"traffic-text",children:n}),Object(r.jsx)("p",{className:"traffic-text",children:a})]})},Zt=(n(74),function(e){var t=e.body,n=e.title,i=e.memo_id,a=Object(s.useState)(t),o=Object(te.a)(a,2),c=o[0],l=o[1],u=Object(s.useState)(!1),d=Object(te.a)(u,2),p=d[0],h=d[1];return Object(r.jsxs)("div",{className:"text-container",children:[Object(r.jsx)("input",{value:n,style:{width:"95%",marginBottom:"5px"}}),Object(r.jsx)("textarea",{name:"text",rows:"23",cols:"50",wrap:"soft",placeholder:"text",onChange:function(e){return l(e.target.value)},value:c,className:"admin-memo-body",children:" "}),Object(r.jsx)("div",{className:"is-saving",children:!0===p?Object(r.jsx)("p",{style:{color:"#fff",fontWeight:"600"},children:"sending..."}):Object(r.jsx)("p",{style:{color:"#fff",fontWeight:"600"},onClick:function(){return h(!0),void f.a.post("/api/memo/update",{text:c,memo_id:i}).then((function(e){h(!1)}))},children:"save"})})]})}),Qt=function(e){var t=e.messagecontent,n=e.email;return Object(r.jsxs)("div",{className:"show-user",children:[Object(r.jsxs)("p",{children:["email",n]}),Object(r.jsx)("p",{className:"admin-a",children:t})]})},$t=n(27),en="ws://165.227.102.189:8000",tn=(new $t.w3cwebsocket(en),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).addGeneral=function(){var t=e.state.generalContent;f.a.post("/api/docs/post",{content:t,tag:"general"}).then(alert("new content has been added to General Information element")).catch((function(e){console.log("error",e)}))},e.addAbout=function(){var t=e.state.aboutContent;f.a.post("/api/docs/post",{content:t,tag:"about"}).then(alert("new content has been added to About Information element")).catch((function(e){console.log(e)}))},e.hideDocGeneral=function(){var t=e.state.displayGeneral;f.a.post("/api/docs/hide",{content:t,tag:"general"}).then(alert("display changed")).catch((function(e){return console.log(e)}))},e.hideMessages=function(){e.setState({showMessages:!e.state.showMessages})},e.hideDocAbout=function(){var t=e.state.displayAbout;f.a.post("/api/docs/hide",{content:t,tag:"about"}).then(alert("display changed")).catch((function(e){return console.log(e)}))},e.state={users:[],text:"test",generalContent:"",displayGeneral:!0,editGeneral:!1,aboutContent:"",displayAbout:!0,editAbout:!1,editUserInfo:!1,showMessages:!1,userMessages:[],showMemo:!1,memos:[],showTraffic:!1,traffic:[],pototypeBool:!1},e.handleAddText=e.handleAddText.bind(Object(j.a)(e)),e.addGeneral=e.addGeneral.bind(Object(j.a)(e)),e.addAbout=e.addAbout.bind(Object(j.a)(e)),e.hideDocAbout=e.hideDocAbout.bind(Object(j.a)(e)),e.hideDocGeneral=e.hideDocGeneral.bind(Object(j.a)(e)),e.openEditAbout=e.openEditAbout.bind(Object(j.a)(e)),e.openEditGeneral=e.openEditGeneral.bind(Object(j.a)(e)),e.openEditUserInfo=e.openEditUserInfo.bind(Object(j.a)(e)),e.hideMessages=e.hideMessages.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/users/all").then((function(t){e.setState({users:t.data})})),f.a.get("/api/track/getall").then((function(t){e.setState({traffic:t.data})})),f.a.get("/api/messages/user").then((function(t){e.setState({userMessages:t.data})})),f.a.get("/api/memos/get/all").then((function(t){e.setState({memos:t.data})}))}},{key:"handleAddText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"openEditAbout",value:function(){this.setState({editAbout:!this.state.editAbout})}},{key:"openEditGeneral",value:function(){this.setState({editGeneral:!this.state.editGeneral})}},{key:"openEditUserInfo",value:function(){this.setState({editUserInfo:!this.state.editUserInfo})}},{key:"resetView",value:function(){this.setState({showMemo:!1,showTraffic:!1})}},{key:"changeView",value:function(e){switch(this.resetView(),e){case"showTraffic":this.setState({showTraffic:!0});break;case"showMemo":this.setState({showMemo:!0})}}},{key:"render",value:function(){var e=this,t=this.state,n=(t.test,t.editAbout),s=t.editGeneral,i=t.editUserInfo,a=t.users,o=t.traffic,c=t.showMessages,l=t.userMessages,u=t.showTraffic,d=t.showMemo,p=t.memos,h=(t.pototypeBool,this.props.user.user),j=(h.photo,h.auth,h.name,h.is_admin),b=h.is_sudo,x=a.map((function(e){return Object(r.jsx)(Yt,{user_name:e.user_name,first_name:e.first_name,last_name:e.last_name,user_id:e.user_id})})),m=o.filter((function(e){return null!=e.last_visit})).map((function(e){return Object(r.jsx)(Xt,{id:e.browser_id,date_created:e.date_created,unique_id:e.unique_id,remount:e.remount,last_visit:e.last_visit},e.browser_id)})),f=l.map((function(e){return Object(r.jsx)(Qt,{messagecontent:e.messagecontent,email:e.email},e.dum_id)})),g=p.map((function(e){return Object(r.jsx)(Zt,{body:e.body,title:e.title,memo_id:e.memo_id},e.memo_id)}));return Object(r.jsx)("div",{className:"admin-container",children:j?Object(r.jsxs)("div",{children:[Object(r.jsxs)("ul",{className:"admin-header-ul",children:[!0===b?Object(r.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.changeView("showMemo")},children:Object(r.jsx)("a",{children:"memo"})}):null,s?Object(r.jsxs)("li",{className:"add-doc-div",children:[Object(r.jsx)("a",{onClick:this.openEditGeneral,children:"edit general info"}),Object(r.jsx)("textarea",{onChange:function(t){return e.handleAddText("generalContent",t.target.value)},className:"input",name:"text",rows:"14",cols:"100",wrap:"soft",children:" "}),Object(r.jsx)("button",{className:"text",onClick:this.addGeneral,children:"add to general content"}),Object(r.jsxs)("div",{className:"checkbox",style:{marginTop:"20px"},children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(t){return e.handleAddText("displayGeneral",!e.state.displayGeneral)}}),Object(r.jsx)("p",{style:{color:"#555"},children:"display this document?"}),Object(r.jsx)("button",{onClick:this.hideDocGeneral,children:"change"})]})]}):Object(r.jsx)("li",{className:"add-doc-div-closed",onClick:this.openEditGeneral,children:Object(r.jsx)("a",{children:"edit general info"})}),n?Object(r.jsxs)("li",{className:"add-doc-div",children:[Object(r.jsx)("a",{onClick:this.openEditAbout,className:"admin-a",children:"edit about info"}),Object(r.jsx)("textarea",{onChange:function(t){return e.handleAddText("aboutContent",t.target.value)},className:"input",name:"text",rows:"14",cols:"100",wrap:"soft",children:" "}),Object(r.jsx)("button",{className:"text",onClick:this.addAbout,children:"add to about content"}),Object(r.jsxs)("div",{className:"checkbox",style:{marginTop:"20px"},children:[Object(r.jsx)("input",{type:"checkbox",onChange:function(t){return e.handleAddText("displayAbout",!e.state.displayAbout)}}),Object(r.jsx)("p",{style:{color:"#555"},children:"display this document?"}),Object(r.jsx)("button",{onClick:this.hideDocAbout,children:"change"})]})]}):Object(r.jsx)("li",{className:"add-doc-div-closed",children:Object(r.jsx)("a",{onClick:this.openEditAbout,children:"edit about info"})}),Object(r.jsx)("li",{className:"add-doc-div-closed",children:Object(r.jsx)("a",{children:"notifications"})}),c?Object(r.jsxs)("li",{className:"add-doc-div",onClick:function(){return e.hideMessages()},children:[Object(r.jsx)("a",{children:"messages"}),f]}):Object(r.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.hideMessages()},children:Object(r.jsx)("a",{children:"messages"})}),i?Object(r.jsxs)("li",{className:"add-doc-div",children:[Object(r.jsx)("a",{onClick:this.openEditUserInfo,className:"admin-a",children:"User Details"}),x]}):Object(r.jsx)("li",{className:"add-doc-div-closed",children:Object(r.jsx)("a",{onClick:this.openEditUserInfo,children:"User Details"})}),Object(r.jsx)("li",{className:"add-doc-div-closed",children:Object(r.jsx)("a",{children:"terms"})}),Object(r.jsx)("li",{className:"add-doc-div-closed",children:Object(r.jsx)("a",{children:"user project details"})}),Object(r.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.changeView("showTraffic")},children:Object(r.jsx)("a",{children:"show traffic"})})]}),Object(r.jsx)(ee.c,{to:"/user",children:Object(r.jsx)("a",{children:"mypage"})}),!0===u?Object(r.jsxs)("div",{className:"display-traffic",children:[Object(r.jsxs)("div",{className:"traffic-display-unit",children:[Object(r.jsx)("p",{className:"traffic-text",children:"Date Created"}),Object(r.jsx)("p",{className:"traffic-text",children:"Browser ID"}),Object(r.jsx)("p",{className:"traffic-text",children:"Unique Id"}),Object(r.jsx)("p",{className:"traffic-text",children:"Re-mounts"}),Object(r.jsx)("p",{className:"traffic-text",children:"Last Visit"})]}),m]}):null,!0===d&&!0===b?g:null,Object(r.jsx)("section",{style:{height:"400px",width:"400px",backgroundColor:"#fff"},children:Object(r.jsx)(we,{params:"large_heart"})})]}):Object(r.jsx)(xe.Route,{path:"/",component:$e})})}}]),n}(s.Component));var nn=Object(S.b)((function(e){return e}),{updateUser:C,getProjects:nt})(tn);function rn(){var e=Object(M.a)(["\n    position:absolute;\n    min-height:50px;\n    width:100%;\n    background-color:yellow;\n    z-index:4;\n    top:0px;\n"]);return rn=function(){return e},e}var sn=P.b.div(rn()),an=function(){return Object(r.jsx)(sn,{})},on=function(){var e=Object(d.a)(u.a.mark((function e(t,n,r,s,i){var a,o,c,l,d,p,h,j,b,x,m,f,g,O;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.matrix,o=r[0],c=o.player,l=o.isKing,d=o.id,p=o.x,h=o.y,b=h,x=null,(j=p)-1!==t||b+1!==n){e.next=20;break}if("bad"!==c||!1!==l){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i(t-1,n+1,null);case 10:if(e.t0=e.sent,e.t1=void 0,e.t0!==e.t1){e.next=18;break}if(!(t-1>=0&&n+1<=a.length-1)){e.next=18;break}return m={enemyX:t,enemyY:n,id:d,nextX:t-1,nextY:n+1},e.abrupt("return",m);case 18:e.next=63;break;case 20:if(j-1!==t||b-1!==n){e.next=35;break}if("good"!==c||!1!==l){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,i(t-1,n-1,null);case 25:if(e.t2=e.sent,e.t3=void 0,e.t2!==e.t3){e.next=33;break}if(!(t-1>=0&&n-1>=0)){e.next=33;break}return f={enemyX:t,enemyY:n,id:d,nextX:t-1,nextY:n-1},e.abrupt("return",f);case 33:e.next=63;break;case 35:if(j+1!==t||b!==n+1){e.next=50;break}if("good"!==c||!1!==l){e.next=38;break}return e.abrupt("return");case 38:return e.next=40,i(t+1,n-1,null);case 40:if(e.t4=e.sent,e.t5=void 0,e.t4!==e.t5){e.next=48;break}if(!(t+1<=a.length-1&&n-1>=0)){e.next=48;break}return g={enemyX:t,enemyY:n,id:d,nextX:t+1,nextY:n-1},e.abrupt("return",g);case 48:e.next=63;break;case 50:if(j+1!==t||b+1!==n){e.next=63;break}if("bad"!==c||!1!==l){e.next=53;break}return e.abrupt("return");case 53:return e.next=55,i(t+1,n+1,null);case 55:if(e.t6=e.sent,e.t7=void 0,e.t6!==e.t7){e.next=63;break}if(!(t+1<=a.length-1&&n+1<=a.length-1)){e.next=63;break}return O={enemyX:t,enemyY:n,id:d,nextX:t+1,nextY:n+1},e.abrupt("return",O);case 63:return e.abrupt("return",x);case 64:case"end":return e.stop()}}),e)})));return function(t,n,r,s,i){return e.apply(this,arguments)}}();function cn(){var e=Object(M.a)(["\n    top: ","px;\n"]);return cn=function(){return e},e}function ln(){var e=Object(M.a)(["\n    margin-top: ","px;\n"]);return ln=function(){return e},e}function un(){var e=Object(M.a)(["\n    top:","px;\n"]);return un=function(){return e},e}function dn(){var e=Object(M.a)(["\n    position:absolute;\n    height:100px;\n    width:100px;\n"]);return dn=function(){return e},e}var pn="coral",hn="wheat",jn=1,bn=Object(P.a)(dn()),xn=Object(P.a)(un(),-50*jn),mn=Object(P.a)(ln(),70*jn),fn=Object(P.a)(cn(),450*jn);function gn(){var e=Object(M.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: flex-start;\n    align-content: stretch;\n"]);return gn=function(){return e},e}function On(){var e=Object(M.a)(["\n    ","\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    padding-top:10px;\n    background-color: rgb(240, 240, 240);\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: flex-start;\n    align-content: stretch;\n    box-shadow: 0px 5px 20px -7px #000000;\n    z-index: 0;\n\n    @media (max-width:400px) {\n        -webkit-transform: scale(.8);\n        -ms-transform: scale(.8);\n        transform: scale(.8);\n        margin-left:-30px;\n    }\n"]);return On=function(){return e},e}var vn=jn,wn=P.b.main(On(),mn,350*vn,350*vn),kn=P.b.span(gn());function yn(){var e=Object(M.a)(["\n\n\n    background-color:",";\n    z-index:100000;\n    border-radius:2px;\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\n\n    button {\n        z-index:1;\n    }\n\n    ","\n    \n    // position:absolute;\n    // height:100px;\n    // width:100px;\n    // background-color:",";\n    // z-index:100000;\n    // border-radius:2px;\n    // box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\n\n    // button {\n    //     z-index:1;\n    // }\n"]);return yn=function(){return e},e}function _n(){var e=Object(M.a)(["\n    position:absolute;\n    height: ","px;\n    width: ","px;\n    display:flex;\n    justify-content:center;\n    z-index:10;\n    \n    button {\n        margin:5px;\n    }\n    \n    ","\n"]);return _n=function(){return e},e}var Ln=hn,Nn=jn,In=P.b.header(_n(),50*Nn,350*Nn,xn),Cn=P.b.div(yn(),Ln,bn,Ln),Sn=function(e){var t=e.newGame,n=Object(s.useState)(!1),i=Object(te.a)(n,2),a=i[0],o=i[1];return Object(r.jsxs)(In,{children:[Object(r.jsx)("button",{onClick:function(){return o(!a)},children:"New Game"}),a&&Object(r.jsxs)(Cn,{children:[Object(r.jsx)("h6",{children:"are you sure?"}),Object(r.jsx)("button",{onClick:function(){t(),o(!a)},children:"yes"}),Object(r.jsx)("button",{onClick:function(){return o(!a)},children:"no"})]})]})};n(75);function Mn(){var e=Object(M.a)(["\n    position: relative;\n    height: ","px;\n    width: ","px;\n    background-color: coral;\n    background-color:",";\n    ","\n    margin: ","px;\n    ","\n"]);return Mn=function(){return e},e}function Pn(){var e=Object(M.a)(["\n    opacity: 1;\n    transition: visibility 0s .25s, opacity .25s linear;\n"]);return Pn=function(){return e},e}function Un(){var e=Object(M.a)(["\n    opacity: .4;\n    transition: visibility 0s .25s, opacity .25s linear;\n"]);return Un=function(){return e},e}function Tn(){var e=Object(M.a)(["\n\n    position: relative;\n    height: ","px;\n    width: ","px;\n    margin: none;\n    // margin-top:10px;\n    \n"]);return Tn=function(){return e},e}var Dn=hn,Fn=pn,En=jn,Rn=P.b.main(Tn(),42*En,42*En),An=Object(P.a)(Un()),Gn=Object(P.a)(Pn()),zn=P.b.div(Mn(),40*En,40*En,(function(e){var t=e.color;return"".concat(-1===t?Fn:Dn)}),(function(e){return function(e){return e?"black":"white"}(-1===e.color)}),1*En,(function(e){return e.activeLocation[1]?An:Gn})),Bn=function(e){return Object(r.jsx)("svg",{style:{color:e},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})})},Vn=function(e){return Object(r.jsx)("svg",{style:{color:e},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z"})})};function Wn(){var e=Object(M.a)(["\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    background-color: red;\n    top: ","px;\n    left: ","px;\n    display: flex;\n    flex-direction: row-reverse;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    pointer-events: auto;\n"]);return Wn=function(){return e},e}function Kn(){var e=Object(M.a)(["\n    left:","px;\n    top: ","px;\n    transform: rotate(270deg);\n"]);return Kn=function(){return e},e}function Hn(){var e=Object(M.a)(["\n    left: ","px;\n    top: ","px;\n    transform: rotate(180deg);\n"]);return Hn=function(){return e},e}function Jn(){var e=Object(M.a)(["\n    left:","px;\n    top: ","px;\n    transform: rotate(90deg); /* Equal to rotateZ(45deg) */\n"]);return Jn=function(){return e},e}function qn(){var e=Object(M.a)(["\n    left:","px;\n    top: ","px;\n"]);return qn=function(){return e},e}function Yn(){var e=Object(M.a)(["\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border: solid green;\n    border-width: 0 ","px ","px 0;\n    display: inline-block;\n    z-index: 1000;\n    pointer-events: auto;\n    z-index:1;\n"]);return Yn=function(){return e},e}function Xn(){var e=Object(M.a)(["\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    right: ","px;\n    top: ","px;\n    z-index: 99;\n    pointer-events: auto;\n"]);return Xn=function(){return e},e}var Zn=jn,Qn=P.b.main(Xn(),150*Zn,150*Zn,-55*Zn,-55*Zn),$n=P.b.span(Yn(),20*Zn,20*Zn,6*Zn,6*Zn),er=Object(P.b)($n)(qn(),105*Zn,105*Zn),tr=Object(P.b)($n)(Jn(),20*Zn,105*Zn),nr=Object(P.b)($n)(Hn(),20*Zn,20*Zn),rr=Object(P.b)($n)(Kn(),105*Zn,20*Zn),sr=P.b.span(Wn(),40*Zn,40*Zn,55*Zn,55*Zn),ir=function(e){var t,n=e.unselectTile,s=e.setMoves,i=e.activeLocation,a=e.currentPiece,o=e.x,c=e.y,l=e.chainKillAvailable,u=e.moveOptions,d=e.previousPiece,p=function(e){if(void 0!==i[2]&&null!==d&&a[0].id===d.id&&void 0!==u[0]){if(e[0]===o+1&&e[1]===c-1)return"top_right";if(e[0]===o+1&&e[1]===c+1)return"low_right";if(e[0]===o-1&&e[1]===c+1)return"low_left";if(e[0]===o-1&&e[1]===c-1)return"top_left"}},h=function(e,t){s(e,t,a)};return Object(r.jsxs)(Qn,{children:[Object(r.jsx)(sr,{onClick:function(){return n()},children:(t="#fff",Object(r.jsx)("svg",{style:{color:t},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}))}),l&&"low_right"!==p(u)?null:Object(r.jsx)(er,{onClick:function(){return h(o+1,c+1)}}),l&&"low_left"!==p(u)?null:Object(r.jsx)(tr,{onClick:function(){return h(o-1,c+1)}}),l&&"top_left"!==p(u)?null:Object(r.jsx)(nr,{onClick:function(){return h(o-1,c-1)}}),l&&"top_right"!==p(u)?null:Object(r.jsx)(rr,{onClick:function(){return h(o+1,c-1)}})]})},ar=function(e){var t=e.x,n=e.y,s=e.color,i=e.currentPiece,a=e.activeLocation,o=e.currentPlayer,c=e.chainKillAvailable,l=e.moveOptions,u=e.pieces,d=e.previousPiece,p=e.setMoves;return Object(r.jsxs)(Rn,{activeLocation:a,color:s,children:[Object(r.jsx)(zn,{onClick:function(){return e.selectTile(t,n,i)},activeLocation:a,color:s}),a[0]===t&&a[1]===n?Object(r.jsx)(ir,{getCurrent:function(e){if(void 0!==i[0])switch(e){case"id":return i[0].id;case"isKing":return i[0].isKing;case"pendingDeath":return i[0].pendingDeath;case"isInGame":return i[0].isInGame;case"player":return i[0].player;default:return}},setMoves:p,x:t,y:n,currentPiece:i,currentPlayer:o,pieces:u,activeLocation:a,unselectTile:e.unselectTile,chainKillAvailable:c,moveOptions:l,previousPiece:d}):null]})};function or(){var e=Object(M.a)(["\n    background: linear-gradient(0turn,rgb(160, 158, 158),rgb(226, 226, 226));\n    border: .1px solid #555;\n"]);return or=function(){return e},e}function cr(){var e=Object(M.a)(["",""]);return cr=function(){return e},e}function lr(){var e=Object(M.a)(["\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    background: linear-gradient(0turn,#555,rgb(143, 143, 143));\n    box-shadow: 5px 5px 20px -7px #000000;\n    border: .1px solid #fff;\n    visibility: visible;\n    opacity: 1;\n    transition: opacity .2s linear;\n    z-index: 3;\n    pointer-events: none;\n"]);return lr=function(){return e},e}var ur=jn,dr=Object(P.a)(lr(),35*ur,35*ur),pr=P.b.div(cr(),dr),hr=Object(P.b)(pr)(or()),jr=(n(150),function(){return Object(r.jsxs)("div",{className:"crown",children:[Object(r.jsx)("div",{className:"point"}),Object(r.jsx)("div",{className:"point"}),Object(r.jsx)("div",{className:"point"}),Object(r.jsx)("div",{className:"point"}),Object(r.jsx)("div",{className:"point"})]})}),br=jn,xr=function(e){var t=e.items,n=t.isKing,s=t.player,i=t.x,a=t.y,o=t.pendingDeath,c={left:"".concat(5+i*(43*br),"px"),top:"".concat(10+a*(42*br),"px"),position:"absolute",transition:"all 1000ms"};return Object(r.jsx)("div",{style:c,children:"good"===s?Object(r.jsxs)(pr,{children:[n&&Object(r.jsx)(jr,{}),o&&Bn("#fff"),n&&!o?Vn("#fff"):null]}):Object(r.jsxs)(hr,{children:[o&&Bn("#555"),n&&Object(r.jsx)(jr,{}),n&&!o?Vn("#555"):null]})})},mr=[{id:1,player:"good",x:1,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:2,player:"good",x:3,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:3,player:"good",x:5,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:4,player:"good",x:7,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:5,player:"good",x:5,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:6,player:"good",x:4,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:7,player:"good",x:2,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:8,player:"good",x:0,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:9,player:"good",x:1,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:10,player:"good",x:3,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:11,player:"good",x:6,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:12,player:"good",x:7,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:13,player:"bad",x:0,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:14,player:"bad",x:2,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:15,player:"bad",x:4,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:16,player:"bad",x:6,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:17,player:"bad",x:7,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:18,player:"bad",x:5,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:19,player:"bad",x:3,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:20,player:"bad",x:1,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:21,player:"bad",x:0,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:22,player:"bad",x:2,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:23,player:"bad",x:4,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:24,player:"bad",x:6,y:5,isInGame:!0,isKing:!1,pendingDeath:!1}];function fr(){var e=Object(M.a)(["\n    margin-left: ","px;\n    font-size:","px;\n    font-weight: 800;\n    font-family: 'Poppins', sans-serif;\n    opacity: .6;\n"]);return fr=function(){return e},e}function gr(){var e=Object(M.a)(["\n    position: absolute;\n    color: #555;\n    z-index: 100000;\n    height: ","px;\n    width: ","px;\n    margin-left: ","px;\n    display: flex;\n    align-items: center;\n    background: rgba(165, 165, 165, 0.116);\n    box-shadow: 5px 5px 20px -7px #000000;\n    backdrop-filter: blur(12px);\n    border-radius: 10px;\n    ","\n"]);return gr=function(){return e},e}var Or=jn,vr=P.b.main(gr(),50*Or,180*Or,20*Or,fn),wr=P.b.i(fr(),50*Or,15*Or),kr=function(e){var t=e.currentPlayer;return Object(r.jsxs)(vr,{children:["good"===t?Object(r.jsx)(pr,{}):Object(r.jsx)(hr,{}),Object(r.jsx)(wr,{children:"Current Player"})]})},yr=new $t.w3cwebsocket(en),_r=[[-1,-1],[1,-1],[-1,1],[1,1]],Lr=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).getConnected=function(){yr.onopen=function(){console.log("client connected")},yr.onmessage=function(e){var t=r.props.currentGame,n=JSON.parse(e.data),s=n.gameID,i=n.input;if("checkerTurn"===n.type&&s===t){console.log(n),r.saveGame(e.data);var a=i.previousPiece,o=i.newPieces,c=i.currentPlayer,l=i.autoTurn;if(o.forEach((function(e){return e.pendingDeath=!1})),r.setState({pieces:o,previousPiece:a,currentPlayer:c}),r.switchPlayer(c),!0===r.state.chainKillAvailable){var u=a.x,d=a.y;r.setState({activeLocation:[u,d,a]})}else l||r.mandatoryAttack()}}},r.kingAll=function(){var e=r.state.pieces,t=[];e.forEach((function(e){e.isKing=!0,t.push(e)})),r.setState({pieces:t})},r.saveGame=function(e){localStorage.setItem("savedGame",e)},r.loadGame=function(){var e=localStorage.getItem("savedGame");try{if(void 0!==e){var t=JSON.parse(e),n=t.input,s=n.currentPlayer,i=n.previousPiece;r.switchPlayer(s),r.setState({pieces:t.input.newPieces,previousPiece:i})}}catch(a){r.newGame()}},r.newGame=function(){r.setState({pieces:mr}),r.saveGame("")},r.sendToSocketsSwitch=function(e){var t=r.props.currentGame;r.setState({activeLocation:[null,null]});var n={type:"checkerTurn",input:e,gameID:t};n=JSON.stringify(n),yr.send(n)},r.boardFactory=function(){for(var e=[],t=Array.from(Array(8)),n=0;n<8;n++)e.push(t);r.setState({matrix:e})},r.smile=function(e,t){var n=r.state.pieces;n.forEach((function(n){n.x===e&&n.y===t&&(n.pendingDeath=!0)})),r.setState({pieces:n,moveOptions:[e,t]})},r.garbageRemoval=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,s,i,a,o,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nextX,s=t.nextY,i=t.id,a=t.enemyX,o=t.enemyY,e.next=3,r.killPiece(a,o);case 3:return c=e.sent,e.next=6,c.findIndex((function(e){return e.id===i}));case 6:return l=e.sent,c[l].x=n,c[l].y=s,r.chainKills(c,c[l],!0),d={newPieces:c,currentPlayer:r.state.currentPlayer,previousPiece:c[l],autoTurn:!0},e.abrupt("return",r.sendToSocketsSwitch(d));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.mandatoryAttack=Object(d.a)(u.a.mark((function e(){var t,n,s,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.pieces,s=t.currentPlayer,n.forEach((function(e){return e.pendingDeath=!1})),i=n.filter((function(e){return e.player===s})),a=n.filter((function(e){return e.player!==s})),e.next=6,i.forEach((function(e){a.forEach((function(t){on(t.x,t.y,[e],r.state,r.checkPieceLocations).then((function(e){if(null!=e)return r.smile(e.enemyX,e.enemyY)}))}))}));case 6:case"end":return e.stop()}}),e)}))),r.chainKills=function(e,t){var n=r.state.matrix,s=t.player,i=t.x,a=t.y,o=t.isKing,c=null;_r.forEach((function(t){var l=r.checkPieceLocations(i+t[0],a+t[1],e);if(void 0!==l&&l.player!==s){var u=parseInt(t[0])+l.x,d=parseInt(t[1])+l.y;if(void 0===r.checkPieceLocations(u,d,e)&&u>=0&&u<=n.length-1&&d>=0&&d<=n.length-1){if("good"===s&&d<a&&!1===o)return;if("bad"===s&&d>a&&!1===o)return;return c=[l.x,l.y],r.setState({moveOptions:c,chainKillAvailable:!0}),void r.switchPlayer(s)}}}))},r.setMoves=function(){var e=Object(d.a)(u.a.mark((function e(t,n,s){var i,a,o,c,l,d,p,h,j,b,x;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.state,a=i.matrix,o=i.pieces,c=i.currentPlayer,l=s[0],d=l.isKing,p=l.id,h=o.findIndex((function(e){return e.id===p})),r.setState({chainKillAvailable:!1,previousPiece:null,moveOptions:null}),c===o[h].player){e.next=6;break}return e.abrupt("return");case 6:e.t0=u.a.keys(o);case 7:if((e.t1=e.t0()).done){e.next=20;break}if(j=e.t1.value,o[j].x!==t||o[j].y!==n){e.next=18;break}if(o[j].player===c){e.next=17;break}return e.delegateYield(u.a.mark((function e(){var t,n,i,c,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(o[j].x,o[j].y,s,r.state,r.checkPieceLocations);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",{v:console.log("This move is not allowed")});case 5:return n=t.nextX,i=t.nextY,c=t.enemyX,l=t.enemyY,d=t.id,e.next=8,r.killPiece(c,l);case 8:return p=e.sent,h=p.findIndex((function(e){return e.id===d})),p[h].x=n,p[h].y=i,"good"===p[h].player&&p[h].y===a.length-1&&(p[h].isKing=!0),"bad"===p[h].player&&0===p[h].y&&(p[h].isKing=!0),r.chainKills(p,p[h],!0),b={newPieces:p,currentPlayer:r.state.currentPlayer,previousPiece:p[h]},r.sendToSocketsSwitch(b),e.abrupt("return",{v:void 0});case 18:case"end":return e.stop()}}),e)}))(),"t2",12);case 12:if("object"!==typeof(x=e.t2)){e.next=15;break}return e.abrupt("return",x.v);case 15:e.next=18;break;case 17:return e.abrupt("return");case 18:e.next=7;break;case 20:return e.next=22,r.executeMovePiece(t,n,p,c,d);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.executeMovePiece=function(e,t,n,s,i){var a=r.state,o=a.pieces,c=a.matrix,l=a.activeLocation[1],u=Object(pt.a)(o),d=o.findIndex((function(e){return e.id===n}));if(e>=0&&e<=c.length-1&&t>=0&&7<=c.length-1){if(l>t&&"good"===s&&!i)return console.log("this move is not allowed");if(l<t&&"bad"===s&&!i)return console.log("this move is not allowed");u[d].x=e,u[d].y=t,("bad"===u[d].player&&0===u[d].y||"good"===u[d].player&&u[d].y===c.length-1)&&(u[d].isKing=!0);var p={newPieces:u,currentPlayer:r.state.currentPlayer,previousPiece:u[d]};r.sendToSocketsSwitch(p)}},r.killPiece=function(){var e=Object(d.a)(u.a.mark((function e(t,n,s){var i,a,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.state.pieces,a=Object(pt.a)(i),e.next=4,r.checkPieceLocations(t,n).id;case 4:return o=e.sent,c=i.findIndex((function(e){return e.id===o})),a.splice(c,1),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),r.checkPieceLocations=function(e,t,n){var s=r.state.pieces;if(null!=n){for(var i in n)if(n[i].x===e&&n[i].y===t)return n[i]}else for(var a in s)if(s[a].x===e&&s[a].y===t)return s[a]},r.switchPlayer=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="good"===e.t0?3:"bad"===e.t0?5:7;break;case 3:return r.setState({currentPlayer:"bad"}),e.abrupt("break",8);case 5:return r.setState({currentPlayer:"good"}),e.abrupt("break",8);case 7:return e.abrupt("return");case 8:case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.selectTile=function(e,t,n){var s=[e,t,n];void 0!==n[0]&&r.handleInput("activeLocation",s)},r.unselectTile=function(){r.handleInput("activeLocation",[null,null])},r.handleInput=function(e,t){r.setState(Object(me.a)({},e,t))},r.state={previousPiece:null,activeLocation:[null,null],pieces:[],matrix:[],currentPlayer:"bad",chainKillAvailable:!1,moveOptions:null,errorMessage:null},r.selectTile=r.selectTile.bind(Object(j.a)(r)),r.boardFactory=r.boardFactory.bind(Object(j.a)(r)),r.getConnected=r.getConnected.bind(Object(j.a)(r)),r.sendToSocketsSwitch=r.sendToSocketsSwitch.bind(Object(j.a)(r)),r.setMoves=r.setMoves.bind(Object(j.a)(r)),r.executeMovePiece=r.executeMovePiece.bind(Object(j.a)(r)),r.killPiece=r.killPiece.bind(Object(j.a)(r)),r.checkPieceLocations=r.checkPieceLocations.bind(Object(j.a)(r)),r.switchPlayer=r.switchPlayer.bind(Object(j.a)(r)),r.unselectTile=r.unselectTile.bind(Object(j.a)(r)),r.handleInput=r.handleInput.bind(Object(j.a)(r)),r.kingAll=r.kingAll.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.boardFactory(),this.getConnected(),this.loadGame()}},{key:"render",value:function(){var e=this,t=this.state,n=t.matrix,s=t.pieces,i=t.activeLocation,a=t.currentPlayer,o=t.tileIsSelected,c=t.moveOptions,l=t.chainKillAvailable,u=t.previousPiece,d=t.errorMessage,p=n.map((function(t,n){return t.map((function(t,d){var p=s.filter((function(e){return e.x===d&&e.y===n}));return Object(r.jsx)(ar,{x:d,y:n,color:Math.pow(-1,n+d),selectTile:e.selectTile,unselectTile:e.unselectTile,setMoves:e.setMoves,currentPiece:p,currentPlayer:a,activeLocation:i,tileIsSelected:o,pieces:s,moveOptions:c,chainKillAvailable:l,previousPiece:u},[d,n])}))})),h=s.map((function(e){return Object(r.jsx)(xr,{items:e},e.id)}));return Object(r.jsxs)("div",{children:[Object(r.jsxs)(wn,{children:[Object(r.jsx)(Sn,{newGame:this.newGame}),d&&Object(r.jsx)(an,{}),Object(r.jsxs)(kn,{children:[h,p]})]}),Object(r.jsx)(kr,{currentPlayer:a})]})}}]),n}(s.Component),Nr=(n(151),function(e){var t=e.challengeUser.gameInformation,n=t.isAccepted,i=t.photo,a=t.gameID,o=Object(s.useState)(!1),c=Object(te.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(!1),p=Object(te.a)(d,2),h=p[0],j=p[1],b=function(t,n){e.changeGameID(t,n),j(!h),!0===t&&u(!0)};return Object(r.jsx)("div",{children:!1===h?Object(r.jsxs)("div",{className:"invite",children:[Object(r.jsx)("img",{src:i,className:"invite-photo",onClick:function(){!1===l?j(!h):e.hideView("showGames")}}),!1===n&&!1===l?Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"game-invite-icon",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):null]}):Object(r.jsxs)("div",{className:"invite choose-accept",children:[Object(r.jsx)("div",{className:"game-invite-title",children:Object(r.jsx)("p",{className:"game-invite-title-text",children:"Accept Challenge?"})}),Object(r.jsxs)("div",{className:"invite-yes-no",children:[Object(r.jsx)("p",{className:"choose-accept-text",onClick:function(){return b(!0,a)},children:"yes"}),Object(r.jsx)("p",{className:"choose-accept-text",onClick:function(){return b(!1)},children:"no"})]})]})})});n(152);function Ir(){var e=Object(M.a)(["\n    height: 450px;\n    width: 390px;\n    border-radius: 3%;\n    background-color: #fff;\n    color: #555;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: flex-start;\n    align-content: center;\n    top: 5vh;\n    position: fixed;\n    z-index:1;\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\n    margin: none;\n    overflow:hidden;\n\n    @media(max-width:400px) {\n        width:100%;\n    }\n"]);return Ir=function(){return e},e}var Cr=P.b.main(Ir()),Sr=function(e){var t=e.challengeUser,n=e.currentGame,s=(e.client,e.user);return Object(r.jsxs)(Cr,{children:[Object(r.jsx)("section",{className:"game-title",children:Object(r.jsx)("svg",{className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:function(){return e.hideView(null)},children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),null!=t?Object(r.jsx)("img",{className:"foe-photo",src:t.gameInformation.photo}):null,Object(r.jsx)(Lr,{currentGame:n,client:e.client,user:s})]})},Mr=(n(76),function(e){var t=e.photo_url,n=e.user_name,i=e.user_id,a=e.my_id,o=Object(s.useState)(!1),c=Object(te.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(!1),p=Object(te.a)(d,2),h=p[0],j=p[1];Object(s.useEffect)((function(){}),[]);return Object(r.jsx)("div",{children:!1===h?Object(r.jsxs)("div",{className:"connection-container",children:[Object(r.jsxs)("div",{className:"photo-name-flex",children:[Object(r.jsx)(ee.c,{to:"viewuser/".concat(i),children:Object(r.jsx)("img",{src:t,className:"connection-photo"})}),Object(r.jsx)("p",{className:"connection-name",children:n})]}),!0===l?Object(r.jsxs)("ul",{className:"friend-options",children:[Object(r.jsxs)("div",{className:"friend-menu-row",onClick:function(){return e.getUserID(i)},children:[Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Object(r.jsx)("p",{className:"friend-menu-text",children:"Game invite"})]}),Object(r.jsxs)("div",{className:"friend-menu-row",children:[Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(r.jsx)("p",{className:"friend-menu-text",onClick:function(){return function(t,n){e.removeConnection(t,n),j(!0)}(i,a)},children:"remove friend"})]})]}):null,Object(r.jsx)("svg",{onClick:function(){return u(!l)},xmlns:"http://www.w3.org/2000/svg",className:"small-icon",style:{marginBottom:"10px",marginRight:"0px",height:"40px",width:"40px",opacity:"60%"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})]}):null})}),Pr=function(e){var t=Object(s.useState)(!1),n=Object(te.a)(t,2),i=n[0],a=n[1],o=e.photo_url,c=e.user_name,l=e.user_id,u=e.my_id;return Object(r.jsx)("div",{children:!1===i?Object(r.jsxs)("div",{className:"connection-container",children:[Object(r.jsxs)("div",{className:"photo-name-flex",children:[Object(r.jsx)(ee.c,{to:"viewuser/".concat(l),children:Object(r.jsx)("img",{src:o,className:"connection-photo"})}),Object(r.jsx)("p",{className:"connection-name",children:c})]}),Object(r.jsxs)("div",{className:"button-row",children:[Object(r.jsx)("p",{className:"connection-buttons",style:{marginBottom:"10px"},onClick:function(){return function(t,n){e.removeConnection(t,n),a(!0)}(l,u)},children:"Remove"}),Object(r.jsx)("p",{className:"connection-buttons-full",style:{marginBottom:"10px",marginRight:"10px"},onClick:function(){return function(t,n){e.acceptRequest(t,n,o,c),a(!0)}(l,u)},children:"Confirm"})]})]}):null})},Ur=(n(153),new $t.w3cwebsocket(en)),Tr=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).sockets=function(t){var n=e.props.id;Ur.onopen=function(){},Ur.onmessage=function(t){var r=JSON.parse(t.data),s=r.fromUser,i=r.friendObj,a=e.state,o=a.newFriends,c=a.friends;if("new_friend"===r.type&&parseInt(s.toUser)===n&&(o.push(s),e.setState({newFriends:o})),"acceptedFriend"===r.type&&(parseInt(i.my_id)===n||parseInt(i.user_id)===n)){var l=Object(pt.a)(c);l.push(i),e.setState({friends:l})}}},e.newFriendToSocked=function(e){Ur.send(JSON.stringify({type:"acceptedFriend",friendObj:e}))},e.getMyFriends=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.id,t.next=3,f.a.get("/api/join/friends/".concat(n)).then((function(t){return e.setState({friends:t.data})})).catch((function(e){return console.log(e)}));case 3:return t.next=5,f.a.get("/api/get/pending/friends/".concat(n)).then((function(t){return e.setState({requests:t.data})})).catch((function(e){return console.log("No pending requests",e)})).return;case 5:case"end":return t.stop()}}),t)}))),e.startLoading=function(){e.setState({isLoading:!e.state.isLoading})},e.acceptRequest=function(){var t=Object(d.a)(u.a.mark((function t(n,r,s,i){var a,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.friends,!0,o={photo_url:s,user_id:n,my_id:r,user_name:i},Object(pt.a)(a).push(o),e.newFriendToSocked(o),t.next=8,f.a.post("/api/accept/connection",{from:n,to:r,yes:true});case 8:t.sent;case 9:case"end":return t.stop()}}),t)})));return function(e,n,r,s){return t.apply(this,arguments)}}(),e.removeConnection=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("hit remove",t,n),f.a.post("/api/remove/connection",{from:t,to:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.state={requests:[],friends:[],isLoading:!1,newFriends:[],justAdded:[]},e.getMyFriends=e.getMyFriends.bind(Object(j.a)(e)),e.acceptRequest=e.acceptRequest.bind(Object(j.a)(e)),e.startLoading=e.startLoading.bind(Object(j.a)(e)),e.removeConnection=e.removeConnection.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.sockets(),this.getMyFriends()}},{key:"componentDidUpdate",value:function(){this.sockets()}},{key:"pleaeLogin",value:function(){alert("please log in")}},{key:"render",value:function(){var e=this,t=this.state,n=t.requests,s=t.friends,i=t.isLoading,a=t.newFriends,o=this.props.id,c=s.map((function(t){return Object(r.jsx)(Mr,{photo_url:t.photo_url,user_id:t.user_id,user_name:t.user_name,my_id:o,removeConnection:e.removeConnection,getUserID:e.props.getUserID},t.user_id)})),l=n.map((function(t){return Object(r.jsx)(Pr,{photo_url:t.photo_url,user_name:t.user_name,user_id:t.user_id,my_id:o,removeConnection:e.removeConnection,acceptRequest:e.acceptRequest},t.user_id)})),u=a.map((function(t){return Object(r.jsx)(Pr,{photo_url:t.photo,user_name:t.user,user_id:t.id,my_id:o,removeConnection:e.removeConnection,acceptRequest:e.acceptRequest},t.id)}));return Object(r.jsxs)("div",{className:"friend-container",children:[!0===i?Object(r.jsx)(se,{}):null,u,l,c]})}}]),n}(s.Component),Dr=(n(154),n(155),function(e){var t=e.image_url,n=e.user_id,i=Object(s.useState)(!1),a=Object(te.a)(i,2),o=a[0],c=a[1],l=function(){var r=Object(d.a)(u.a.mark((function r(s){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c(!o);case 2:return r.next=4,e.setCurrentImg(null);case 4:r.t0=s,r.next="delete"===r.t0?7:"update_photo"===r.t0?12:"update_background_img"===r.t0?15:18;break;case 7:return r.next=9,e.removingPhoto(t);case 9:return r.next=11,e.getPhotos(n);case 11:return r.abrupt("break",18);case 12:return r.next=14,f.a.post("/api/users/update/photo/",{image_url:t,user_id:n});case 14:return r.abrupt("break",18);case 15:return r.next=17,f.a.post("/api/user/update/background",{image_url:t,user_id:n});case 17:return r.abrupt("break",18);case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"selected-img",children:[Object(r.jsxs)("header",{className:"selected-img-head",children:[Object(r.jsx)("svg",{onClick:function(){return c(!o)},xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",left:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:!1===o?Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}):Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),!0===o?Object(r.jsxs)("ul",{className:"friend-options",style:{width:"200px",height:"130px",left:"0px",top:"30px"},children:[Object(r.jsx)("li",{className:"friend-menu-row",style:{width:"200px"},onClick:function(){return l("update_photo")},children:"Use as Profile Picture"}),Object(r.jsx)("li",{onClick:function(){return l("update_background_img")},className:"friend-menu-row",style:{width:"200px"},children:"Use as Background"}),Object(r.jsx)("li",{onClick:function(){return l("delete")},className:"friend-menu-row",style:{width:"200px"},children:"Delete Photo"})]}):null,Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",right:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return e.setCurrentImg(null)},children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]}),Object(r.jsx)("img",{src:t,className:"prev-im-size"})]})});it.firestore();var Fr=Object(S.b)((function(e){return e}),{addNewModel:dt})((function(e){var t=Object(s.useState)([]),n=Object(te.a)(t,2),i=n[0],a=n[1],o=Object(s.useState)([]),c=Object(te.a)(o,2),l=c[0],p=c[1],h=Object(s.useState)("photos"),j=Object(te.a)(h,2),b=j[0],x=j[1],m=Object(s.useState)(!1),g=Object(te.a)(m,2),O=g[0],v=g[1],w=Object(s.useState)(null),k=Object(te.a)(w,2),y=k[0],_=k[1],L=Object(s.useState)(null),N=Object(te.a)(L,2),I=N[0],C=N[1],S=Object(s.useState)({previewImageFile:null}),M=Object(te.a)(S,2),P=M[0],U=M[1],T=e.id;Object(s.useEffect)((function(){f.a.get("/api/photos/albums/".concat(T)).then((function(e){a(e.data)})),F(T)}),[]);var D=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:return e.next=4,F(T);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/user/photos/get/".concat(t)).then((function(e){p(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t.target.files[0]&&(n=!0),n)try{st.a.imageFileResizer(t.target.files[0],400,267,"JPEG",100,0,(function(e){console.log(e,"uri");var t=URL.createObjectURL(e);U({previewImageFile:t}),C(e)}),"file",298,191)}catch(r){console.log(r)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(d.a)(u.a.mark((function t(){var n,r,s,i,a,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I,r=e.user.user,s=r.id,i=r.user,a=null,e.setIsLoading(),t.next=6,e.addNewModel(n,"".concat(i,"/photos"));case 6:return o=t.sent,t.next=9,o.action.payload.ref.getDownloadURL();case 9:return c=t.sent,t.next=12,f.a.post("/api/photos/add/new",{album_id:a,id:s,image_url:c});case 12:return t.next=14,F(s);case 14:return t.next=16,e.setIsLoading();case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=i.map((function(e){return Object(r.jsx)("p",{children:e.title},e.album_id)})),G=l.map((function(e){return Object(r.jsx)("img",{src:e.image_url,style:{height:"75px",width:"75px"},onClick:function(){return _(e.image_url)}},e.photo_id)}));return Object(r.jsxs)("div",{className:"album-container",children:["photos"===b?Object(r.jsxs)("header",{className:"album-title-row",children:[Object(r.jsx)("p",{style:{float:"left",fontWeight:"700"},children:"Photos"}),Object(r.jsx)("input",{className:"user-photo-file-input",style:{position:"absolute",top:"5px",right:"10px",width:"20px",height:"20px"},type:"file",accept:"image/png,image/jpeg",onChange:function(e){return D(e)}}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",top:"4px",right:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):Object(r.jsxs)("header",{className:"album-title-row",children:[Object(r.jsx)("p",{style:{float:"left",fontWeight:"700"},children:"Albums"}),Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{float:"right",marginTop:"5px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return v(!O)},children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})]}),Object(r.jsx)("header",{className:"album-title-row-bottom",children:Object(r.jsx)("p",{className:"photo-selector",onClick:function(){return x("photos")},children:"Photos"})}),y?Object(r.jsx)(Dr,{image_url:y,setCurrentImg:_,removingPhoto:e.removingPhoto,getPhotos:F,user_id:T}):null,"albums"===b?A:null,"photos"===b?G:null,null!=P.previewImageFile?Object(r.jsx)(mt,{previewImageFile:P.previewImageFile,photo_url:I,addPhoto:R,handleInput:function(e,t){U(Object(me.a)({},e,t))}}):null]})})),Er=new $t.w3cwebsocket(en),Rr=(it.firestore(),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).removingPhoto=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.deleteFromFirebase(t);case 2:return console.log(" here is url ",t),e.next=5,f.a.post("/api/photos/delete/",{image_url:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.changeGameID=function(e,t){!0===e?r.setState({currentGame:t}):r.setState({challengeUser:null})},r.receiveInvite=function(){Er.onopen=function(){},Er.onmessage=function(e){var t=JSON.parse(e.data),n=r.props.user.user.id;"gameInvite"===t.type&&t.gameInformation.to===n&&r.setState({challengeUser:t})}},r.sendInvite=function(e){Er.send(JSON.stringify({type:"gameInvite",gameInformation:e}))},r.getUniqueID=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()},r.getUserID=function(e){var t=r.props.user.user,n={to:e,from:t.id,isAccepted:!1,photo:t.photo,gameID:r.state.currentGame};r.sendInvite(n)},r.handleInput=function(e,t){r.setState(Object(me.a)({},e,t))},r.setIsLoading=function(){r.setState({isLoading:!r.state.isLoading})},r.state={previewImageFile:null,photo_url:null,photos:[],showPhotos:!1,items:[],user:{},friends:[],requests:[],showUserInfo:!0,showCollections:!0,showAdminPage:!1,showCreateProject:!1,showEditUserInto:!1,showGames:!1,showFriends:!1,profilePic:null,userName:null,isLoading:!1,setPermission:!0,challengeUser:null,currentGame:null},r.handleCollections=r.handleCollections.bind(Object(j.a)(r)),r.hideView=r.hideView.bind(Object(j.a)(r)),r.resetView=r.resetView.bind(Object(j.a)(r)),r.pleaseLogin=r.pleaeLogin.bind(Object(j.a)(r)),r.setIsLoading=r.setIsLoading.bind(Object(j.a)(r)),r.deleteFromFirebase=r.deleteFromFirebase.bind(Object(j.a)(r)),r.getUserID=r.getUserID.bind(Object(j.a)(r)),r.receiveInvite=r.receiveInvite.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.receiveInvite(),this.setState({currentGame:this.getUniqueID()})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user.user,n=t.id;t.photo;this.state.friends.length<1&&void 0!=n&&f.a.get("/api/join/friends/".concat(n)).then((function(t){return e.setState({friends:t.data})}))}},{key:"resetView",value:function(){this.setState({showCollections:!0,showUserInfo:!1,showEditUserInto:!1,showCreateProject:!1,showGames:!1,showFriends:!1,showPhotos:!1})}},{key:"handleCollections",value:function(){this.setState({isView:"isCollections"})}},{key:"hideView",value:function(e){switch(this.receiveInvite(),this.resetView(),e){case"showUserInfo":this.setState({showUserInfo:!this.state.showUserInfo});break;case"showCollections":this.setState({showCollections:!0});break;case"showAdminPage":this.setState({showAdminPage:!this.state.showAdminPage});break;case"showEditUserInfo":this.setState({showEditUserInto:!0});break;case"showCreateProject":this.setState({showCreateProject:!0});break;case"showGames":this.setState({showGames:!0});break;case"showFriends":this.setState({showFriends:!0,showCollections:!1});case"showPhotos":this.setState({showPhotos:!0,showCollections:!1})}}},{key:"deleteFromFirebase",value:function(e){it.storage().refFromURL(e).delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error")}))}},{key:"handleFriends",value:function(){this.setState({isView:"isFriends"})}},{key:"pleaeLogin",value:function(){alert("please log in")}},{key:"render",value:function(){var e=this,t=this.state,n=(t.photos,t.previewImageFile,t.photoUrl,t.showCollections),s=(t.showUserInfo,t.items,t.isLoading),i=t.showCreateProject,a=t.showEditUserInto,o=t.showGames,c=t.showFriends,l=(t.friends,t.requests,t.challengeUser),u=t.currentGame,d=(t.currentPhoto,t.showPhotos),p=this.props.user.isLoggedIn,h=this.props.user.user,j=h.photo,b=(h.auth,h.name),x=h.is_admin,m=h.background_url,f=h.user,g=h.email,O=h.id;return Object(r.jsx)("div",{children:p?Object(r.jsxs)("div",{className:"user-page",children:[s?Object(r.jsx)(se,{}):null,Object(r.jsxs)("section",{className:"column1",children:[Object(r.jsx)("img",{src:m,className:"background-photo",onClick:function(){return e.hideView("showPhotos")}}),null===l?null:Object(r.jsx)(Nr,{challengeUser:l,changeGameID:this.changeGameID,hideView:this.hideView}),Object(r.jsxs)("div",{className:"portrait",children:[Object(r.jsx)("img",{className:"profile-photo",src:j,alt:"photo",onClick:function(){return e.hideView("showPhotos")}}),Object(r.jsx)("h4",{className:"portrait-row",style:{textTransform:"none"},children:this.props.user.user.user}),Object(r.jsxs)("div",{className:"portrait-row",style:{flexWrap:"wrap",justifyContent:"center",width:"300px"},children:[Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showEditUserInfo")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"My Info"})}),Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showCreateProject")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"Create"})}),Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showGames")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"Games"})}),Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showPhotos")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"Photos"})}),Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showFriends")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"Friends"})}),Object(r.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showCollections")},children:Object(r.jsx)("p",{style:{marginTop:"5px"},children:"Collections"})})]}),Object(r.jsxs)("div",{className:"portrait-row",children:[x?Object(r.jsx)(ee.c,{to:"/admin",style:{textDecoration:"none"},children:Object(r.jsx)("p",{className:"go-to-admin",children:"admin"})}):null,"  "]})]}),Object(r.jsx)(Jt,{user:f,name:b,email:g,id:O,setIsLoading:this.setIsLoading,deleteFromFirebase:this.deleteFromFirebase})]}),Object(r.jsxs)("section",{className:"column2",children:[o&&Object(r.jsx)(Sr,{hideView:this.hideView,challengeUser:l,client:Er,currentGame:u}),a&&Object(r.jsx)(Ht,{setIsLoading:this.setIsLoading,resetView:this.resetView,updateUser:this.props.updateUser}),n&&Object(r.jsx)(Wt,{setIsLoading:this.setIsLoading,photo_url:j,resetView:this.resetView,showCreateProject:i}),c&&Object(r.jsx)(Tr,{id:O,getUserID:this.getUserID}),d&&Object(r.jsx)(Fr,{id:O,handlePhoto:this.handlePhoto,removingPhoto:this.removingPhoto,setIsLoading:this.setIsLoading})]})]}):Object(r.jsx)(xe.Route,{path:"/",component:$e})})}}]),n}(s.Component));var Ar=Object(S.b)((function(e){return e}),{getProjects:nt,updateUser:C,addNewModel:dt})(Rr),Gr=(n(156),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).handleText=function(e,t){r.setState(Object(me.a)({},e,t))},r.openSearch=function(){r.setState({openSearchBar:!r.state.openSearchBar})},r.changeView=function(e){switch(r.resetView(),e){case"3D Models":r.setState({viewModels:!0});break;case"Videos":r.setState({viewVideos:!0})}},r.resetView=function(){r.setState({viewModels:!1,viewVideos:!1})},r.state={data:[],names:[],videos:[],userId:null,likes:[],projectSearch:"",openSearchBar:!1,isLoading:!1,viewModels:!0,viewVideos:!1},r.addLike=r.addLike.bind(Object(j.a)(r)),r.handleClick=r.handleClick.bind(Object(j.a)(r)),r.updateState=r.updateState.bind(Object(j.a)(r)),r.projectIsLiked=r.projectIsLiked.bind(Object(j.a)(r)),r.handleText=r.handleText.bind(Object(j.a)(r)),r.openSearch=r.openSearch.bind(Object(j.a)(r)),r.setIsLoading=r.setIsLoading.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.updateState()}},{key:"componentDidUpdate",value:function(){this.props.updateUser()}},{key:"setIsLoading",value:function(){this.setState({isLoading:!this.state.isLoading})}},{key:"updateState",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setIsLoading();case 2:return e.next=4,f.a.get("/api/project/join").then((function(e){return t.setState(Object(c.a)(Object(c.a)({},t.state),{},{data:e.data}))}));case 4:return e.next=6,f.a.get("/api/videos/get").then((function(e){t.setState({videos:e.data})}));case 6:return e.next=8,this.setIsLoading();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addLike",value:function(e){var t=this.state.data,n=this.props.user.user.id;console.log("this is add like()",n);this.state.userId;if(void 0!=n)for(var r in f.a.post("/api/projects/like",{user_id:n,params_id:e}).then((function(e){})),t)t[r].model_id===e&&console.log(r,t[r],t[r].likes);else alert("please sign in")}},{key:"handleClick",value:function(){this.addLike()}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,s=t.projectSearch,i=t.openSearchBar,a=t.videos,o=t.isLoading,c=this.props.user.isLoggedIn,l=this.props.user.user,u=l.user_likes,d=(l.model_likes,l.id),p=n.filter((function(e){return e.name.toString().includes(s)})).map((function(t){return Object(r.jsx)(Ue,{data:t,projectIsLiked:e.projectIsLiked,handleClick:e.handleClick,isLoggedIn:c,likes:t.likes,id:d,user_likes:u},t.model_id)})),h=a.map((function(e){return Object(r.jsx)(Fe,{video_url:e.video_url,category:e.category,tag:e.tag,firebase_url:e.firebase_url,photo_url:e.photo_url,user_name:e.user_name,name:e.name,video_name:e.video_name},e.video_id)}));return Object(r.jsxs)("div",{children:[!0===o?Object(r.jsx)(se,{}):null,Object(r.jsxs)("header",{className:"sub-header",children:[Object(r.jsx)("a",{onClick:function(){return e.changeView("3D Models")},className:"null ".concat(!this.state.viewModels||"selected"),children:"3D Models"}),Object(r.jsx)("a",{onClick:function(){return e.changeView("Videos")},className:"null ".concat(!this.state.viewVideos||"selected"),children:"Videos"})]}),Object(r.jsxs)("div",{className:"explore-container",style:{paddingTop:"25px"},children:[Object(r.jsxs)("div",{className:"search-menu ".concat(!c||"slide-over"," ").concat(!!i||"search-menu-closed ".concat(!c||"slide-over")),children:[Object(r.jsx)("svg",{onClick:function(){return e.openSearch()},style:{width:"25px",opacity:".5"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(r.jsx)("div",{className:"show-bar ".concat(!i&&"dont-show-bar"),children:Object(r.jsx)("input",{placeholder:"search",type:"text",style:{height:"25px",width:"100px",borderRadius:"10px",color:"#fff",marginLeft:"10px"},onChange:function(t){return e.handleText("projectSearch",t.target.value)}})})]}),!0===this.state.viewModels?p:null,!0===this.state.viewVideos?h:null]})]})}}]),n}(s.Component));var zr=Object(S.b)((function(e){return e}),{loginUser:N,updateUser:C})(Gr),Br=(n(157),function(e){var t=e.data,n=t.content,s=t.tag,i=t.display;return Object(r.jsx)("div",{children:i?Object(r.jsxs)("div",{className:"doc-containers",children:[Object(r.jsx)("h4",{className:"about-h4",children:s}),Object(r.jsx)("span",{className:"h4-border"}),Object(r.jsx)("p",{className:"long-text",children:n})]}):null})}),Vr=function(e){var t=e.link_text,n=e.link_to;e.description;return Object(r.jsx)("div",{children:Object(r.jsx)("a",{href:"".concat(n),style:{textDecoration:"none"},children:Object(r.jsx)("h4",{style:{textDecoration:"none",color:"blue"},children:t})})})},Wr=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={link:"blender.org",linkText:"Blender",links:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/links/get").then((function(t){e.setState({links:t.data})}))}},{key:"render",value:function(){var e=this.state.links.map((function(e){return Object(r.jsx)(Vr,{link_to:e.link_to,link_id:e.link_id,link_text:e.link_text,description:e.description})}));return Object(r.jsx)("div",{className:"doc-containers",children:e})}}]),n}(s.Component),Kr=(n(158),function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).changeView=function(t){e.setState({currentView:t})},e.state={currentView:"main",about:[],general:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/documents/about").then((function(t){e.setState({about:t.data})})),f.a.get("/api/documents/general").then((function(t){e.setState({general:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.about,s=t.general,i=t.currentView,a=n.map((function(e){return Object(r.jsx)(Br,{data:e},e.doc_id)})),o=s.map((function(e){return Object(r.jsx)(Br,{data:e},e.doc_id)}));return Object(r.jsxs)("div",{className:"about-container",children:[Object(r.jsxs)("header",{className:"sub-header",style:{position:"relative"},children:[Object(r.jsx)("a",{onClick:function(){return e.changeView("main")},className:"".concat("main"===i?"selected":null),children:"main"}),Object(r.jsx)("a",{onClick:function(){return e.changeView("links")},className:"".concat("links"===i?"selected":null),children:"links"})]}),Object(r.jsxs)("section",{children:["main"===i?Object(r.jsx)("div",{children:a}):null,"main"===i?Object(r.jsx)("div",{children:o}):null,"links"===i?Object(r.jsx)(Wr,{}):null]})]})}}]),n}(s.Component));var Hr=Object(S.b)((function(e){return e}),{updateUser:C})(Kr),Jr=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("h3",{})})};var qr=Object(S.b)((function(e){return e}),{registerUser:I})((function(e){var t=Object(s.useState)(""),n=Object(te.a)(t,2),i=n[0],a=n[1],o=Object(s.useState)(""),c=Object(te.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(""),p=Object(te.a)(d,2),h=p[0],j=p[1],b=Object(s.useState)(""),x=Object(te.a)(b,2),m=x[0],f=x[1],g=Object(s.useState)(""),O=Object(te.a)(g,2),v=(O[0],O[1],Object(s.useState)("")),w=Object(te.a)(v,2),k=(w[0],w[1],Object(s.useState)(!1)),y=Object(te.a)(k,1)[0],_=Object(s.useState)(!1),L=Object(te.a)(_,1)[0],N=Object(s.useState)(!1),I=Object(te.a)(N,2),C=I[0],S=I[1],M=Object(s.useState)(!1),P=Object(te.a)(M,2),U=P[0],T=P[1];function D(){T(!U)}return Object(s.useEffect)((function(){console.log("props from Register",e)}),[]),Object(r.jsx)("div",{className:"signup-menu",children:U?Object(r.jsx)(ne,{handleOpenIAgree:D}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{style:{color:"#555"},children:"Register"}),Object(r.jsxs)("div",{className:"one-line",children:[Object(r.jsx)("p",{className:"text",children:"Username"}),Object(r.jsx)("input",{value:i,onChange:function(e){return a(e.target.value)}})]}),Object(r.jsxs)("div",{className:"one-line",children:[Object(r.jsx)("p",{className:"text",children:"Password"}),Object(r.jsx)("input",{className:"text-bar",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(r.jsxs)("div",{className:"one-line",children:[Object(r.jsx)("p",{className:"text",children:"Email"}),Object(r.jsx)("input",{value:h,onChange:function(e){return j(e.target.value)}})]}),Object(r.jsxs)("div",{className:"one-line",children:[Object(r.jsx)("p",{className:"text",children:"First Name"}),Object(r.jsx)("input",{value:m,onChange:function(e){return f(e.target.value)}})]}),Object(r.jsxs)("div",{className:"one-line",children:[Object(r.jsx)("p",{className:"text",children:"Last Name"}),Object(r.jsx)("input",{value:m,onChange:function(e){return f(e.target.value)}})]}),Object(r.jsxs)("div",{className:"agreement-check",children:[Object(r.jsx)("input",{type:"checkbox",style:{marginRight:"20px",marginTop:"5px"},onChange:function(e){return S(!C)}}),Object(r.jsx)("h5",{style:{color:"blue",fontWeight:"200"},onClick:D,children:"terms of use"})]}),C?Object(r.jsx)("div",{className:"register-link",onClick:function(){e.registerUser(i,l,h,m,y,L)},children:Object(r.jsx)("h4",{children:"signup now"})}):Object(r.jsx)("div",{className:"register-link",onClick:function(){alert("please agree to conditions")},children:Object(r.jsx)("h4",{children:"signup now"})})]})})})),Yr=(n(159),function(){return Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Xr=function(){return Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})},Zr=function(e){var t=e.openMenu,n=e.setOpenMenu;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"edit-photo-button",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return n(!t)},children:!1===t?Object(r.jsx)(Xr,{}):Object(r.jsx)(Yr,{})})};function Qr(){var e=Object(M.a)(["\n    width:100%;\n    \n    @media (max-width:680px) {\n        margin-left:auto;\n        margin-right:auto;\n        width:280px;\n    }\n"]);return Qr=function(){return e},e}function $r(){var e=Object(M.a)(["\n    height: 40px;\n    width: 250px;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n\n    p {font-size:16px;}\n"]);return $r=function(){return e},e}function es(){var e=Object(M.a)(["\n    position: absolute;\n    height: 90px;\n    width: 150px;\n    right: 0px;\n    top: 50px;\n    border-radius: 5px;\n    background-color: #6495ed;\n    z-index: 1;\n    text-align: left;\n"]);return es=function(){return e},e}function ts(){var e=Object(M.a)(["\n    position:relative;\n"]);return ts=function(){return e},e}var ns=P.b.section(ts()),rs=P.b.div(es()),ss=P.b.div($r()),is=P.b.img(Qr()),as=Object(S.b)((function(e){return e}))((function(e){var t=e.url,n=e.maker_id,i=e.id,a=e.model_id,o=e.getImages,c=e.main_image_url,l=e.stateHandler,p=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),null,f.a.post("/api/projects/photos/change/main/",{model_id:a,gone:null});case 9:return e.next=11,f.a.post("/api/projects/photos/delete/",{url:t,main_image_url:c,model_id:a}).then((function(e){l("selectedPhoto",null)}));case 11:return n=e.sent,e.next=14,o();case 14:return x(!b),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),h=Object(s.useState)(!1),j=Object(te.a)(h,2),b=j[0],x=j[1];return Object(r.jsxs)(ns,{children:[n===i&&null!=t&&Object(r.jsx)(Zr,{openMenu:b,setOpenMenu:x}),!0===b&&n===i?Object(r.jsxs)(rs,{style:{top:"30px",left:"15px",height:"85px",width:"210px"},children:[Object(r.jsxs)(ss,{onClick:function(){return x(!b),void f.a.post("/api/projects/photos/change/main/",{model_id:a,url:t})},children:[Object(r.jsx)(z,{}),Object(r.jsx)("p",{children:"Display As Main Photo"})]}),Object(r.jsxs)(ss,{onClick:function(){return p(t)},children:[Object(r.jsx)(R,{}),Object(r.jsx)("p",{children:"Delete This Photo"})]})]}):null,Object(r.jsx)(is,{src:t})]})}));n(77);function os(){var e=Object(M.a)(["\n    height: 85%;\n    width: 100%;\n    text-align: left;\n    color: #555;\n    font-size: 18px;\n    font-weight: 200;\n    letter-spacing: 1px;\n    line-height: calc(1ex / 0.32);\n    text-shadow:0 0 0 #000, 0 0 1px transparent;\n"]);return os=function(){return e},e}function cs(){var e=Object(M.a)(["\n    width: 500px;\n    height: 100%;\n    margin-left: 20px;\n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n    align-items: baseline;\n    overflow: scroll;\n"]);return cs=function(){return e},e}function ls(){var e=Object(M.a)(["\n    height: 50px;\n    width: 50px;\n    margin-bottom: 50px;\n    margin-left: 10px;\n    border-radius: 5px;\n"]);return ls=function(){return e},e}function us(){var e=Object(M.a)(["\n    position: relative;\n    height: 120px;\n    width: 90%;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: flex-start;\n    align-content: stretch;\n    border-bottom: solid 1px #95b3ec;\n"]);return us=function(){return e},e}var ds=P.b.div(us()),ps=P.b.img(ls()),hs=P.b.section(cs()),js=P.b.div(os());var bs=Object(S.b)((function(e){return e}),{updateUser:C})((function(e){var t=e.content,n=e.photo_url,i=e.user_id,a=e.comment_id,o=e.user.user.id,c=Object(s.useState)(!1),l=Object(te.a)(c,2),p=l[0],h=l[1],j=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i!==o){t.next=3;break}return t.next=3,f.a.delete("/api/comments/user/delete/".concat(a)).then((function(){e.getComments()}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)(ds,{children:[Object(r.jsx)(ps,{src:n}),Object(r.jsxs)(hs,{children:[Object(r.jsx)(js,{children:Object(r.jsx)("p",{children:t})}),void 0!=o&&o===i&&Object(r.jsx)(E,{onClick:function(){return h(!p)}}),p&&Object(r.jsx)("ul",{className:"friend-options",style:{width:"130px",height:"40px"},children:Object(r.jsxs)("li",{className:"friend-menu-row",onClick:function(){return j()},children:[Object(r.jsx)(R,{}),Object(r.jsx)("p",{className:"friend-menu-text",children:"Delete post"})]})})]})]})})),xs=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={text:""},e.handleText=e.handleText.bind(Object(j.a)(e)),e.sendPost=e.sendPost.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"sendPost",value:function(e){var t=this.state.text,n=this.props,r=n.id,s=n.model_id,i=n.user;!0===e?f.a.post("/api/comments/create",{id:r,model_id:s,user:i,text:t}).then(this.props.getComments):this.props.plsSignIn()}},{key:"handleText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props.isLoggedIn;return Object(r.jsxs)("div",{className:"create-post",style:{minHeight:"100px"},children:[Object(r.jsx)("textarea",{className:"comment-text-input post-input",value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(r.jsx)("a",{className:"add-button",onClick:function(){return e.sendPost(t)},style:{marginLeft:"200px"},children:"send"})]})}}]),n}(s.Component),ms=function(e){var t=e.url,n=e.isLoggedIn;return Object(r.jsx)("div",{children:n?Object(r.jsx)("a",{className:"dark-text",href:t,target:"_blank",rel:"noopener noreferrer",children:"Download"}):Object(r.jsx)("a",{className:"dark-text",onClick:e.plsSignIn,children:"Download"})})},fs=(n(160),n(161),function(e){var t=e.info,n=e.userInfo,s=n.user_name,i=n.photo_url;return Object(r.jsxs)("div",{className:"maker",style:{margin:"auto",marginTop:"5px"},children:[Object(r.jsx)("img",{src:i,className:"project-user-photo",style:{marginRight:"20px"}}),Object(r.jsxs)("h4",{style:{paddingBottom:"0px",paddingTop:"15px"},children:[t.name,Object(r.jsx)("br",{style:{paddingBottom:"10px"}}),Object(r.jsxs)("i",{children:["by ",s]})]})]})});function gs(){var e=Object(M.a)(["\n    margin:auto;\n    margin-left:0px;\n    color:",";\n"]);return gs=function(){return e},e}function Os(){var e=Object(M.a)(["\n    padding-top: 15px;\n    padding-bottom: 5px;\n    color: ",";\n    margin-left: 10px;\n"]);return Os=function(){return e},e}var vs=P.b.h4(Os(),(function(e){return e.viewFiles?"#fff":"#555"})),ws=P.b.p(gs(),(function(e){return e.condition?"#fff":"#555"})),ks={backgroundColor:"#3c598e"},ys=function(e){var t=e.state,n=e.isLoggedIn,s=e.authorized,i=e.clickLike,a=e.changeView,o=t.viewFiles,c=t.myLike,l=t.viewComments,u=t.viewEditProject,d=t.addedToFavorites,p=t.viewInfo;return Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{style:o?ks:null,onClick:function(){return a("viewFiles")},children:Object(r.jsx)(vs,{viewFiles:o,children:"Download Files"})}),Object(r.jsxs)("li",{onClick:i,children:[!0===n&&!0===c?Object(r.jsx)(A,{}):Object(r.jsx)(G,{}),Object(r.jsx)(ws,{children:"Like"})]}),Object(r.jsxs)("li",{style:l?ks:null,onClick:function(){return a("viewComments")},children:[Object(r.jsx)(we,{params:"comments"}),Object(r.jsx)(ws,{condition:l,children:"Comments"})]}),Object(r.jsxs)("li",{style:u||d?ks:null,onClick:function(){return a(!0===s()?"viewEditProject":"viewInfo")},children:[!0===s()?Object(r.jsx)(we,{params:"edit_project",fill:"none",stroke:"currentColor"}):Object(r.jsx)(we,{params:"folder",fill:"none",stroke:"currentColor"}),Object(r.jsx)(ws,{condition:u||d,children:s()?"Edit Project":"Add to Favorites"})]}),Object(r.jsxs)("li",{style:p?ks:null,onClick:function(){return a("viewInfo")},children:[Object(r.jsx)(we,{params:"info",fill:"none",stroke:"currentColor"}),Object(r.jsx)(ws,{condition:p,children:"Info"})]})]})};function _s(){var e=Object(M.a)(["\n    padding: 10px;\n    padding-left: 25px;\n    margin: 15px;\n    min-height: 30px;\n    width: 400px;\n    background-color: white;\n    border-radius: 5px;\n    box-shadow: 1px #d1d1d1;\n    color: #555;\n    text-align: left;\n    display: flex;\n    flex-direction: column;\n\n    @media (max-width: 700px) {\n        width: 300px;\n    }\n"]);return _s=function(){return e},e}function Ls(){var e=Object(M.a)(["\n    background-color: #6495ed;\n    opacity: .8;\n    height: 32px;\n    width: 100%;\n\n    @media (max-width:680px) {\n        width:300px;\n    }\n"]);return Ls=function(){return e},e}function Ns(){var e=Object(M.a)(["\n    margin: auto;\n    margin-top: 10px;\n    min-height: 300px;\n    width: 645px;\n    border-radius: .1%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    @media (max-width:680px) {\n        width:300px;\n    }\n"]);return Ns=function(){return e},e}function Is(){var e=Object(M.a)(["\n    margin: auto;\n    margin-bottom: 0px;\n    margin-top: 5px;\n    height: 312px;\n    width: 660px;\n    display: flex;\n    justify-content: center;\n\n    section {\n        width: 440px;\n        min-height: 100px;\n        margin: 2px;\n        display: flex;\n\n        @media (max-width:680px) {\n            width:300px;\n        }\n    }\n\n    ul {\n        width: 220px;\n\n        li {\n            background-color: #fff;\n            display: flex;\n            height: 59px;\n            width: 100%;\n            margin-left: 2px;\n            margin-top: auto;\n            margin-bottom: auto;\n            border-bottom: solid 1px rgb(85, 85, 85,.3) ;\n            border-left:solid 1px rgb(85, 85, 85,.3)  ;\n            border-right:solid 1px rgb(85, 85, 85,.3) ;\n        }\n    }\n\n    @media (max-width:680px) {\n        min-height: 500px;\n        flex-direction: column;\n        align-items: center;\n        width: 300px;\n        \n        img {\n        }\n    }\n"]);return Is=function(){return e},e}function Cs(){var e=Object(M.a)(["\n    height: 75px;\n    width: 645px;\n    background-color: #fff;\n    border-radius: 5px;\n    margin: auto;\n    margin-bottom: 4px;\n    margin-top: 4px;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center;\n    overflow: hidden;\n    border: solid 1px rgb(85, 85, 85,.3);\n\n    @media (max-width:680px) {\n        width: 300px;\n    }\n"]);return Cs=function(){return e},e}function Ss(){var e=Object(M.a)(["\n    margin: none;\n    min-height: 90vh;\n    min-width: 100vw;\n    background-size: cover; \n    background-position: center bottom;\n    background-attachment: fixed;\n    display: flex;\n    flex-direction: column;\n    background-image: linear-gradient(120deg,#ffffff 20%,rgba(150, 150, 150, .6));\n    background-repeat: no-repeat;\n    background-position: right top;\n"]);return Ss=function(){return e},e}var Ms=P.b.section(Ss()),Ps=P.b.section(Cs()),Us=P.b.section(Is()),Ts=P.b.section(Ns()),Ds=P.b.header(Ls()),Fs=P.b.p(_s()),Es=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).changeView=function(t){window.scrollTo({top:1200,behavior:"smooth"}),e.resetView(),e.setState(Object(me.a)({},t,!0))},e.plsSignIn=function(){window.scrollTo(0,0),e.props.remoteLogin(!0)},e.likeFunc=Object(d.a)(u.a.mark((function t(){var n,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user.user.id,r=e.state.model_id,s=n,t.next=5,f.a.post("/api/projects/like",{user_id:s,model_id:r});case 5:e.setState({myLike:!e.state.myLike});case 6:case"end":return t.stop()}}),t)}))),e.clickLike=function(){var t=e.props.user,n=t.isLoggedIn,r=t.loginOpen;!0===n?e.likeFunc():(window.scrollTo(0,0),e.props.remoteLogin(!r))},e.setIsDeleted=function(){e.setState({isDeleted:!e.state.isDeleted})},e.stateHandler=function(t,n){e.setState(Object(me.a)({},t,n))},e.highLightedPhoto=function(t){e.setState({selectedPhoto:t})},e.state={maker_id:null,model_id:null,dlUrl:"",info:[],userInfo:[],comments:[],files:[],viewFiles:!0,viewComments:!1,viewDetails:!1,viewEditProject:!1,viewInfo:!1,addedToFavorites:!1,myLike:!1,allLikes:[],modelImages:[],isDeleted:!1,selectedPhoto:null},e.changeView=e.changeView.bind(Object(j.a)(e)),e.getDetails=e.getDetails.bind(Object(j.a)(e)),e.plsSignIn=e.plsSignIn.bind(Object(j.a)(e)),e.getComments=e.getComments.bind(Object(j.a)(e)),e.likeFunc=e.likeFunc.bind(Object(j.a)(e)),e.clickLike=e.clickLike.bind(Object(j.a)(e)),e.setIsDeleted=e.setIsDeleted.bind(Object(j.a)(e)),e.getImages=e.getImages.bind(Object(j.a)(e)),e.highLightedPhoto=e.highLightedPhoto.bind(Object(j.a)(e)),e.stateHandler=e.stateHandler.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getDetails().then((function(e){return console.log(e)})),this.getImages(),this.getComments()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.model_id;e.match.params.model_id!==t&&(this.getDetails(),this.getImages())}},{key:"getImages",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.model_id,f.a.get("/api/project/photos/get/".concat(t)).then((function(e){n.setState({modelImages:e.data})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetails",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.model_id,e.next=3,f.a.get("/api/projects/id/".concat(t)).then((function(e){var r=e.data[0].user_id;f.a.get("/api/users/".concat(r)).then((function(s){var i=n.props.user.user.id,a=n.props.user.isLoggedIn;f.a.get("/api/project/photos/get/".concat(t)).then((function(i){n.setState({maker_id:r,model_id:t,dlUrl:e.data.firebase_url,info:e.data[0],userInfo:s.data[0],modelImages:i.data,selectedPhoto:e.data[0].firebase_url01})})),!0===a&&f.a.post("/api/project/getLike",{id:i,model_id:t}).then((function(e){null!=e.data.user_id&&n.setState({myLike:!0})}))}))})).catch((function(e){n.props.history.push("/404")}));case 3:return e.next=5,f.a.get("");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.model_id,f.a.get("/api/comments/id/".concat(t)).then((function(e){n.setState({comments:e.data})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetView",value:function(){this.setState({viewFiles:!1,viewComments:!1,viewDetails:!1,viewEditProject:!1,viewInfo:!1,addedToFavorites:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.comments,s=t.model_id,i=t.maker_id,a=(t.myLike,this.state),o=a.info,c=a.userInfo,l=a.viewComments,u=a.viewFiles,d=a.viewInfo,p=a.viewEditProject,h=a.modelImages,j=a.isDeleted,b=a.selectedPhoto,x=(a.addedToFavorites,this.props.user.isLoggedIn),m=this.props.user.user,f=m.user,g=m.id,O=function(){if(x&&g===i)return!0},v=n.map((function(t){return Object(r.jsx)(bs,{content:t.text,model_id:t.model_id,date_created:t.date_created,photo_url:t.photo_url,comment_id:t.comment_id,user_id:t.user_id,user_name:t.user_name,getComments:e.getComments},t.comment_id)})),w=h.map((function(t){return Object(r.jsx)("div",{onClick:function(){return e.highLightedPhoto(t.photo_url)},children:Object(r.jsx)("img",{className:"thumbnail-image",src:t.photo_url})},t.image_id)}));return Object(r.jsx)(r.Fragment,{children:j?Object(r.jsx)(xe.Route,{path:"/",component:$e}):Object(r.jsxs)(Ms,{children:[Object(r.jsx)("section",{onClick:function(){return e.props.history.push("/viewuser/".concat(i))},children:Object(r.jsx)(fs,{userInfo:c,info:o,maker_id:i})}),Object(r.jsx)(Ps,{children:w}),Object(r.jsxs)(Us,{children:[Object(r.jsx)(as,{model_id:s,url:b,maker_id:i,id:g,getImages:this.getImages,main_image_url:this.state.info.firebase_url01,stateHandler:this.stateHandler}),Object(r.jsx)(ys,{state:this.state,authorized:O,isLoggedIn:x,clickLike:this.clickLike,changeView:this.changeView})]}),Object(r.jsxs)(Ts,{children:[Object(r.jsx)(Ds,{children:Object(r.jsxs)("h3",{children:[l&&"Comments",u&&"Download File",d&&"Information",p&&"Edit Project"]})}),l&&Object(r.jsx)(xs,{user:f,id:g,isLoggedIn:x,model_id:s,plsSignIn:this.plsSignIn,getComments:this.getComments},g),l&&v,u&&Object(r.jsx)(ms,{url:o.firebase_url,isLoggedIn:x,plsSignIn:this.plsSignIn}),p&&O()&&Object(r.jsx)(gt,{info:o,model_id:s,user_id:g,user_name:f,modelImages:h,getDetails:this.getDetails,setIsDeleted:this.setIsDeleted,getImages:this.getImages},s),d&&Object(r.jsx)(Fs,{children:o.description})]})]})})}}]),n}(s.Component);var Rs=Object(S.b)((function(e){return e}),{loginUser:N,updateUser:C,remoteLogin:L})(Es),As=n(84),Gs=n.n(As);n(162);Object(S.b)((function(e){return e}),{getModels:ve,updateUser:C})((function(e){var t=e.data,n=(t.category,t.img,t.firebase_url),i=t.firebase_url01,a=t.name,o=(t.description,t.user_name),c=(t.model_likes,t.model_id),l=t.photo_url,p=(t.user_id,t.likes),h=e.user.user,j=(h.handleClick,h.id),b=h.user_likes,x=e.user.isLoggedIn,m=Object(s.useState)(0),g=Object(te.a)(m,2),O=g[0],v=g[1],w=Object(s.useState)(!1),k=Object(te.a)(w,2),y=k[0],_=k[1];Object(s.useEffect)((function(){v(p),e.updateUser()}),[]);var L=function(){alert("please sign in")},N=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,s=n,e.next=4,f.a.post("/api/projects/like",{user_id:r,model_id:s});case 4:return e.next=6,I(s);case 6:return e.next=8,_(!y);case 8:return e.next=10,S(y);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("params",t),f.a.get("/api/like/update/".concat(t)).then((function(e){var t=e.data[0].likes;console.log(t),v(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){!0===x&&void 0!=j?N(j,c):L()},S=function(t){return!0===e.projectIsLiked(c,b)};return Object(r.jsxs)("div",{className:"project-container",children:[S(),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"photo-title-border",children:[Object(r.jsx)("img",{src:function(){var t=e.user_photo_url;return void 0!=l?l:t}(),className:"project-user-photo"}),Object(r.jsxs)("p",{className:"dark-text",children:[a,Object(r.jsx)("br",{}),Object(r.jsxs)("p",{className:"usr-nm-txt",children:["by ",function(){var t=e.current_user_name;return void 0!=o?o:t}()]})]})]}),Object(r.jsx)("div",{className:"image-div",children:Object(r.jsx)(ee.c,{to:"/projectdetails/".concat(c),children:Object(r.jsx)("img",{className:"model-photo",src:i})})})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"download-container",children:[x?Object(r.jsx)("a",{href:"".concat(n),children:Object(r.jsx)("svg",{className:"small-icon",style:{marginLeft:"10px",marginRight:"5px",height:"50px",width:"50px",opacity:"60%"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}):Object(r.jsx)("a",{onClick:L,children:Object(r.jsx)("svg",{className:"small-icon",style:{marginLeft:"10px",marginRight:"5px",height:"50px",width:"50px",opacity:"60%"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),x?Object(r.jsx)("a",{className:"project-text",href:"".concat(n),children:"download"}):Object(r.jsx)("a",{className:"project-text",onClick:L,children:"download"}),Object(r.jsx)("div",{className:"like-share",children:Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"like-share-box",style:{borderBottom:"1px solid #555"},children:[!1===S()?Object(r.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:function(){return C()},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(r.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),Object(r.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:O})]}),Object(r.jsxs)("div",{className:"like-share-box",children:[Object(r.jsx)("svg",{className:"small-icon small-icon-tweaks",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),Object(r.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:"share"})]})]})})]})})]})})),n(163),n(78),n(47),n(164);var zs=function(e){Object(s.useEffect)((function(){l===u&&o(!0)}),[]);var t,n=Object(s.useState)(!1),i=Object(te.a)(n,2),a=i[0],o=i[1],c=e.content,l=e.loggedInUser,u=e.user_id,d=e.photo_url,p=e.date_created.split("T"),h=p[0].split("-"),j=p[1].split(":");return Object(r.jsxs)("div",{className:"over-flow ".concat(l===u||"user-over-flow"),style:{},children:[Object(r.jsxs)("div",{className:"my-message-container ".concat(l===u||"user-message-container"),children:[Object(r.jsx)("p",{className:"time-stamp",style:{textTransform:"none",fontSize:"xx-small"},children:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(h[1])-1]+" "+h[2]+" "+h[0]}),Object(r.jsx)("p",{style:{textTransform:"none"},children:c}),Object(r.jsx)("p",{style:{textTransform:"none",fontSize:"xx-small"},children:(t=j,t[0]>12?t[0]-12+":"+t[1]+" pm":t[0]+":"+t[1]+" am")})]}),Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:d,className:"my-message-photo ".concat(!!a||"my-message-photo")})})]})},Bs=new $t.w3cwebsocket(en),Vs=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getConnected=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,s,i,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props,s=r.user_id,i=r.conversation_id,a=e.props.user.user.id,Bs.onopen=function(){console.log("WebSocket Client Connected")},Bs.onmessage=function(t){var n=JSON.parse(t.data);n.from,n.to;"message"===n.type&&n.conversation_id===i&&e.props.checkForExistingMessage(a,s)};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendToSockets=function(t,n,r){var s=e.state,i=(s.messages,s.loggedInUser,e.props.user.user),a=i.user,o=i.photo,c=i.id;Bs.send(JSON.stringify({type:"message",conversation_id:n,msg:t,to:r,user:a,from:c,photo:o}))},e.executeSendMessage=Object(d.a)(u.a.mark((function t(){var n,r,s,i,a,o,c,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.text,r=e.props.user.user,s=r.id,r.photo,i=e.props.user_id,a=s,o=e.props.user.isLoggedIn,c=e.props.currentUserMessage,0==o||void 0==s){t.next=17;break}if(null!==c){t.next=12;break}return t.next=10,f.a.post("/api/conversation/new",{user_id:a,to_user:i,text:n}).then((function(t){e.sendToSockets(n,t.data.conversation_id,i)}));case 10:t.next=17;break;case 12:return l=c[0].conversation_id,t.next=15,f.a.post("/api/conversation/user/new",{conversation_id:l,user_id:a,text:n,to_user:i});case 15:e.sendToSockets(n,l,i,a),e.setState({text:""});case 17:case"end":return t.stop()}}),t)}))),e.processMessages=function(){var t=e.props,n=t.currentUserMessage,s=t.user_id;if(null!=n)return n.map((function(e){return Object(r.jsx)(zs,{loggedInUser:s,content:e.content,user_id:e.user_id,photo_url:e.photo_url,user_name:e.user_name,date_created:e.date_created},e.message_id)}))},e.state={currentConversationId:null,newMessages:[],text:""},e.handleText=e.handleText.bind(Object(j.a)(e)),e.executeSendMessage=e.executeSendMessage.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.currentUserMessage;this.getConnected()}},{key:"handleText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props.user_name;return Object(r.jsxs)("div",{className:"create-message-container",children:[Object(r.jsxs)("h4",{className:"message-board-title",style:{width:"105%",left:"-5px",textTransform:"none"},children:[t,Object(r.jsx)("div",{style:{position:"absolute",right:"0px",top:"0px"},onClick:function(){return e.props.openMessageBox()},children:Object(r.jsx)(we,{params:"largeX",fill:"#fff"})})]}),Object(r.jsxs)("section",{className:"create-message-input",children:[Object(r.jsx)("textarea",{className:"message-input",style:{width:"250px",marginLeft:"10px",maxHeight:"50px"},value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(r.jsx)("button",{style:{position:"relative",width:"50px"},onClick:function(){return e.executeSendMessage()},children:Object(r.jsx)("div",{children:Object(r.jsx)(we,{params:"send",fill:"none",stroke:"#fff",style:{position:"absolute",top:"-10",left:"-10"}})})})]}),Object(r.jsx)("section",{className:"thread-layout",children:Object(r.jsx)("div",{children:this.processMessages()})})]})}}]),n}(s.Component);var Ws=Object(S.b)((function(e){return e}),{updateUser:C})(Vs),Ks=new $t.w3cwebsocket(en),Hs=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).getConnectionStatus=Object(d.a)(u.a.mark((function e(){var t,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.user.user.id,n=r.props.user.isLoggedIn,s=r.props.match.params.user_id,void 0==t||!0!==n){e.next=7;break}return e.next=6,f.a.post("/api/get/friend/status",{id:t,user_id:s}).then((function(e){return r.setState({friendShipInfo:e.data})})).catch((function(e){console.log("no connection yet",e)}));case 6:r.checkForExistingMessage(t,s);case 7:case"end":return e.stop()}}),e)}))),r.checkForExistingMessage=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/conversation/exists",{id:t,user_id:n}).then((function(e){var t=e.data,n=t.messages,s=t.conversation_id;r.setState({currentUserMessage:n,conversation_id:s})})).catch((function(e){return console.log("there are no conversations yet",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.openMessageBox=function(){var e=r.props.user.isLoggedIn;void 0!=r.props.user.user.id&&!0===e?r.setState({openMessageBox:!r.state.openMessageBox}):r.props.remoteLogin(!0)},r.sendConnectInvite=function(){var e=r.props.user.user.id,t=r.props.user.isLoggedIn,n=r.state.user[0].user_id;r.setState({friendShipInfo:!0}),void 0!=e&&!0===t?(f.a.post("/api/friends/add",{id:e,friend_id:n,no:!1}).then().catch((function(e){return console.log(e)})),r.sendToSocket()):r.props.remoteLogin()},r.sendToSocket=function(){var e=r.props.match.params.user_id,t=r.props.user.user,n={toUser:e,id:t.id,photo:t.photo,user:t.user};Ks.send(JSON.stringify({type:"new_friend",fromUser:n}))},r.setIsLoading=function(){r.setState({isLoading:!r.state.isLoading})},r.state={currentUserMessage:null,conversation_id:null,items:[],user:[],showUserInfo:!0,showCollections:!1,showAdminPage:!1,showCreateProject:!1,showEditUserInto:!1,profilePic:null,userName:null,user_id:null,isLoading:!1,setPermission:!0,openMessageBox:!1,friendShipInfo:null},r.setIsLoading=r.setIsLoading.bind(Object(j.a)(r)),r.openMessageBox=r.openMessageBox.bind(Object(j.a)(r)),r.checkForExistingMessage=r.checkForExistingMessage.bind(Object(j.a)(r)),r.getUserAndProjects=r.getUserAndProjects.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.user_id;this.props.updateUser(),this.getUserAndProjects(t),f.a.get("/api/users/".concat(t)).then((function(t){return e.setState({user:t.data})}))}},{key:"componentDidUpdate",value:function(){!1===this.props.user.isLoggedIn&&null!=this.state.conversation_id&&this.setState({currentUserMessage:null,conversation_id:null,friendShipInfo:null}),null===this.state.friendShipInfo&&this.getConnectionStatus()}},{key:"getUserAndProjects",value:function(e){var t=this;f.a.get("/api/user/projects/get/".concat(e)).then((function(e){t.setState(Object(c.a)(Object(c.a)({},t.state),{},{items:e.data}))}))}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){}}},{key:"handleFriends",value:function(){this.setState({isView:"isFriends"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,s=t.isLoading,i=t.user,a=t.currentUserMessage,o=t.conversation_id,c=this.props.user.user.id,l=this.props.user.isLoggedIn,u=this.props.match.params.user_id,d=i.map((function(t){return Object(r.jsx)(Ws,{user_id:t.user_id,user_name:t.user_name,conversation_id:o,currentUserMessage:a,pleaeLogin:e.pleaseLogin,openMessageBox:e.openMessageBox,sendToSocket:e.sendToSocket,checkForExistingMessage:e.checkForExistingMessage},t.user_id)})),p=i.map((function(e){return Object(r.jsx)("h4",{className:"portrait-row",style:{textTransform:"none"},children:e.user_name},e.user_id)})),h=i.map((function(e){return Object(r.jsx)("img",{src:e.background_url,className:"background-photo"},e.user_id)})),j=i.map((function(e){return Object(r.jsx)("img",{className:"profile-photo",src:e.photo_url,alt:"photo"},e.user_id)})),b=n.map((function(t){return Object(r.jsx)(Ue,{model_id:t.model_id,data:t,projectIsLiked:e.projectIsLiked},t.model_id)}));return Object(r.jsxs)("div",{className:"user-page",children:[this.state.openMessageBox&&l?d:null,s?Object(r.jsx)(se,{}):null,Object(r.jsxs)("section",{className:"column1",children:[h,Object(r.jsxs)("div",{className:"portrait",children:[j,p,Object(r.jsxs)("div",{className:"portrait-row",children:[parseInt(u)===c||Object(r.jsx)("p",{className:"user-buttons",style:{marginTop:"30px",paddingTop:"3px"},onClick:function(){return e.openMessageBox()},children:"Message"}),!0===this.props.user.isLoggedIn&&1!=this.state.friendShipInfo?Object(r.jsx)("p",{className:"user-buttons",style:{marginTop:"30px",paddingTop:"3px"},onClick:function(){return e.sendConnectInvite()},children:"Connect"}):null]})]})]}),Object(r.jsx)("section",{className:"column2",children:Object(r.jsx)("div",{className:"collections",children:b})})]})}}]),n}(s.Component);var Js=Object(S.b)((function(e){return e}),{updateUser:C,remoteLogin:L})(Hs),qs=function(e){Object(s.useEffect)((function(){l===u&&o(!0)}),[]);var t,n=Object(s.useState)(!1),i=Object(te.a)(n,2),a=i[0],o=i[1],c=e.content,l=e.loggedInUser,u=e.user_id,d=e.photo_url,p=e.date_created.split("T"),h=p[0].split("-"),j=p[1].split(":");return Object(r.jsxs)("div",{className:"over-flow ".concat(l===u||"user-over-flow"),children:[Object(r.jsxs)("div",{className:"my-message-container ".concat(l===u||"user-message-container"),children:[Object(r.jsx)("p",{className:"time-stamp",style:{textTransform:"none",fontSize:"xx-small"},children:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(h[1])-1]+" "+h[2]+" "+h[0]}),Object(r.jsx)("p",{style:{textTransform:"none"},children:c}),Object(r.jsx)("p",{style:{textTransform:"none",fontSize:"xx-small"},children:(t=j,t[0]>12?t[0]-12+":"+t[1]+" pm":t[0]+":"+t[1]+" am")})]}),Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:d,className:"my-message-photo ".concat(!!a||"my-message-photo")})})]})},Ys=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).executeSendMessage=Object(d.a)(u.a.mark((function e(){var t,n,s,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.text,n=r.props,s=n.user_id,i=n.conversation_id,a=n.to_user,e.next=4,f.a.post("/api/conversation/user/new",{conversation_id:i,user_id:s,text:t,to_user:a});case 4:return e.next=6,r.props.sendToSockets(t,i,a);case 6:r.setState({text:""});case 7:case"end":return e.stop()}}),e)}))),r.state={text:""},r.handleText=r.handleText.bind(Object(j.a)(r)),r.executeSendMessage=r.executeSendMessage.bind(Object(j.a)(r)),r}return Object(h.a)(n,[{key:"handleText",value:function(e,t){this.setState(Object(me.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isLoggedIn,t.conversation_id);return Object(r.jsx)("div",{children:null!=n?Object(r.jsxs)("div",{className:"input-background",style:{maxHeight:"50px"},children:[Object(r.jsx)("textarea",{className:" message-input",style:{minHeight:"45px"},value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(r.jsx)("div",{className:"send-message-button",onClick:function(){return e.executeSendMessage()},style:{position:"absolute",height:"30px",width:"30px"},children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})})})]}):null})}}]),n}(s.Component),Xs=(n(165),function(e){var t=e.photo_url,n=e.conversation_id,i=e.selectedMessage,a=e.user_name,o=e.read_by,c=e.id,l=e.to_user,u=Object(s.useState)(!1),d=Object(te.a)(u,2),p=d[0],h=d[1];Object(s.useEffect)((function(){}),[]);return Object(r.jsxs)("div",{className:"selected-message-container ".concat(i!=n||"selected-message-selected"),onClick:function(){return function(t){e.openMessage(t,l),f.a.post("api/messages/read/",{cancel:null,conversation_id:n}),h(!0)}(n)},children:[Object(r.jsx)("img",{className:"senders-photo",src:t}),o===c&&!1===p?Object(r.jsx)("p",{className:"new-message",children:"new!"}):null,Object(r.jsx)("p",{className:"display-name-message",children:a})]})}),Zs=new $t.w3cwebsocket(en),Qs=function(e){Object(b.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getConnected=function(t){var n=e.state.conversation_id;Zs.onopen=function(){},Zs.onmessage=function(r){var s=JSON.parse(r.data);s.to===e.state.loggedInUser&&e.setState({gotNewMessage:!0}),"message"===s.type&&t===n&&(e.openMessage(n),e.setState((function(t){return{newMessages:[].concat(Object(pt.a)(e.state.newMessages),[{msg:s.msg,user:s.user}])}})))}},e.sendToSockets=function(t,n,r){var s=e.state;s.messages,s.loggedInUser,e.props.user.user.user;Zs.send(JSON.stringify({type:"message",conversation_id:n,msg:t,to:r}))},e.getMessages=function(){var t=e.props.user.user.id,n=t;f.a.get("/api/conversations/".concat(n)).then((function(n){e.setState({messages:n.data,loggedInUser:t})}))},e.openMessage=function(){var t=Object(d.a)(u.a.mark((function t(n,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("/api/conversation/messages/get/".concat(n)).then((function(t){e.setState({thread:t.data,conversation_id:n,openContacts:!1,to_user:r})}));case 2:return t.next=4,e.getConnected(n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.expandMessageBoard=function(){e.setState({expand:!e.state.expand,gotNewMessage:!1})},e.setOpenContacts=function(){e.setState({openContacts:!e.state.openContacts})},e.state={messages:[],newMessages:[],thread:[],conversation_id:null,gotMessages:!1,expand:!1,openContacts:!0,challengeUser:null,gotNewMessage:!1},e.getMessages=e.getMessages.bind(Object(j.a)(e)),e.openMessage=e.openMessage.bind(Object(j.a)(e)),e.expandMessageBoard=e.expandMessageBoard.bind(Object(j.a)(e)),e.setOpenContacts=e.setOpenContacts.bind(Object(j.a)(e)),e.sendToSockets=e.sendToSockets.bind(Object(j.a)(e)),e.getConnected=e.getConnected.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.updateUser(),this.getConnected()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.gotMessages,r=this.props.user.user.id,s=this.props.user.isLoggedIn;!1===n&&void 0!=r&&(this.setState({gotMessages:!0}),this.getMessages()),!1===s&&!0===n&&this.setState({messages:[],thread:[],conversation_id:null,gotMessages:!1,expand:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.messages,s=t.thread,i=(t.selectedMessage,t.conversation_id),a=t.expand,o=(t.gotMessages,t.openContacts),c=(t.newMessages,t.to_user),l=this.props.user.user.id,u=this.props.user.isLoggedIn,d=l,p=n.map((function(t){return Object(r.jsx)(Xs,{selectedMessage:i,conversation_name:t.conversation_name,conversation_id:t.conversation_id,to_user:t.to_user,openMessage:e.openMessage,photo_url:t.photo_url,user_name:t.user_name,read_by:t.read_by,id:l,getConnected:e.getConnected},t.conversation_id)})),h=s.map((function(e){return Object(r.jsx)(qs,{loggedInUser:d,content:e.content,user_id:e.user_id,photo_url:e.photo_url,user_name:e.user_name,date_created:e.date_created},e.message_id)}));return Object(r.jsx)("div",{children:u?a?Object(r.jsxs)("div",{className:"message-board ",children:[Object(r.jsxs)("div",{className:"message-board-title",children:[Object(r.jsx)("svg",{className:"close-message-box",onClick:function(){return e.expandMessageBoard()},style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(r.jsx)("h2",{className:"hide-message-h2",style:{textTransform:"none"},children:"Messages"}),Object(r.jsx)("svg",{className:"toggle-contacts ".concat(!!o||"toggle-contacts-rotated"),style:{height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:function(){return e.setOpenContacts()},children:Object(r.jsx)("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"})})]}),Object(r.jsx)("section",{children:Object(r.jsx)("div",{className:"dash",children:p})}),Object(r.jsx)("section",{className:"mobile-dash ".concat(!o&&"mobile-dash-closed"),children:Object(r.jsx)("div",{children:!0===o?p:null})}),Object(r.jsx)("section",{className:" board",children:Object(r.jsx)("div",{children:h})}),Object(r.jsx)("section",{children:Object(r.jsx)("div",{className:"text-input-container",children:Object(r.jsx)(Ys,{id:"EndOfMessages",conversation_id:this.state.conversation_id,user_id:d,to_user:c,openMessage:this.openMessage,sendToSockets:this.sendToSockets})})})]}):Object(r.jsxs)("div",{className:"message-board-closed",onClick:function(){return e.expandMessageBoard()},children:[!0===this.state.gotNewMessage?Object(r.jsx)("p",{className:"new-message",children:"new!"}):null,Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"25px",opacity:".5"},className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})]}):null})}}]),n}(s.Component);var $s=Object(S.b)((function(e){return e}),{updateUser:C})(Qs),ei=Object(r.jsxs)(xe.Switch,{children:[Object(r.jsx)(xe.Route,{exact:!0,path:"/",component:$e}),Object(r.jsx)(xe.Route,{path:"/viewuser/:user_id",component:Js}),Object(r.jsx)(xe.Route,{path:"/explore",component:zr}),Object(r.jsx)(xe.Route,{path:"/group",component:et}),Object(r.jsx)(xe.Route,{path:"/user",component:Ar}),Object(r.jsx)(xe.Route,{path:"/about",component:Hr}),Object(r.jsx)(xe.Route,{path:"/sites",component:Jr}),Object(r.jsx)(xe.Route,{path:"/register",component:qr}),Object(r.jsx)(xe.Route,{path:"/projectdetails/:model_id",component:Rs}),Object(r.jsx)(xe.Route,{path:"/securitytest",component:qt}),Object(r.jsx)(xe.Route,{path:"/header",component:be}),Object(r.jsx)(xe.Route,{path:"/agreement",component:ne}),Object(r.jsx)(xe.Route,{path:"/admin",component:nn}),Object(r.jsx)(xe.Route,{path:"/messages/:user_id",component:Gs.a}),Object(r.jsx)(xe.Route,{path:"/usermessages",component:$s})]});var ti=function(){return Object(r.jsx)(ee.b,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(be,{}),Object(r.jsx)($s,{}),ei]})})},ni=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,170)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),i(e),a(e)}))},ri=n(39),si=n(85),ii=n(86),ai=(n(166),Object(ri.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(c.a)(Object(c.a)({},e),{},{loginOpen:t.payload});case"SHOW_DATA_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"SHOW_DATA_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data});case"SHOW_DATA_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,loginError:!0});case"LOGIN_USER_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"LOGIN_USER_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"LOGIN_USER_REJECTED":return alert("Your username or password is incorrect"),Object(c.a)(Object(c.a)({},e),{},{loginError:!0,isLoading:!1});case"LOGOUT_USER_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data,isLoggedIn:!1});case"REGISTER_USER_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"REGISTER_USER_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"REGISTER_USER_REJECTED":return alert("Either the username you have chosen is already being used or consists of more than 12 characters. Please choose a defferent username"),Object(c.a)(Object(c.a)({},e),{},{isLoggedIn:!1,isLoading:!1});case"UPDATE_USER_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data,isLoggedIn:!0});case"UPDATE_USER_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isLoggedIn:!1});case"AUTO_LOGIN_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"AUTO_LOGIN_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"AUTO_LOGIN_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{loginError:!0,isLoading:!1});default:return e}},models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MODELS_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isloading:!0});case"GET_MODELS_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{isloading:!1,models:t.payload.data});case"GET_MODELS_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isloading:!1});case"GET_FEATURED_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isloading:!0});case"GET_FEATURED_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{isloading:!1,featured:t.payload.data});case"GET_FEATURED_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isloading:!1});default:return e}},firebase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REF_FROM_URL_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"REF_FROM_URL_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,url:t.payload});case"REF_FROM_URL_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,error:!0});case"DELETE_FILE_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"DELETE_FILE_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1});case"DELETE_FILE_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,error:!0});case"ADD_TO_FIREBASE_PENDING":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!0});case"ADD_TO_FIREBASE_FULFILLED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,url:t.payload});case"ADD_TO_FIREBASE_REJECTED":return Object(c.a)(Object(c.a)({},e),{},{isLoading:!1,error:!0});default:return e}}})),oi=Object(ri.createStore)(ai,Object(ii.composeWithDevTools)(Object(ri.applyMiddleware)(si.a))),ci=ee.a;o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(ci,{children:Object(r.jsx)(S.a,{store:oi,children:Object(r.jsx)(ti,{})})})}),document.getElementById("root")),ni()}]),[[167,1,2]]]);
//# sourceMappingURL=main.d822928b.chunk.js.map