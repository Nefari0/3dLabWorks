(this.webpackJsonp3depot=this.webpackJsonp3depot||[]).push([[0],Array(37).concat([function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){},,,,,,,,,,function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t){},,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){},function(e,t){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(3),i=n.n(a),r=n(45),c=n.n(r),o=(n(87),n(56),n(165),n(7)),l=n(4),d=n.n(l),u=n(8),p=n(11),h=n(12),j=n(5),m=n(14),b=n(13),g=n(6),x=n.n(g),f=(n(108),n(15)),O=(n(112),{user:{},isLoggedIn:!1,isLoading:!1,loginError:!1,loginOpen:!1}),v="LOGIN_USER",w="LOGOUT_USER",k="REGISTER_USER",y="UPDATE_USER",N="AUTO_LOGIN",_="OPEN_LOGIN";function L(e){return{type:_,payload:e}}function I(e,t,n,s){return{type:v,payload:x.a.post("/auth/login",{user_name:e,password:t,last_visit:n,visited:s})}}function C(e,t,n,s,a,i){return{type:k,payload:x.a.post("/auth/register",{user_name:e,password:t,email:n,first_name:s,is_admin:a,is_sudo:i})}}function S(e){return{type:y,payload:e}}var M={models:[],featured:[],isloading:!1},D="GET_MODELS",U="GET_FEATURED";function P(){return{type:D,payload:x.a.get("/api/project/join")}}n(113),n(114);var T=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"load-box",children:[Object(s.jsx)("div",{className:"load-background"}),Object(s.jsx)("div",{className:"load"})]})}}]),n}(a.Component),F=n(10),E=(n(37),n(16)),A=(n(66),function(e){var t=function(e){return Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})};return Object(s.jsx)("div",{children:Object(s.jsx)("svg",{className:"large-icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:function(e){switch(e){case"download_icon":return Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"});case"large_heart":case"large_heart_dark":return t();case"edit_project":return Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"});case"comments":return Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"});case"folder":return Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":2,d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"});case"info":return Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}}(e.params)})})});var R=Object(f.b)((function(e){return e}),{getModels:P,updateUser:S,remoteLogin:L})((function(e){var t=e.data,n=(t.category,t.img,t.firebase_url),i=t.firebase_url01,r=t.name,c=(t.description,t.user_name),o=(t.model_likes,t.model_id),l=t.photo_url,p=t.user_id,h=t.likes,j=(e.handleClick,e.isLoggedIn),m=e.id,b=e.user_likes,g=Object(a.useState)(0),f=Object(F.a)(g,2),O=f[0],v=f[1],w=Object(a.useState)(!1),k=Object(F.a)(w,2),y=k[0],N=k[1];Object(a.useEffect)((function(){v(h),!0===S()&&!1===y&&N(!0)}),[]);var _=function(){window.scrollTo(0,0),e.remoteLogin(!0)},L=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t,a=n,e.next=4,x.a.post("/api/projects/like",{user_id:s,model_id:a});case 4:return e.next=6,I(a);case 6:return e.next=8,N(!y);case 8:return e.next=10,S(y);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("params",t),x.a.get("/api/like/update/".concat(t)).then((function(e){var t=e.data[0].likes;v(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){!0===j&&void 0!=m?L(m,o):_()},S=function(t){return!0===e.projectIsLiked(o,b)};return Object(s.jsxs)("div",{className:"project-container",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"photo-title-border",children:[Object(s.jsx)(E.c,{to:"viewuser/".concat(p),children:Object(s.jsx)("img",{src:function(){var t=e.user_photo_url;return void 0!=l?l:t}(),className:"project-user-photo"})}),Object(s.jsxs)("p",{className:"dark-text",children:[r,Object(s.jsx)("br",{}),Object(s.jsxs)("p",{className:"usr-nm-txt",children:["by ",function(){var t=e.current_user_name;return void 0!=c?c:t}()]})]})]}),Object(s.jsx)(E.c,{to:"projectdetails/".concat(o),children:Object(s.jsx)("div",{className:"image-div",children:Object(s.jsx)("img",{className:"model-photo",src:i})})})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"download-container",children:[Object(s.jsx)("a",{onClick:function(){return!0===j?window.open(n):_()},children:Object(s.jsx)(A,{params:"download_icon"})}),j?Object(s.jsx)("a",{className:"project-text",href:"".concat(n),target:"_blank",rel:"noopener noreferrer",children:"download"}):Object(s.jsx)("a",{className:"project-text",onClick:function(){return _()},children:"download"}),Object(s.jsx)("div",{className:"like-share",children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"like-share-box",style:{borderBottom:"1px solid #555"},children:[!1===y?Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:C,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),Object(s.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:O})]}),Object(s.jsxs)("div",{className:"like-share-box",children:[Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),Object(s.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:"share"})]})]})})]})})]})})),G=n(55),B=n.n(G),V=(n(134),function(e){var t=e.video_url,n=e.firebase_url,a=e.category,i=e.tag,r=e.photo_url,c=e.user_name,o=e.name,l=e.video_name;return Object(s.jsxs)("div",{className:"player-container",children:[Object(s.jsxs)("header",{className:"video-title",children:[Object(s.jsx)("img",{className:"video-user-photo",src:r}),Object(s.jsxs)("div",{className:"vidnm-and-usrnm",children:[" ",Object(s.jsx)("p",{className:"dark-text video-nm-txt",children:"dummy project"===o?l:o}),Object(s.jsxs)("p",{className:"usr-nm-txt",style:{marginRight:"60px"},children:["Video by ",c]})," "]})]}),Object(s.jsxs)("div",{className:"",style:{marginTop:"50px"},children:[Object(s.jsx)("div",{className:"reg-size",children:Object(s.jsx)(B.a,{className:"react-player",url:t,width:"298px",height:"191px"})}),Object(s.jsx)("div",{className:"small-size",children:Object(s.jsx)(B.a,{className:"react-player",url:t,width:"240px",height:"150px"})}),Object(s.jsxs)("div",{className:"video-info-container",children:[Object(s.jsx)("header",{className:"video-header",children:Object(s.jsxs)("p",{className:"video-header-text",children:[a,": ",i]})}),null===n?Object(s.jsx)("p",{className:"video-container-text",children:"There are no files associated with this video"}):Object(s.jsxs)("p",{className:"video-container-text",children:["Click ",Object(s.jsx)("a",{href:n,children:"here"})," to download the files used in this video"]})]})]})]})}),z=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getFeaturedVideos=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(),t.next=3,e.props.getFeatured();case 3:return t.next=5,x.a.get("/api/videos/featured").then((function(t){e.setState({videos:t.data,loading:!1})}));case 5:case"end":return t.stop()}}),t)}))),e.state={projects:[],videos:[],user_name:"",password:"",userLikes:null,loading:!1},e.handleUserName=e.handleUserName.bind(Object(j.a)(e)),e.handlePassword=e.handlePassword.bind(Object(j.a)(e)),e.handleClick=e.handleClick.bind(Object(j.a)(e)),e.projectIsLiked=e.projectIsLiked.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getFeaturedVideos()}},{key:"setLoading",value:function(){this.setState({loading:!this.state.loading})}},{key:"componentDidUpdate",value:function(){}},{key:"handleUserName",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{user_name:e}))}},{key:"handlePassword",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{password:e}))}},{key:"handleClick",value:function(){var e=this.state,t=e.user_name,n=e.password;this.props.loginUser(t,n),this.setState({user_name:"",password:""})}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=(t.user_name,t.password,t.projects,t.loading),a=t.videos,i=(this.props.loginUser,this.props.user.isLoggedIn),r=this.props.user.user,c=r.user_likes,o=r.model_likes,l=(r.id,this.props.models),d=(l.models,l.featured.map((function(t){return Object(s.jsx)(R,{data:t,projectIsLiked:e.projectIsLiked,isLoggedIn:i,model_likes:o,likes:t.likes,id:t.user_id,user_likes:c},t.model_id)}))),u=a.map((function(e){return Object(s.jsx)(V,{video_url:e.video_url,category:e.category,tag:e.tag,firebase_url:e.firebase_url,photo_url:e.photo_url,user_name:e.user_name,name:e.name,video_name:e.video_name},e.video_id)}));return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"hero",children:[!n||Object(s.jsx)(T,{}),Object(s.jsx)("h2",{className:"hero-h2",children:"IMAGINE IT - BUILD IT."}),Object(s.jsxs)("div",{className:"deploy-projects",children:[u,d]})]})})}}]),n}(a.Component);var K=Object(f.b)((function(e){return e}),{loginUser:I,updateUser:S,getModels:P,getFeatured:function(){return{type:U,payload:x.a.get("api/featured/join")}}})(z),W=(n(135),n(136),n(70),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"agreement-container",children:Object(s.jsx)("p",{className:"agreement-text",children:"Any and all information and content that a User submits to, or uses with, the Sites or Services (e.g., content in the User\u2019s profile or postings, user-created designs), including any modifications, improvements, or alterations (\u201cModification\u201d) made to products available by Company or its authorized suppliers through MadModels3d (all such products collectively referred to herein as the \u201cMadModels3d Experimental Product\u201d) or to any print profiles, modes, or settings created by you using Company products (\u201cPrint Profile\u201d). You retain all your intellectual property rights in your User Content. Company does not claim ownership in any User Content. You are solely responsible for your User Content, and you assume all risks associated with use of your User Content, including any reliance on its accuracy, completeness, or usefulness by others, or any disclosure of your User Content by you that makes you or any third party personally identifiable. Unless Company states otherwise in a writing to you, you may not state or imply that your User Content is in any way provided, sponsored, or endorsed by the Company. The Company is not obligated to backup any User Content and User Content may be deleted at any time. You are solely responsible for creating backup copies of your User Content if you desire."})})}}]),n}(a.Component));var H=Object(f.b)((function(e){return e}),{registerUser:C,loginUser:I})((function(e){var t=e.isLoggedIn,n=(e.saveSession,e.current_user,e.user.user.user),i=Object(a.useState)(""),r=Object(F.a)(i,2),c=r[0],o=r[1],l=Object(a.useState)(""),p=Object(F.a)(l,2),h=p[0],j=p[1],m=Object(a.useState)(!0),b=Object(F.a)(m,2),g=b[0],x=b[1],f=Object(a.useState)(!1),O=Object(F.a)(f,2),v=O[0],w=O[1],k=Object(a.useState)(""),y=Object(F.a)(k,2),N=y[0],_=y[1],L=Object(a.useState)(""),I=Object(F.a)(L,2),C=I[0],S=I[1],M=Object(a.useState)(""),D=Object(F.a)(M,2),U=D[0],P=D[1],T=Object(a.useState)(""),E=Object(F.a)(T,2),A=(E[0],E[1],Object(a.useState)(!1)),R=Object(F.a)(A,1)[0],G=Object(a.useState)(!1),B=Object(F.a)(G,1)[0],V=Object(a.useState)(!1),z=Object(F.a)(V,2),K=z[0],H=z[1],J=Object(a.useState)(!0),q=Object(F.a)(J,2),Y=q[0],X=q[1],Q=function(){w(!v)},Z=function(){H(!K)},$=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.execute(c,h,g);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"plogin-container ".concat(!v||"plogin-Container r-selected ".concat(!!Y||"plogin-container r-selected agree-view")),children:[Object(s.jsxs)("section",{className:"login-title ".concat(!v||"rlogin-title ".concat(!!Y||"rlogin-title rlogin-title-agreement")),children:[Object(s.jsx)("svg",{className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},onClick:e.exit,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),v?Object(s.jsx)("h2",{style:{textTransform:"none"},children:"Create Account"}):t?Object(s.jsx)("h2",{style:{textTransform:"none"},children:"Log Out"}):Object(s.jsx)("h2",{style:{textTransform:"none"},children:"Log In to Your Accout"})]}),v?Object(s.jsxs)("section",{className:"rform",children:[Y?Object(s.jsxs)("form",{style:{height:"450px"},children:[Object(s.jsx)("input",{value:c,onChange:function(e){return o(e.target.value)},placeholder:"Username",className:"log-input log-form-length disabled",style:{marginLeft:"2px"}}),Object(s.jsx)("input",{value:h,onChange:function(e){return j(e.target.value)},placeholder:"Password",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"17px",marginBottom:"2px"},type:"password"}),Object(s.jsx)("input",{value:N,onChange:function(e){return _(e.target.value)},placeholder:"Email",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"18px",marginBottom:"2px"}}),Object(s.jsx)("input",{value:C,onChange:function(e){return S(e.target.value)},placeholder:"First Name",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginTop:"17px",marginBottom:"2px"}}),Object(s.jsx)("input",{value:U,onChange:function(e){return P(e.target.value)},placeholder:"Last Name",className:"log-input log-form-length disabled",style:{marginLeft:"2px",marginBottom:"20px",marginTop:"17px"}})]}):Object(s.jsx)(W,{}),Object(s.jsxs)("div",{className:"keep-session-check",children:[K?Object(s.jsx)("svg",{onClick:Z,style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):Object(s.jsx)("svg",{onClick:Z,style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(s.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px"},onClick:function(){X(!Y)},children:"I agree to terms and conditions"})]}),Y?Object(s.jsx)("a",{className:"login-button",style:{marginTop:"10px"},onClick:function(){if(!0!==K)return alert("please agree to conditions");e.registerUser(c,h,N,C,R,B),e.exit()},children:"Sign Up"}):null,Object(s.jsx)("div",{className:"build-account",children:Object(s.jsx)("a",{style:{fontWeight:"400",color:"blue"},onClick:Q,children:"Cancel"})}),Object(s.jsx)("div",{className:"r-form-fake-bottom"})]}):Object(s.jsxs)("section",{className:"form",children:[Object(s.jsx)("input",{value:c,onChange:function(e){return o(e.target.value)},placeholder:"Username",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"21px"}}),Object(s.jsx)("input",{value:h,onChange:function(e){return j(e.target.value)},placeholder:"Password",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"17px"},type:"password"}),t?Object(s.jsx)("div",{className:"keep-session log-form-length"}):Object(s.jsxs)("ul",{className:"keep-session log-form-length",children:[Object(s.jsxs)("div",{className:"keep-session-check",children:[Object(s.jsx)("svg",{onClick:function(){return x(!g)},style:{color:"#3c598e",marginLeft:"0px",marginRight:"2px",height:"20px",width:"20px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:!1===g?Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}):Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(s.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px"},children:"stay logged in?"})]}),Object(s.jsx)("p",{style:{fontSize:"10px",marginBottom:"0px",marginLeft:"0px",color:"blue"},children:"Forgot password?"})]}),t?Object(s.jsx)("a",{className:"login-button",onClick:e.logout,children:"Log Out"}):Object(s.jsx)("a",{className:"login-button",onClick:$,children:"Log In"}),t?Object(s.jsxs)("div",{className:"build-account",children:[Object(s.jsx)("p",{children:"Logged in as:"}),Object(s.jsx)("a",{style:{fontWeight:"400",color:"blue"},children:n})]}):Object(s.jsxs)("div",{className:"build-account",children:[Object(s.jsx)("p",{children:"Need an account?"}),Object(s.jsx)("a",{style:{fontWeight:"400",color:"blue"},onClick:Q,children:"Sign up"})]})]})]})})),J=n(17),q=n(22),Y=(n(42),"GET_PROJECTS");function X(){return{type:Y,payload:x.a.get("/api/projects/all")}}var Q=n(38),Z=n.n(Q),$=n(78).a.initializeApp({apiKey:"AIzaSyB6ImzEUWfnyXD6bcpNEN8ktaMSfos8Js0",authDomain:"depot-7bb3e.firebaseapp.com",projectId:"depot-7bb3e",storageBucket:"depot-7bb3e.appspot.com",messagingSenderId:"38861699624",appId:"1:38861699624:web:b1d9abfce822f3a4d2531d",measurementId:"G-DSTFFPFHLD"}),ee=($.firestore(),{isLoading:!1,url:{},error:!1}),te="DELETE_FILE",ne="ADD_TO_FIREBASE",se="REF_FROM_URL",ae=function(e){var t=$.storage().refFromURL(e);return{type:te,payload:t.delete().then((function(e){}))}},ie=function(e,t){var n=$.storage().ref(t).child(e.name).put(e);return{type:ne,payload:n}};n(137);var re=n(32),ce=(n(138),n(139),function(e){var t=e.previewImageFile,n=e.photo_url,a=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addPhoto(n);case 2:return t.next=4,i();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){e.handleInput("previewImageFile",null),e.handleInput("photo_url",null)};return Object(s.jsxs)("div",{className:"im-prev-container",children:[Object(s.jsx)("img",{src:t,className:"prev-im-size"}),Object(s.jsx)("div",{className:"edit-file-button",style:{width:"50%"},onClick:function(){return a()},children:Object(s.jsx)("p",{children:"Submit"})}),Object(s.jsx)("div",{className:"edit-file-button",style:{right:"0px",width:"50%"},onClick:function(){return i(["string"])},children:Object(s.jsx)("p",{children:"Cancel"})})]})}),oe=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s,a;return Object(p.a)(this,n),(a=t.call(this,e)).removeFileFromSpace=Object(u.a)(d.a.mark((function e(){var t,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.info[0],n=t.firebase_url,s=t.model_id,a.setIsLoading(),null==n){e.next=5;break}return e.next=5,a.props.deleteFile(n);case 5:return e.next=7,a.deleteAllImages(!0);case 7:return e.next=9,x.a.delete("".concat("/api/project/delete/").concat(s));case 9:a.setIsLoading(),a.props.setIsDeleted();case 11:case"end":return e.stop()}}),e)}))),a.deleteAllImages=function(e){var t=a.props.modelImages,n=Object(re.a)(t);!0===e&&n.map((function(e){a.props.deleteFile(e.photo_url)}))},a.replaceModelFile=Object(u.a)(d.a.mark((function e(){var t,n,s,i,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.photo_url,n=a.props.info[0],s=n.model_id,i=n.firebase_url,a.props.user_id,a.setIsLoading(),e.next=6,a.props.getRefFromUrl(i).payload;case 6:return r=e.sent,e.next=9,a.props.deleteFile(i);case 9:return e.next=11,a.props.addNewModel(t,r);case 11:return c=e.sent,e.next=14,c.action.payload.ref.getDownloadURL();case 14:return o=e.sent,e.next=17,a.newModelToDB(s,o);case 17:a.setIsLoading();case 18:case"end":return e.stop()}}),e)}))),a.newModelToDB=function(e,t){x.a.post("/api/project/update/file",{url:t,model_id:e})},a.fileHandler=function(){var e=Object(u.a)(d.a.mark((function e(t,n,s){var i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.target.files[0],a.setState((i={},Object(J.a)(i,s,r),Object(J.a)(i,n,URL.createObjectURL(r)),i));case 2:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),a.handlePhoto=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t.target.files[0]&&(n=!0),n)try{Z.a.imageFileResizer(t.target.files[0],400,267,"JPEG",100,0,(function(e){console.log(e,"uri"),a.setState({previewImageFile:URL.createObjectURL(e),photo_url:e})}),"file",298,191)}catch(s){console.log(s)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setIsLoading=function(){a.setState({isLoading:!a.state.isLoading})},a.passNewPhotoToFB=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.photo_url,a.addPhoto(t),a.setState({previewImageFile:null}),e.next=5,a.props.getImages();case 5:case"end":return e.stop()}}),e)}))),a.addPhoto=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,i,r,c,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,s=n.model_id,i=n.info,r=null,a.setIsLoading(),e.next=5,a.props.getRefFromUrl(i[0].firebase_url).payload;case 5:return c=e.sent,e.next=8,a.props.addNewModel(t,c);case 8:return o=e.sent,e.next=11,o.action.payload.ref.getDownloadURL();case 11:return l=e.sent,e.next=14,x.a.post("/api/project/photos/put",{model_id:s,name:r,photo_url:l});case 14:return e.next=16,a.props.getImages();case 16:a.setState({previewImageFile:null}),a.setIsLoading();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.executeChange=Object(u.a)(d.a.mark((function e(){var t,n,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.info[0].model_id,n=a.state,s=n.name,i=n.description,a.setIsLoading(),e.next=5,x.a.post("/api/project/edit/name",{name:s,description:i,model_id:t});case 5:a.setIsLoading(),a.props.getDetails();case 7:case"end":return e.stop()}}),e)}))),a.confirmDelete=function(){a.setState({openDeleteConfirm:!a.state.openDeleteConfirm})},a.state=(s={name:a.props.info[0].name,description:a.props.info[0].description,photo_url:null,file_url:null,isLoading:!1,imageUr1:null,openDeleteConfirm:!1},Object(J.a)(s,"isLoading",!1),Object(J.a)(s,"previewImageFile",null),Object(J.a)(s,"isDeleted",!1),Object(J.a)(s,"newImage",""),s),a.handleInput=a.handleInput.bind(Object(j.a)(a)),a.executeChange=a.executeChange.bind(Object(j.a)(a)),a.fileHandler=a.fileHandler.bind(Object(j.a)(a)),a.addPhoto=a.addPhoto.bind(Object(j.a)(a)),a.setIsLoading=a.setIsLoading.bind(Object(j.a)(a)),a.removeFileFromSpace=a.removeFileFromSpace.bind(Object(j.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(j.a)(a)),a.newModelToDB=a.newModelToDB.bind(Object(j.a)(a)),a.replaceModelFile=a.replaceModelFile.bind(Object(j.a)(a)),a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"handleInput",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.previewImageFile,a=t.isLoading,i=t.openDeleteConfirm,r=t.photo_url,c=t.description,o=t.name,l=t.file_url;t.hideButtons;return Object(s.jsxs)("div",{className:"edit-project-container",children:[a?Object(s.jsx)(T,{}):null,Object(s.jsxs)("section",{className:"project-selection-title",children:[Object(s.jsx)("h3",{className:"prodect-selection-h3",children:i?"Delete this Project?":"Edit Project"}),i?Object(s.jsxs)("div",{onClick:function(){return e.confirmDelete()},className:"select-delete",children:[Object(s.jsx)("p",{className:"delete-button-txt",onClick:function(){return e.removeFileFromSpace()},children:"yes"}),Object(s.jsx)("p",{className:"delete-button-txt",children:"no"})]}):Object(s.jsx)("p",{className:"edit-photo-button",onClick:function(){return e.confirmDelete()},children:"X"})]}),Object(s.jsx)("div",{className:"section-title",children:Object(s.jsx)("p",{style:{color:"#555"},children:"Add Image / Update File"})}),n?Object(s.jsx)(ce,{previewImageFile:n,photo_url:r,addPhoto:this.addPhoto,handleInput:this.handleInput}):null,l?Object(s.jsxs)("section",{className:"replace-file-warning",children:[Object(s.jsx)("h4",{children:"replace file?"}),Object(s.jsxs)("span",{className:"select-delete",style:{height:"50px",backgroundColor:"#5077be"},children:[Object(s.jsx)("p",{className:"delete-button-txt",onClick:function(){return e.replaceModelFile()},children:"yes"}),Object(s.jsx)("p",{className:"delete-button-txt",onClick:function(){return e.handleInput("file_url",null)},children:"no"})]})]}):null,Object(s.jsxs)("section",{className:"edit-project-row row-x",style:{height:"30px",color:"#555"},children:[null===n&&null===l?Object(s.jsxs)("div",{className:"edit-file-input-box ",children:[Object(s.jsx)("div",{className:"edit-file-button ",children:Object(s.jsx)("p",{children:"Add Image"})}),Object(s.jsx)("input",{className:"fake-input-file ",style:{marginLeft:"40px"},type:"file",accept:"image/png,image/jpeg",onChange:function(t){return e.handlePhoto(t)}})]}):null,null===n&&null===l?Object(s.jsxs)("div",{className:"edit-photo-input-box",children:[Object(s.jsx)("div",{className:"edit-file-button",children:Object(s.jsx)("p",{children:"New File"})}),Object(s.jsx)("input",{className:"fake-input-file",style:{marginLeft:"40px"},type:"file",accept:".blend,.stl",onChange:function(t){return e.fileHandler(t,null,"file_url")}})]}):null]}),Object(s.jsx)("section",{className:"edit-project-row text-input-row",children:Object(s.jsxs)("div",{className:"input-left-column",children:[Object(s.jsx)("div",{className:"section-title",children:Object(s.jsx)("p",{style:{color:"#555"},children:"Name"})}),Object(s.jsx)("input",{value:o,className:"text-input",onChange:function(t){return e.handleInput("name",t.target.value)}}),Object(s.jsx)("div",{className:"section-title",children:Object(s.jsx)("p",{style:{color:"#555"},children:"Description"})}),Object(s.jsx)("textarea",{name:"text",rows:"5",cols:"50",wrap:"soft",placeholder:"text",value:c,className:"text-input input-description",onChange:function(t){return e.handleInput("description",t.target.value)},children:" "})]})}),Object(s.jsx)("div",{className:"section-title",children:Object(s.jsx)("p",{style:{color:"#555"},children:"Submit Changes"})}),null===n&&null===l?Object(s.jsx)("div",{className:"edit-file-button",style:{position:"relative",marginTop:"10px",height:"30px",width:"80px"},onClick:function(){return e.executeChange()},children:Object(s.jsx)("p",{children:"Submit"})}):null]})}}]),n}(a.Component),le=Object(f.b)((function(e){return e}),{addNewModel:ie,deleteFile:ae,getRefFromUrl:function(e){var t=$.storage().refFromURL(e).fullPath.split("/").slice(0,-1).join("/");return{type:se,payload:t}}})(oe),de=(n(140),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getFileName=function(){return null!=e.props.file?e.props.file.name:"Add File"},e.state={description:"",name:"",previewImageFile:null},e.getFileName=e.getFileName.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state;t.previewImageFile,t.previewModelFile,t.name;return Object(s.jsxs)("div",{className:"create-container",children:[Object(s.jsxs)("section",{className:"create-title",children:[Object(s.jsx)("svg",{className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:function(){return e.props.resetView()},children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(s.jsx)("h2",{style:{textTransform:"none"},children:"Create a project"})]}),Object(s.jsxs)("section",{className:"create-form",children:[Object(s.jsx)("section",{className:"create-project-row",children:Object(s.jsx)("div",{className:"file-add",children:Object(s.jsxs)("div",{className:"photo-input-box ",children:[Object(s.jsx)("div",{className:"add-file-button add-file-button-text",children:this.getFileName()}),Object(s.jsx)("input",{className:"input-file select-file-1",style:{marginLeft:"40px"},type:"file",accept:".blend,.stl",onChange:function(t){return e.props.handleFile(t)}})]})})}),Object(s.jsxs)("section",{className:"create-project-row",children:[Object(s.jsx)("div",{className:"create-section-title",children:Object(s.jsx)("p",{style:{color:"#555"},children:"Add Photo"})}),Object(s.jsxs)("div",{className:"create-input-box",children:[Object(s.jsx)("img",{style:{width:"80px",height:"80px",borderRadius:"10px",marginLeft:"35%",marginBottom:"0px"},src:this.props.previewImageFile}),Object(s.jsx)("input",{className:"input select-file-1",style:{marginLeft:"40px"},type:"file",accept:"image/png,image/jpeg",onChange:function(t){return e.props.handlePhoto(t)}})]})]}),Object(s.jsx)("div",{className:"create-section-title",style:{marginTop:"10px"},children:Object(s.jsx)("p",{style:{color:"#555"},children:"Name and description"})}),Object(s.jsx)("input",{placeholder:"Name",className:"log-input log-form-length disabled",style:{marginBottom:"5px",marginTop:"21px"},onChange:function(t){return e.props.handleAddText("projectName",t.target.value)}}),Object(s.jsx)("textarea",{placeholder:"description",name:"text",rows:"5",cols:"50",wrap:"soft",className:"text-input input-description",onChange:function(t){return e.props.handleAddText("projectDescription",t.target.value)},children:" "}),Object(s.jsx)("div",{className:"send-file send-file-button",onClick:function(){return e.props.createNewProject()},children:"Submit"})]})]})}}]),n}(a.Component)),ue=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getProjects=function(){var t=e.props.user.user.id;x.a.get("/api/projects/".concat(t)).then((function(t){return e.setState(Object(o.a)(Object(o.a)({},e.state),{},{data:t.data}))}))},e.createNewProject=Object(u.a)(d.a.mark((function t(){var n,s,a,i,r,c,o,l,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,s=n.file,a=n.imageFile,n.fileUrl,n.imageUrl,n.projectDescription,i=n.projectName,r=e.props.user.user.id,void 0==e.state.file.name){t.next=25;break}return e.props.setIsLoading(),t.next=7,e.props.addNewModel(s,"madmodels/projects/".concat(r,"/").concat(i,"/"));case 7:return c=t.sent,t.next=10,c.action.payload.ref.getDownloadURL();case 10:if(o=t.sent,l=null,null==a){t.next=19;break}return t.next=15,e.props.addNewModel(a,"madmodels/projects/".concat(r,"/").concat(i,"/"));case 15:return u=t.sent,t.next=18,u.action.payload.ref.getDownloadURL();case 18:l=t.sent;case 19:return t.next=21,e.addToDatabase(o,l);case 21:return t.next=23,e.getProjects();case 23:e.props.resetView(),e.props.setIsLoading();case 25:case"end":return t.stop()}}),t)}))),e.setFileUrl=function(){var t=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({fileUrl:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setImageUrl=function(){var t=Object(u.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({imageUrl:n});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleFile=function(){var t=Object(u.a)(d.a.mark((function t(n){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.target.files[0],t.t0=e,t.next=4,s;case 4:t.t1=t.sent,t.t0.addFile.call(t.t0,t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePhoto=function(){var t=Object(u.a)(d.a.mark((function t(n){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.target.files[0],t.t0=e,t.next=4,s;case 4:t.t1=t.sent,t.t0.addPhoto.call(t.t0,t.t1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fileHandler=function(){var t=Object(u.a)(d.a.mark((function t(n){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.state,s.file,s.fileUrl,s.imageFile,s.imageUrl,!0,e.sendIntoSpace();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fileHandlerRemove=function(t){e.setState({file:null})},e.handleDelete=function(t){e.setState({imageFile:null})},e.sendIntoSpace=Object(u.a)(d.a.mark((function t(){var n,s,a,i,r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,s=n.file,a=n.imageFile,n.fileUrl,n.imageUrl,i=n.projectDescription,r=n.projectName,e.props.username.user.id,r,i,"firebase_url",e.state.fileUrl,e.props.setIsLoading(),t.next=9,e.getFileUrl(s);case 9:return c=t.sent,t.t0=e,t.next=13,c.getDownloadURL();case 13:if(t.t1=t.sent,t.t0.setFileUrl.call(t.t0,t.t1),null==a){t.next=24;break}return t.next=18,e.getImUrl(a);case 18:return o=t.sent,t.t2=e,t.next=22,o.getDownloadURL();case 22:t.t3=t.sent,t.t2.setImageUrl.call(t.t2,t.t3);case 24:return t.next=26,e.addToDatabase(e.state.fileUrl,e.state.imageUrl);case 26:return t.next=28,e.getProjects();case 28:e.props.setIsLoading(),e.props.resetView();case 30:case"end":return t.stop()}}),t)}))),e.getImUrl=function(){var t=Object(u.a)(d.a.mark((function t(n){var s,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props.user.user.id,a=$.storage().ref("madmodels/projects/".concat(s,"/")),i=a.child(n.name),t.next=5,i.put(n);case 5:return console.log("image loaded"),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getFileUrl=function(){var t=Object(u.a)(d.a.mark((function t(n){var s,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.props.user.user.id,a=$.storage().ref("madmodels/projects/".concat(s,"/")),i=a.child(n.name),t.next=5,i.put(n);case 5:return console.log("file loaded"),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.removeFileFromSpace=function(){var t=Object(u.a)(d.a.mark((function t(n,s,a){var i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.setIsLoading(),null==n){t.next=7;break}return t.next=4,$.storage().refFromURL(n);case 4:return i=t.sent,t.next=7,i.delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error",e)}));case 7:if(null==a){t.next=13;break}return t.next=10,$.storage().refFromURL(a);case 10:return r=t.sent,t.next=13,r.delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error",e)}));case 13:return t.next=15,x.a.delete("/api/project/delete/".concat(s));case 15:e.props.setIsLoading();case 16:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}(),e.addToDatabase=function(){var t=Object(u.a)(d.a.mark((function t(n,s){var a,i,r,c,o,l,u,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("this is from addToDatabase function"),a=e.state,i=a.projectDescription,r=a.projectName,c=e.props.user.user.id,o=r,l=i,u=n,p=s,!1,t.next=10,x.a.post("/api/project/post",{id:c,name:o,description:l,firebase_url:u,firebase_url01:p,is_hidden:false}).then((function(e){return e.status}));case 10:return t.next=12,e.props.getProjects();case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.state={openEditModel:!1,data:[],fileUrl:null,file:null,previewImageFile:null,previewModelFile:null,imageFile:null,imageUrl:null,newItem:{},props:null,openAddProject:!1,projectName:"",projectDescription:""},e.setFileUrl=e.setFileUrl.bind(Object(j.a)(e)),e.handleFile=e.handleFile.bind(Object(j.a)(e)),e.addFile=e.addFile.bind(Object(j.a)(e)),e.addPhoto=e.addPhoto.bind(Object(j.a)(e)),e.handlePhoto=e.handlePhoto.bind(Object(j.a)(e)),e.fileHandler=e.fileHandler.bind(Object(j.a)(e)),e.addToDatabase=e.addToDatabase.bind(Object(j.a)(e)),e.fileHandlerRemove=e.fileHandlerRemove.bind(Object(j.a)(e)),e.removeFileFromSpace=e.removeFileFromSpace.bind(Object(j.a)(e)),e.addNewProject=e.addNewProject.bind(Object(j.a)(e)),e.getImUrl=e.getImUrl.bind(Object(j.a)(e)),e.getFileUrl=e.getFileUrl.bind(Object(j.a)(e)),e.handleAddText=e.handleAddText.bind(Object(j.a)(e)),e.projectIsLiked=e.projectIsLiked.bind(Object(j.a)(e)),e.getProjects=e.getProjects.bind(Object(j.a)(e)),e.createNewProject=e.createNewProject.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getProjects()}},{key:"handleAddText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"addFile",value:function(e){this.setState({file:e,previewModelFile:URL.createObjectURL(e)})}},{key:"addPhoto",value:function(e){this.setState({imageFile:e,previewImageFile:URL.createObjectURL(e)})}},{key:"handleChange",value:function(e){this.setState({file:e})}},{key:"addNewProject",value:function(e){this.setState({openAddProject:!this.state.openAddProject})}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=(t.openAddProject,t.openEditModel,t.previewImageFile),a=t.previewModelFile,i=t.data,r=t.file,c=this.props,o=c.photo_url,l=c.user,d=c.showCreateProject,u=i.map((function(t){return Object(s.jsx)(R,{data:t,name:t.name,img:t.firebase_url01,file:t.firebase_url,id:t.model_id,delete:e.deleteModel,removeFileFromSpace:e.removeFileFromSpace,openEdidModel:e.openEditModel,projectIsLiked:e.projectIsLiked,user_photo_url:o,current_user_name:l.user.user},t.model_id)}));return Object(s.jsxs)("div",{className:"collections",children:[d?Object(s.jsx)(de,{resetView:this.props.resetView,handleFile:this.handleFile,handleAddText:this.handleAddText,handlePhoto:this.handlePhoto,previewImageFile:n,previewModelFile:a,file:r,sendIntoSpace:this.sendIntoSpace,createNewProject:this.createNewProject}):null,u]})}}]),n}(a.Component);var pe=Object(f.b)((function(e){return e}),{getProjects:X,addNewModel:ie})(ue),he=(n(141),n(142),$.firestore(),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).userInfoFromProps=function(){var e=s.props.user.user,t=e.email,n=e.photo,a=e.user,i=e.background_url,r=e.name,c=e.id,o=e.last_name;s.setState({first_name:r,last_name:o,user_name:a,photoUrl:n,background_url:i,email:t,user_id:c})},s.launchNewPass=Object(u.a)(d.a.mark((function e(){var t,n,a,i,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({setPermission:!0}),t=s.state,n=t.newPassword1,a=t.newPassword2,i=t.oldPassword,r=s.props.user.user.user,c=r,n===a&&x.a.post("/auth/password",{newPassword1:n,newPassword2:a,oldPassword:i,user_name:c}).then((function(e){s.openChangePass(),s.props.hideView("showEditUserInfo")}));case 5:case"end":return e.stop()}}),e)}))),s.state={user_id:null,user_name:"",last_name:"",first_name:"",user:{},setPermission:!0,openNewPass:!1,oldPassword:"",newPassword1:"",newPassword2:""},s.addToDatabase=s.addToDatabase.bind(Object(j.a)(s)),s.launchNewPass=s.launchNewPass.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user.user,t=e.email,n=e.photo,s=e.user,a=e.background_url,i=e.name,r=e.id,c=e.last_name;this.setState({first_name:i,last_name:c,user_name:s,photoUrl:n,background_url:a,email:t,user_id:r}),this.userInfoFromProps()}},{key:"componentDidUpdate",value:function(){!0===this.state.setPermission&&(this.props.updateUser(),this.userInfoFromProps(),this.setState({setPermission:!1}))}},{key:"addToDatabase",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,s,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.first_name,s=t.last_name,a=t.email,i=t.user_id,console.log("hit add to db func"),x.a.post("/api/user/update/info/".concat(i),{email:a,last_name:s,first_name:n,user_id:i}),e.next=5,this.userInfoFromProps();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAddText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"openChangePass",value:function(){this.setState({openNewPass:!this.state.openNewPass})}},{key:"render",value:function(){var e=this,t=this.props.user.user,n=t.email,a=t.name,i=(t.user,t.photo,this.state),r=(i.staticPhoto,i.file,i.openNewPass),c=i.last_name;return Object(s.jsxs)("div",{className:"edit-user-info",children:[r?Object(s.jsxs)("div",{className:"change-pass-container",children:[Object(s.jsx)("input",{placeholder:"Old Password",onChange:function(t){return e.handleAddText("oldPassword",t.target.value)}}),Object(s.jsx)("input",{placeholder:"New Password",onChange:function(t){return e.handleAddText("newPassword1",t.target.value)}}),Object(s.jsx)("input",{placeholder:"Verify New Password",onChange:function(t){return e.handleAddText("newPassword2",t.target.value)}}),Object(s.jsxs)("div",{className:"change-pass-button-flex",children:[Object(s.jsx)("button",{onClick:function(){e.launchNewPass()},children:"submit"}),Object(s.jsx)("button",{onClick:function(){return e.setState({openNewPass:!1})},children:"cancel"})]})]}):null,Object(s.jsxs)("section",{className:"edit-user-info-title",children:[Object(s.jsx)("svg",{onClick:function(){return e.props.resetView()},className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(s.jsx)("h2",{children:"edit user info"})]}),Object(s.jsx)("section",{className:"",children:Object(s.jsxs)("div",{className:"input-list",children:[Object(s.jsx)("button",{onClick:function(){return e.openChangePass()},children:"change password"}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("p",{className:"list-text",children:"First Name"}),Object(s.jsx)("input",{placeholder:a,onChange:function(t){return e.handleAddText("first_name",t.target.value)}})]}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("p",{className:"list-text",children:"Last Name"}),Object(s.jsx)("input",{placeholder:c,onChange:function(t){return e.handleAddText("last_name",t.target.value)}})]}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("p",{className:"list-text",children:"Email Address"}),Object(s.jsx)("input",{placeholder:n,onChange:function(t){return e.handleAddText("email",t.target.value)}})]}),Object(s.jsx)("div",{className:"submit-row",children:Object(s.jsx)("button",{onClick:function(){return e.addToDatabase()},className:"li-button",children:"submit"})})]})})]})}}]),n}(a.Component));var je=Object(f.b)((function(e){return e}),{updateUser:S,loginUser:I})(he),me=function(e){var t=e.user,n=e.name,i=e.email,r=Object(a.useState)(!1),c=Object(F.a)(r,2);c[0],c[1];return Object(s.jsxs)("div",{className:"user-info",children:[Object(s.jsxs)("div",{className:"user-info-title",children:[Object(s.jsx)("p",{}),Object(s.jsx)("h2",{className:"user-info-title-text",children:"My Info"})]}),Object(s.jsxs)("div",{className:"user-info-h2",children:[Object(s.jsx)("p",{className:"user-info-p",children:"name:"}),Object(s.jsx)("h2",{className:"text-element",children:n})]}),null!=i?Object(s.jsxs)("div",{className:"user-info-h2",children:[Object(s.jsx)("p",{className:"user-info-p",children:"email:"}),Object(s.jsx)("h2",{className:"text-element",children:i})]}):null,Object(s.jsxs)("div",{className:"user-info-h2",children:[Object(s.jsx)("p",{className:"user-info-p",children:"username:"}),Object(s.jsx)("h2",{className:"text-element",children:t})]})]})},be=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).state={},s}return Object(h.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"sec-test-container"})}}]),n}(a.Component),ge=(n(43),function(e){var t=e.user_name,n=e.first_name,a=e.last_name,i=e.user_id;return Object(s.jsx)(E.c,{to:"/viewuser/".concat(i),children:Object(s.jsxs)("div",{className:"show-user",children:[Object(s.jsx)("p",{className:"admin-a",children:n+" "+a}),Object(s.jsx)("p",{className:"admin-a",children:t})]})})}),xe=function(e){var t=e.unique_id,n=e.remount,a=e.date_created,i=e.id,r=e.last_visit;return Object(s.jsxs)("div",{className:"traffic-display-unit",children:[Object(s.jsx)("p",{className:"traffic-text",children:a})," ",Object(s.jsx)("p",{className:"traffic-text",children:i}),"  ",Object(s.jsx)("p",{className:"traffic-text",children:t}),Object(s.jsx)("p",{className:"traffic-text",children:n}),Object(s.jsx)("p",{className:"traffic-text",children:r})]})},fe=(n(71),function(e){var t=e.body,n=e.title,i=e.memo_id,r=Object(a.useState)(t),c=Object(F.a)(r,2),o=c[0],l=c[1],d=Object(a.useState)(!1),u=Object(F.a)(d,2),p=u[0],h=u[1];return Object(s.jsxs)("div",{className:"text-container",children:[Object(s.jsx)("input",{value:n,style:{width:"95%",marginBottom:"5px"}}),Object(s.jsx)("textarea",{name:"text",rows:"23",cols:"50",wrap:"soft",placeholder:"text",onChange:function(e){return l(e.target.value)},value:o,className:"admin-memo-body",children:" "}),Object(s.jsx)("div",{className:"is-saving",children:!0===p?Object(s.jsx)("p",{style:{color:"#fff",fontWeight:"600"},children:"sending..."}):Object(s.jsx)("p",{style:{color:"#fff",fontWeight:"600"},onClick:function(){return h(!0),void x.a.post("/api/memo/update",{text:o,memo_id:i}).then((function(e){h(!1)}))},children:"save"})})]})}),Oe=function(e){var t=e.messagecontent,n=e.email;return Object(s.jsxs)("div",{className:"show-user",children:[Object(s.jsxs)("p",{children:["email",n]}),Object(s.jsx)("p",{className:"admin-a",children:t})]})},ve=n(25),we=(new ve.w3cwebsocket("ws://165.227.102.189:8000"),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).addGeneral=function(){var t=e.state.generalContent;x.a.post("/api/docs/post",{content:t,tag:"general"}).then(alert("new content has been added to General Information element")).catch((function(e){console.log("error",e)}))},e.addAbout=function(){var t=e.state.aboutContent;x.a.post("/api/docs/post",{content:t,tag:"about"}).then(alert("new content has been added to About Information element")).catch((function(e){console.log(e)}))},e.hideDocGeneral=function(){var t=e.state.displayGeneral;x.a.post("/api/docs/hide",{content:t,tag:"general"}).then(alert("display changed")).catch((function(e){return console.log(e)}))},e.hideMessages=function(){e.setState({showMessages:!e.state.showMessages})},e.hideDocAbout=function(){var t=e.state.displayAbout;x.a.post("/api/docs/hide",{content:t,tag:"about"}).then(alert("display changed")).catch((function(e){return console.log(e)}))},e.state={users:[],text:"test",generalContent:"",displayGeneral:!0,editGeneral:!1,aboutContent:"",displayAbout:!0,editAbout:!1,editUserInfo:!1,showMessages:!1,userMessages:[],showMemo:!1,memos:[],showTraffic:!1,traffic:[]},e.handleAddText=e.handleAddText.bind(Object(j.a)(e)),e.addGeneral=e.addGeneral.bind(Object(j.a)(e)),e.addAbout=e.addAbout.bind(Object(j.a)(e)),e.hideDocAbout=e.hideDocAbout.bind(Object(j.a)(e)),e.hideDocGeneral=e.hideDocGeneral.bind(Object(j.a)(e)),e.openEditAbout=e.openEditAbout.bind(Object(j.a)(e)),e.openEditGeneral=e.openEditGeneral.bind(Object(j.a)(e)),e.openEditUserInfo=e.openEditUserInfo.bind(Object(j.a)(e)),e.hideMessages=e.hideMessages.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/api/users/all").then((function(t){e.setState({users:t.data})})),x.a.get("/api/track/getall").then((function(t){e.setState({traffic:t.data})})),x.a.get("/api/messages/user").then((function(t){e.setState({userMessages:t.data})})),x.a.get("/api/memos/get/all").then((function(t){e.setState({memos:t.data})}))}},{key:"handleAddText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"openEditAbout",value:function(){this.setState({editAbout:!this.state.editAbout})}},{key:"openEditGeneral",value:function(){this.setState({editGeneral:!this.state.editGeneral})}},{key:"openEditUserInfo",value:function(){this.setState({editUserInfo:!this.state.editUserInfo})}},{key:"resetView",value:function(){this.setState({showMemo:!1,showTraffic:!1})}},{key:"changeView",value:function(e){switch(this.resetView(),e){case"showTraffic":this.setState({showTraffic:!0});break;case"showMemo":this.setState({showMemo:!0})}}},{key:"render",value:function(){var e=this,t=this.state,n=(t.test,t.editAbout),a=t.editGeneral,i=t.editUserInfo,r=t.users,c=t.traffic,o=t.showMessages,l=t.userMessages,d=t.showTraffic,u=t.showMemo,p=t.memos,h=this.props.user.user,j=(h.photo,h.auth,h.name,h.is_admin),m=h.is_sudo,b=r.map((function(e){return Object(s.jsx)(ge,{user_name:e.user_name,first_name:e.first_name,last_name:e.last_name,user_id:e.user_id})})),g=c.filter((function(e){return null!=e.last_visit})).map((function(e){return Object(s.jsx)(xe,{id:e.browser_id,date_created:e.date_created,unique_id:e.unique_id,remount:e.remount,last_visit:e.last_visit},e.browser_id)})),x=l.map((function(e){return Object(s.jsx)(Oe,{messagecontent:e.messagecontent,email:e.email},e.dum_id)})),f=p.map((function(e){return Object(s.jsx)(fe,{body:e.body,title:e.title,memo_id:e.memo_id},e.memo_id)}));return Object(s.jsx)("div",{className:"admin-container",children:j?Object(s.jsxs)("div",{children:[Object(s.jsxs)("ul",{className:"admin-header-ul",children:[!0===m?Object(s.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.changeView("showMemo")},children:Object(s.jsx)("a",{children:"memo"})}):null,a?Object(s.jsxs)("li",{className:"add-doc-div",children:[Object(s.jsx)("a",{onClick:this.openEditGeneral,children:"edit general info"}),Object(s.jsx)("textarea",{onChange:function(t){return e.handleAddText("generalContent",t.target.value)},className:"input",name:"text",rows:"14",cols:"100",wrap:"soft",children:" "}),Object(s.jsx)("button",{className:"text",onClick:this.addGeneral,children:"add to general content"}),Object(s.jsxs)("div",{className:"checkbox",style:{marginTop:"20px"},children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(t){return e.handleAddText("displayGeneral",!e.state.displayGeneral)}}),Object(s.jsx)("p",{style:{color:"#555"},children:"display this document?"}),Object(s.jsx)("button",{onClick:this.hideDocGeneral,children:"change"})]})]}):Object(s.jsx)("li",{className:"add-doc-div-closed",onClick:this.openEditGeneral,children:Object(s.jsx)("a",{children:"edit general info"})}),n?Object(s.jsxs)("li",{className:"add-doc-div",children:[Object(s.jsx)("a",{onClick:this.openEditAbout,className:"admin-a",children:"edit about info"}),Object(s.jsx)("textarea",{onChange:function(t){return e.handleAddText("aboutContent",t.target.value)},className:"input",name:"text",rows:"14",cols:"100",wrap:"soft",children:" "}),Object(s.jsx)("button",{className:"text",onClick:this.addAbout,children:"add to about content"}),Object(s.jsxs)("div",{className:"checkbox",style:{marginTop:"20px"},children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(t){return e.handleAddText("displayAbout",!e.state.displayAbout)}}),Object(s.jsx)("p",{style:{color:"#555"},children:"display this document?"}),Object(s.jsx)("button",{onClick:this.hideDocAbout,children:"change"})]})]}):Object(s.jsx)("li",{className:"add-doc-div-closed",children:Object(s.jsx)("a",{onClick:this.openEditAbout,children:"edit about info"})}),Object(s.jsx)("li",{className:"add-doc-div-closed",children:Object(s.jsx)("a",{children:"notifications"})}),o?Object(s.jsxs)("li",{className:"add-doc-div",onClick:function(){return e.hideMessages()},children:[Object(s.jsx)("a",{children:"messages"}),x]}):Object(s.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.hideMessages()},children:Object(s.jsx)("a",{children:"messages"})}),i?Object(s.jsxs)("li",{className:"add-doc-div",children:[Object(s.jsx)("a",{onClick:this.openEditUserInfo,className:"admin-a",children:"User Details"}),b]}):Object(s.jsx)("li",{className:"add-doc-div-closed",children:Object(s.jsx)("a",{onClick:this.openEditUserInfo,children:"User Details"})}),Object(s.jsx)("li",{className:"add-doc-div-closed",children:Object(s.jsx)("a",{children:"terms"})}),Object(s.jsx)("li",{className:"add-doc-div-closed",children:Object(s.jsx)("a",{children:"user project details"})}),Object(s.jsx)("li",{className:"add-doc-div-closed",onClick:function(){return e.changeView("showTraffic")},children:Object(s.jsx)("a",{children:"show traffic"})})]}),Object(s.jsx)(E.c,{to:"/user",children:Object(s.jsx)("a",{children:"mypage"})}),!0===d?Object(s.jsxs)("div",{className:"display-traffic",children:[Object(s.jsxs)("div",{className:"traffic-display-unit",children:[Object(s.jsx)("p",{className:"traffic-text",children:"Date Created"}),Object(s.jsx)("p",{className:"traffic-text",children:"Browser ID"}),Object(s.jsx)("p",{className:"traffic-text",children:"Unique Id"}),Object(s.jsx)("p",{className:"traffic-text",children:"Re-mounts"}),Object(s.jsx)("p",{className:"traffic-text",children:"Last Visit"})]}),g]}):null,!0===u&&!0===m?f:null,Object(s.jsxs)("section",{style:{height:"400px",width:"400px",backgroundColor:"#fff"},children:[Object(s.jsx)(A,{params:"large_heart"}),Object(s.jsx)("button",{children:"click"})]})]}):Object(s.jsx)(q.a,{path:"/",component:K})})}}]),n}(a.Component));var ke=Object(f.b)((function(e){return e}),{updateUser:S,getProjects:X})(we),ye=(n(72),n(73),function(e){return Object(s.jsx)("div",{children:"good"===e.getCurrent("player")?Object(s.jsx)("div",{className:"good-player ".concat(!e.getCurrent("isInGame")&&"hide-game-piece"),children:!0===e.getCurrent("isKing")?Object(s.jsx)("p",{className:"player-text",children:"king"}):null}):Object(s.jsx)("div",{className:"bad-player ".concat(!e.getCurrent("isInGame")&&"hide-game-piece"),children:!0===e.getCurrent("isKing")?Object(s.jsx)("p",{className:"player-text",children:"king"}):null})})}),Ne=function(e){var t=e.x,n=e.y,i=e.color,r=e.currentPiece,c=e.activeLocation,o=e.currentPlayer,l=(e.tileIsSelected,e.pieces),d=(e.chainKillAvailable,e.moveOptions),u=Object(a.useRef)();d.length>0&&[t+1,n+1]===d&&console.log("here is the move",t+1,d);var p=function(e){if(void 0!==r[0])switch(e){case"id":return r[0].id;case"isKing":return r[0].isKing;case"pendingDeath":return r[0].pendingDeath;case"isInGame":return r[0].isInGame;case"player":return r[0].player}};return Object(s.jsxs)("div",{className:"tile-location",children:[Object(s.jsxs)("div",{className:"tile-color ".concat(c[1]?"display-opac":"hide-opac"," ").concat(!!(i-1)||"tile-color-dark"," "),onClick:function(){return e.selectTile(t,n,r)},children:[Object(s.jsx)(ye,{setMoves:e.setMoves,prevPiece:u.current,getCurrent:p,x:t,y:n,pieces:l,currentPiece:r}),!0===p("pendingDeath")&&"bad"===r[0].player?Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"emo-head-bad",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):null,!0===p("pendingDeath")&&"good"===r[0].player?Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"emo-head-good",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):null]}),c[0]===t&&c[1]===n?Object(s.jsxs)("div",{className:"select-box-overlay",children:[Object(s.jsx)("div",{className:"cancel-select-tile",onClick:function(){e.unselectTile()},children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",style:{color:"#fff"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(s.jsx)("div",{className:"low-right",onClick:function(){return e.setMoves(t+1,n+1,p("id"),c,!0,o,l,p("isKing"),r)}}),Object(s.jsx)("div",{className:"low-left",onClick:function(){return e.setMoves(t-1,n+1,p("id"),c,!0,o,l,p("isKing"),r)}}),Object(s.jsx)("div",{className:"top-left",onClick:function(){return e.setMoves(t-1,n-1,p("id"),c,!0,o,l,p("isKing"),r)}}),Object(s.jsx)("div",{className:"top-right",onClick:function(){return e.setMoves(t+1,n-1,p("id"),c,!0,o,l,p("isKing"),r)}})]}):null]})},_e=[{id:1,player:"good",x:1,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:2,player:"good",x:3,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:3,player:"good",x:5,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:4,player:"good",x:7,y:0,isInGame:!0,isKing:!1,pendingDeath:!1},{id:5,player:"good",x:5,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:6,player:"good",x:4,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:7,player:"good",x:2,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:8,player:"good",x:0,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:9,player:"good",x:1,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:10,player:"good",x:3,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:11,player:"good",x:6,y:1,isInGame:!0,isKing:!1,pendingDeath:!1},{id:12,player:"good",x:7,y:2,isInGame:!0,isKing:!1,pendingDeath:!1},{id:13,player:"bad",x:0,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:14,player:"bad",x:2,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:15,player:"bad",x:4,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:16,player:"bad",x:6,y:7,isInGame:!0,isKing:!1,pendingDeath:!1},{id:17,player:"bad",x:7,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:18,player:"bad",x:5,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:19,player:"bad",x:3,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:20,player:"bad",x:1,y:6,isInGame:!0,isKing:!1,pendingDeath:!1},{id:21,player:"bad",x:0,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:22,player:"bad",x:2,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:23,player:"bad",x:4,y:5,isInGame:!0,isKing:!1,pendingDeath:!1},{id:24,player:"bad",x:6,y:5,isInGame:!0,isKing:!1,pendingDeath:!1}],Le=function(e){var t=e.currentPlayer;return Object(s.jsxs)("div",{className:"turn-indicator",children:["good"===t?Object(s.jsx)("div",{className:"good-player"}):Object(s.jsx)("div",{className:"bad-player"}),Object(s.jsx)("p",{className:"turn-indicator-text",children:"current player"})]})},Ie=new ve.w3cwebsocket("ws://127.0.0.1:8000"),Ce=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).getConnected=function(e){Ie.onopen=function(){console.log("client connected")},Ie.onmessage=function(e){var t=JSON.parse(e.data);if("checkerTurn"===t.type&&t.gameID===s.props.currentGame){var n=t.input.currentPlayer;s.setState({pieces:t.input.newPieces,chainKillData:t.input.chainKillData}),s.switchPlayer(n),!0===s.state.chainKillAvailable?void 0!==s.state.chainKillData&&(s.checkForKill(s.state.enemyX,s.state.enemyY,s.state.chainKillData),s.setState({chainKillAvailable:!1})):s.autoStartTurn(),s.highLightFate()}}},s.kingAll=function(){var e=s.state.pieces,t=[];e.forEach((function(e){e.isKing=!0,t.push(e)})),s.setState({pieces:t})},s.sendToSocketsSwitch=function(e){var t=s.props.currentGame;s.props.user.user.id;Ie.send(JSON.stringify({type:"checkerTurn",input:e,gameID:t}))},s.boardFactory=function(){for(var e=[],t=Array.from(Array(8)),n=0;n<8;n++)e.push(t);s.setState({matrix:e})},s.autoStartTurn=Object(u.a)(d.a.mark((function e(){var t,n,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.state,n=t.pieces,a=t.currentPlayer,t.moveOptions,s.handleInput("moveOptions",[]),i=n.filter((function(e){return e.player===a})),n.filter((function(e){return e.player!==a})),i.forEach((function(e){s.chainKills(e.x,e.y,n,[e],!1)}));case 5:case"end":return e.stop()}}),e)}))),s.chainKills=function(){var e=Object(u.a)(d.a.mark((function e(t,n,a,i,r){var c,o,l,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=s.state,o=c.matrix,l=c.moveOptions,u=i[0].player,p=Object(re.a)(l),[[-1,-1],[1,-1],[-1,1],[1,1]].forEach((function(e){var c=s.checkPieceLocations(t+e[0],n+e[1],a);if(void 0!==c&&c.player!==u){var d=parseInt(e[0])+c.x,h=parseInt(e[1])+c.y;if(void 0===s.checkPieceLocations(d,h,a)&&d>=0&&d<=o.length-1&&h>=0&&h<=o.length-1){if("good"===u&&h<i[0].y&&!1===i[0].isKing)return;if("bad"===u&&h>i[0].y&&!1===i[0].isKing)return;return p.push([c.x,c.y]),!1===r?(l.length<2&&s.setState({chainKillData:i}),s.setState({moveOptions:p})):(s.setState({moveOptions:l,chainKillData:i,enemyX:c.x,enemyY:c.y,chainKillAvailable:!0}),void s.switchPlayer(u))}}}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,s,a,i){return e.apply(this,arguments)}}(),s.highLightFate=function(){var e=s.state,t=e.moveOptions,n=e.pieces,a=e.currentPlayer;e.chainKillData;n.forEach((function(e){return e.pendingDeath=!1}));var i=n.filter((function(e){return e.player!==a})),r=[];i.forEach((function(e){t.forEach((function(t){e.x===t[0]&&e.y===t[1]&&r.push(n.findIndex((function(t){return t.id===e.id})))}))})),r.forEach((function(e){n[e].pendingDeath=!0})),s.handleInput("pieces",n)},s.setMoves=function(){var e=Object(u.a)(d.a.mark((function e(t,n,a,i,r,c,o,l,u){var p,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=o.findIndex((function(e){return e.id===a})),c===o[p].player){e.next=3;break}return e.abrupt("return");case 3:e.t0=d.a.keys(o);case 4:if((e.t1=e.t0()).done){e.next=16;break}if(h=e.t1.value,o[h].x!==t||o[h].y!==n){e.next=14;break}if(o[h].player===c){e.next=13;break}return e.next=10,s.checkForKill(o[h].x,o[h].y,u);case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return");case 14:e.next=4;break;case 16:if(!0!==r){e.next=22;break}return e.next=19,s.executeMovePiece(t,n,i[1],a,c,l);case 19:return e.abrupt("return",e.sent);case 22:return e.abrupt("return");case 23:case"end":return e.stop()}}),e)})));return function(t,n,s,a,i,r,c,o,l){return e.apply(this,arguments)}}(),s.executeMovePiece=function(e,t,n,a,i,r){var c=s.state,o=c.pieces,l=c.matrix,d=Object(re.a)(o),u=o.findIndex((function(e){return e.id===a}));if(n>t&&"good"===i&&!1===r)return console.log("this move is not allowed");if(n<t&&"bad"===i&&!1===r)return console.log("this move is not allowed");d[u].x=e,d[u].y=t,("bad"===d[u].player&&0===d[u].y||"good"===d[u].player&&d[u].y===l.length-1)&&(d[u].isKing=!0),s.setState({pieces:d,activeLocation:[null,null],tileIsSelected:1});var p={newPieces:d,currentPlayer:s.state.currentPlayer};s.sendToSocketsSwitch(p)},s.checkForKill=function(){var e=Object(u.a)(d.a.mark((function e(t,n,a){var i,r,c,o,l,u,p,h,j,m,b,g,x,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("chain",a),i=s.state,r=i.pieces,c=i.matrix,o=a[0],l=o.player,u=o.isKing,p=o.id,h=o.x,j=o.y,m=h,b=j,g=r.findIndex((function(e){return e.id===p})),!(m>t&&b<n)){e.next=33;break}if("bad"!==l||!1!==u){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,s.checkPieceLocations(t-1,n+1,null);case 11:if(e.t0=e.sent,e.t1=void 0,e.t0!==e.t1){e.next=31;break}if(!(t-1>=0&&n+1<=c.length-1)){e.next=31;break}return e.next=17,s.killPiece(t,n,p);case 17:return x=e.sent,g=x.findIndex((function(e){return e.id===p})),x[g].x=t-1,x[g].y=n+1,"good"===x[g].player&&x[g].y===c.length-1&&(x[g].isKing=!0),a=[x[g]],s.chainKills(x[g].x,x[g].y,x,a),a[0].x=x[g].x,a[0].y=x[g].y,s.setState({pieces:x,activeLocation:[null,null],tileIsSelected:1}),f={chainKillData:s.state.chainKillData,newPieces:x,currentPlayer:s.state.currentPlayer},e.next=30,s.sendToSocketsSwitch(f);case 30:return e.abrupt("return",e.sent);case 31:e.next=112;break;case 33:if(!(m>t&&b>n)){e.next=60;break}if("good"!==l||!1!==u){e.next=36;break}return e.abrupt("return");case 36:return e.next=38,s.checkPieceLocations(t-1,n-1,null);case 38:if(e.t2=e.sent,e.t3=void 0,e.t2!==e.t3){e.next=58;break}if(!(t-1>=0&&n-1>=0)){e.next=58;break}return e.next=44,s.killPiece(t,n,p);case 44:return x=e.sent,g=x.findIndex((function(e){return e.id===p})),x[g].x=t-1,x[g].y=n-1,"bad"===x[g].player&&0===x[g].y&&(x[g].isKing=!0),a=[x[g]],s.chainKills(x[g].x,x[g].y,x,a),a[0].x=x[g].x,a[0].y=x[g].y,s.setState({pieces:x,activeLocation:[null,null],tileIsSelected:1}),f={chainKillData:s.state.chainKillData,newPieces:x,currentPlayer:s.state.currentPlayer},e.next=57,s.sendToSocketsSwitch(f);case 57:return e.abrupt("return",e.sent);case 58:e.next=112;break;case 60:if(!(m<t&&b>n)){e.next=87;break}if("good"!==l||!1!==u){e.next=63;break}return e.abrupt("return");case 63:return e.next=65,s.checkPieceLocations(t+1,n-1,null);case 65:if(e.t4=e.sent,e.t5=void 0,e.t4!==e.t5){e.next=85;break}if(!(t+1<=c.length-1&&n-1>=0)){e.next=85;break}return e.next=71,s.killPiece(t,n,p);case 71:return x=e.sent,g=x.findIndex((function(e){return e.id===p})),x[g].x=t+1,x[g].y=n-1,"bad"===x[g].player&&0===x[g].y&&(x[g].isKing=!0),a=[x[g]],s.chainKills(x[g].x,x[g].y,x,a),a[0].x=x[g].x,a[0].y=x[g].y,s.setState({activeLocation:[null,null],tileIsSelected:1}),f={chainKillData:s.state.chainKillData,newPieces:x,currentPlayer:s.state.currentPlayer},e.next=84,s.sendToSocketsSwitch(f);case 84:return e.abrupt("return",e.sent);case 85:e.next=112;break;case 87:if(!(m<t&&b<n)){e.next=112;break}if("bad"!==l||!1!==u){e.next=90;break}return e.abrupt("return");case 90:return e.next=92,s.checkPieceLocations(t+1,n+1,null);case 92:if(e.t6=e.sent,e.t7=void 0,e.t6!==e.t7){e.next=112;break}if(!(t+1>=0&&n+1<=c.length-1)){e.next=112;break}return e.next=98,s.killPiece(t,n,p);case 98:return x=e.sent,g=x.findIndex((function(e){return e.id===p})),x[g].x=t+1,x[g].y=n+1,"good"===x[g].player&&x[g].y===c.length-1&&(x[g].isKing=!0),a=[x[g]],s.chainKills(x[g].x,x[g].y,x,a),a[0].x=x[g].x,a[0].y=x[g].y,s.setState({pieces:x,activeLocation:[null,null],tileIsSelected:1}),f={chainKillData:s.state.chainKillData,newPieces:x,currentPlayer:s.state.currentPlayer},e.next=111,s.sendToSocketsSwitch(f);case 111:return e.abrupt("return",e.sent);case 112:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),s.killPiece=function(){var e=Object(u.a)(d.a.mark((function e(t,n,a){var i,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.state.pieces,r=Object(re.a)(i),i.findIndex((function(e){return e.id===a})),e.next=5,s.checkPieceLocations(t,n).id;case 5:return c=e.sent,o=i.findIndex((function(e){return e.id===c})),r.splice(o,1),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),s.checkPieceLocations=function(e,t,n){var a=s.state.pieces;if(null!=n){for(var i in n)if(n[i].x===e&&n[i].y===t)return n[i]}else for(var r in a)if(a[r].x===e&&a[r].y===t)return a[r]},s.switchPlayer=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="good"===e.t0?3:"bad"===e.t0?5:6;break;case 3:return s.setState({currentPlayer:"bad"}),e.abrupt("break",6);case 5:s.setState({currentPlayer:"good"});case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.selectTile=function(e,t,n){void 0!=n[0]&&(s.handleInput("activeLocation",[e,t,n]),s.handleInput("tileIsSelected",.4))},s.unselectTile=function(){s.handleInput("tileIsSelected",1),s.handleInput("activeLocation",[null,null])},s.handleInput=function(e,t){s.setState(Object(J.a)({},e,t))},s.state={playerGood:{},playerBad:{},selectedPiece:{},activeLocation:[null,null],pieces:[],matrix:[],setPermission:!0,currentPlayer:"good",tileIsSelected:1,wasKillMade:!1,chainKillData:{},chainKillAvailable:!1,moveOptions:[],gameBoardOpen:!0},s.selectTile=s.selectTile.bind(Object(j.a)(s)),s.boardFactory=s.boardFactory.bind(Object(j.a)(s)),s.getConnected=s.getConnected.bind(Object(j.a)(s)),s.checkForKill=s.checkForKill.bind(Object(j.a)(s)),s.sendToSocketsSwitch=s.sendToSocketsSwitch.bind(Object(j.a)(s)),s.chainKills=s.chainKills.bind(Object(j.a)(s)),s.setMoves=s.setMoves.bind(Object(j.a)(s)),s.executeMovePiece=s.executeMovePiece.bind(Object(j.a)(s)),s.killPiece=s.killPiece.bind(Object(j.a)(s)),s.checkPieceLocations=s.checkPieceLocations.bind(Object(j.a)(s)),s.switchPlayer=s.switchPlayer.bind(Object(j.a)(s)),s.selectTile=s.selectTile.bind(Object(j.a)(s)),s.unselectTile=s.unselectTile.bind(Object(j.a)(s)),s.handleInput=s.handleInput.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("is mounted"),this.setState({pieces:_e}),this.boardFactory(),this.getConnected()}},{key:"render",value:function(){var e=this,t=this.state,n=t.matrix,a=t.pieces,i=t.activeLocation,r=t.currentPlayer,c=t.tileIsSelected,o=t.moveOptions,l=t.chainKillAvailable,d=t.gameBoardOpen,u=n.map((function(t,n){return t.map((function(t,d){var u=a.filter((function(e){return e.x===d&&e.y===n}));return Object(s.jsx)(Ne,{x:d,y:n,color:Math.pow(-1,n+d),selectTile:e.selectTile,unselectTile:e.unselectTile,setMoves:e.setMoves,currentPiece:u,currentPlayer:r,activeLocation:i,tileIsSelected:c,pieces:a,moveOptions:o,chainKillAvailable:l},[d,n])}))}));return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"checker-table ".concat(!!d||"checker-table-closed"),children:[!1===d?Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",style:{width:"25px",opacity:".5"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"})}):null,!0===d?Object(s.jsxs)("div",{className:"check-row-1",children:[u," "]}):null]}),Object(s.jsx)(Le,{currentPlayer:r})]})}}]),n}(a.Component);var Se=Object(f.b)((function(e){return e}),{updateUser:S})(Ce),Me=(n(146),function(e){var t=e.challengeUser.gameInformation,n=t.isAccepted,i=t.photo,r=t.gameID,c=Object(a.useState)(!1),o=Object(F.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(!1),p=Object(F.a)(u,2),h=p[0],j=p[1],m=function(t,n){e.changeGameID(t,n),j(!h),!0===t&&d(!0)};return Object(s.jsx)("div",{children:!1===h?Object(s.jsxs)("div",{className:"invite",children:[Object(s.jsx)("img",{src:i,className:"invite-photo",onClick:function(){!1===l?j(!h):e.hideView("showGames")}}),!1===n&&!1===l?Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"game-invite-icon",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):null]}):Object(s.jsxs)("div",{className:"invite choose-accept",children:[Object(s.jsx)("div",{className:"game-invite-title",children:Object(s.jsx)("p",{className:"game-invite-title-text",children:"Accept Challenge?"})}),Object(s.jsxs)("div",{className:"invite-yes-no",children:[Object(s.jsx)("p",{className:"choose-accept-text",onClick:function(){return m(!0,r)},children:"yes"}),Object(s.jsx)("p",{className:"choose-accept-text",onClick:function(){return m(!1)},children:"no"})]})]})})}),De=(n(147),function(e){var t=e.challengeUser,n=e.currentGame;return Object(s.jsxs)("div",{className:"game-container",children:[Object(s.jsx)("section",{className:"game-title",children:Object(s.jsx)("svg",{className:"close-button",style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:function(){return e.hideView(null)},children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(s.jsxs)("section",{children:[null!=t?Object(s.jsx)("img",{className:"foe-photo",src:t.gameInformation.photo}):null,Object(s.jsx)(Se,{currentGame:n,client:e.client})]})]})}),Ue=(n(74),function(e){var t=e.photo_url,n=e.user_name,i=e.user_id,r=e.my_id,c=Object(a.useState)(!1),o=Object(F.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(!1),p=Object(F.a)(u,2),h=p[0],j=p[1];Object(a.useEffect)((function(){}),[]);return Object(s.jsx)("div",{children:!1===h?Object(s.jsxs)("div",{className:"connection-container",children:[Object(s.jsxs)("div",{className:"photo-name-flex",children:[Object(s.jsx)(E.c,{to:"viewuser/".concat(i),children:Object(s.jsx)("img",{src:t,className:"connection-photo"})}),Object(s.jsx)("p",{className:"connection-name",children:n})]}),!0===l?Object(s.jsxs)("ul",{className:"friend-options",children:[Object(s.jsxs)("div",{className:"friend-menu-row",onClick:function(){return e.getUserID(i)},children:[Object(s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Object(s.jsx)("p",{className:"friend-menu-text",children:"Game invite"})]}),Object(s.jsxs)("div",{className:"friend-menu-row",children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(s.jsx)("p",{className:"friend-menu-text",onClick:function(){return function(t,n){e.removeConnection(t,n),j(!0)}(i,r)},children:"remove friend"})]})]}):null,Object(s.jsx)("svg",{onClick:function(){return d(!l)},xmlns:"http://www.w3.org/2000/svg",className:"small-icon",style:{marginBottom:"10px",marginRight:"0px",height:"40px",width:"40px",opacity:"60%"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})]}):null})}),Pe=function(e){var t=Object(a.useState)(!1),n=Object(F.a)(t,2),i=n[0],r=n[1],c=e.photo_url,o=e.user_name,l=e.user_id,d=e.my_id;return Object(s.jsx)("div",{children:!1===i?Object(s.jsxs)("div",{className:"connection-container",children:[Object(s.jsxs)("div",{className:"photo-name-flex",children:[Object(s.jsx)(E.c,{to:"viewuser/".concat(l),children:Object(s.jsx)("img",{src:c,className:"connection-photo"})}),Object(s.jsx)("p",{className:"connection-name",children:o})]}),Object(s.jsxs)("div",{className:"button-row",children:[Object(s.jsx)("p",{className:"connection-buttons",style:{marginBottom:"10px"},onClick:function(){return function(t,n){e.removeConnection(t,n),r(!0)}(l,d)},children:"Remove"}),Object(s.jsx)("p",{className:"connection-buttons-full",style:{marginBottom:"10px",marginRight:"10px"},onClick:function(){return function(t,n){e.acceptRequest(t,n,c,o),r(!0)}(l,d)},children:"Confirm"})]})]}):null})},Te=(n(148),new ve.w3cwebsocket("ws://165.227.102.189:8000")),Fe=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).sockets=function(t){var n=e.props.id;Te.onopen=function(){},Te.onmessage=function(t){var s=JSON.parse(t.data),a=s.fromUser,i=s.friendObj,r=e.state,c=r.newFriends,o=r.friends;if("new_friend"===s.type&&parseInt(a.toUser)===n&&(c.push(a),e.setState({newFriends:c})),"acceptedFriend"===s.type&&(parseInt(i.my_id)===n||parseInt(i.user_id)===n)){var l=Object(re.a)(o);l.push(i),e.setState({friends:l})}}},e.newFriendToSocked=function(e){Te.send(JSON.stringify({type:"acceptedFriend",friendObj:e}))},e.getMyFriends=Object(u.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.id,t.next=3,x.a.get("/api/join/friends/".concat(n)).then((function(t){return e.setState({friends:t.data})})).catch((function(e){return console.log(e)}));case 3:return t.next=5,x.a.get("/api/get/pending/friends/".concat(n)).then((function(t){return e.setState({requests:t.data})})).catch((function(e){return console.log(e)}));case 5:return t.abrupt("return");case 6:case"end":return t.stop()}}),t)}))),e.startLoading=function(){e.setState({isLoading:!e.state.isLoading})},e.acceptRequest=function(){var t=Object(u.a)(d.a.mark((function t(n,s,a,i){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.friends,!0,c={photo_url:a,user_id:n,my_id:s,user_name:i},Object(re.a)(r).push(c),e.newFriendToSocked(c),t.next=8,x.a.post("/api/accept/connection",{from:n,to:s,yes:true});case 8:t.sent;case 9:case"end":return t.stop()}}),t)})));return function(e,n,s,a){return t.apply(this,arguments)}}(),e.removeConnection=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("hit remove",t,n),x.a.post("/api/remove/connection",{from:t,to:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.state={requests:[],friends:[],isLoading:!1,newFriends:[],justAdded:[]},e.getMyFriends=e.getMyFriends.bind(Object(j.a)(e)),e.acceptRequest=e.acceptRequest.bind(Object(j.a)(e)),e.startLoading=e.startLoading.bind(Object(j.a)(e)),e.removeConnection=e.removeConnection.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.sockets(),this.getMyFriends()}},{key:"componentDidUpdate",value:function(){this.sockets()}},{key:"pleaeLogin",value:function(){alert("please log in")}},{key:"render",value:function(){var e=this,t=this.state,n=t.requests,a=t.friends,i=t.isLoading,r=t.newFriends,c=this.props.id,o=a.map((function(t){return Object(s.jsx)(Ue,{photo_url:t.photo_url,user_id:t.user_id,user_name:t.user_name,my_id:c,removeConnection:e.removeConnection,getUserID:e.props.getUserID},t.user_id)})),l=n.map((function(t){return Object(s.jsx)(Pe,{photo_url:t.photo_url,user_name:t.user_name,user_id:t.user_id,my_id:c,removeConnection:e.removeConnection,acceptRequest:e.acceptRequest},t.user_id)})),d=r.map((function(t){return Object(s.jsx)(Pe,{photo_url:t.photo,user_name:t.user,user_id:t.id,my_id:c,removeConnection:e.removeConnection,acceptRequest:e.acceptRequest},t.id)}));return Object(s.jsxs)("div",{className:"friend-container",children:[!0===i?Object(s.jsx)(T,{}):null,d,l,o]})}}]),n}(a.Component),Ee=(n(149),n(150),function(e){var t=e.image_url,n=e.user_id,i=Object(a.useState)(!1),r=Object(F.a)(i,2),c=r[0],o=r[1],l=function(){var s=Object(u.a)(d.a.mark((function s(a){return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o(!c);case 2:return s.next=4,e.setCurrentImg(null);case 4:s.t0=a,s.next="delete"===s.t0?7:"update_photo"===s.t0?12:"update_background_img"===s.t0?15:18;break;case 7:return s.next=9,e.removingPhoto(t);case 9:return s.next=11,e.getPhotos(n);case 11:return s.abrupt("break",18);case 12:return s.next=14,x.a.post("/api/users/update/photo/",{image_url:t,user_id:n});case 14:return s.abrupt("break",18);case 15:return s.next=17,x.a.post("/api/user/update/background",{image_url:t,user_id:n});case 17:return s.abrupt("break",18);case 18:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"selected-img",children:[Object(s.jsxs)("header",{className:"selected-img-head",children:[Object(s.jsx)("svg",{onClick:function(){return o(!c)},xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",left:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:!1===c?Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}):Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),!0===c?Object(s.jsxs)("ul",{className:"friend-options",style:{width:"200px",height:"130px",left:"0px",top:"30px"},children:[Object(s.jsx)("li",{className:"friend-menu-row",style:{width:"200px"},onClick:function(){return l("update_photo")},children:"Use as Profile Picture"}),Object(s.jsx)("li",{onClick:function(){return l("update_background_img")},className:"friend-menu-row",style:{width:"200px"},children:"Use as Background"}),Object(s.jsx)("li",{onClick:function(){return l("delete")},className:"friend-menu-row",style:{width:"200px"},children:"Delete Photo"})]}):null,Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",right:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return e.setCurrentImg(null)},children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]}),Object(s.jsx)("img",{src:t,className:"prev-im-size"})]})});$.firestore();var Ae=Object(f.b)((function(e){return e}),{addNewModel:ie})((function(e){var t=Object(a.useState)([]),n=Object(F.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)([]),o=Object(F.a)(c,2),l=o[0],p=o[1],h=Object(a.useState)("photos"),j=Object(F.a)(h,2),m=j[0],b=j[1],g=Object(a.useState)(!1),f=Object(F.a)(g,2),O=f[0],v=f[1],w=Object(a.useState)(null),k=Object(F.a)(w,2),y=k[0],N=k[1],_=Object(a.useState)(null),L=Object(F.a)(_,2),I=L[0],C=L[1],S=Object(a.useState)({previewImageFile:null}),M=Object(F.a)(S,2),D=M[0],U=M[1],P=e.id;Object(a.useEffect)((function(){x.a.get("/api/photos/albums/".concat(P)).then((function(e){r(e.data)})),E(P)}),[]);var T=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return e.next=4,E(P);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/user/photos/get/".concat(t)).then((function(e){p(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t.target.files[0]&&(n=!0),n)try{Z.a.imageFileResizer(t.target.files[0],400,267,"JPEG",100,0,(function(e){console.log(e,"uri");var t=URL.createObjectURL(e);U({previewImageFile:t}),C(e)}),"file",298,191)}catch(s){console.log(s)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(d.a.mark((function t(){var n,s,a,i,r,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I,s=e.user.user,a=s.id,i=s.user,r=null,e.setIsLoading(),t.next=6,e.addNewModel(n,"".concat(i,"/photos"));case 6:return c=t.sent,t.next=9,c.action.payload.ref.getDownloadURL();case 9:return o=t.sent,t.next=12,x.a.post("/api/photos/add/new",{album_id:r,id:a,image_url:o});case 12:return t.next=14,E(a);case 14:return t.next=16,e.setIsLoading();case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),G=i.map((function(e){return Object(s.jsx)("p",{children:e.title},e.album_id)})),B=l.map((function(e){return Object(s.jsx)("img",{src:e.image_url,style:{height:"75px",width:"75px"},onClick:function(){return N(e.image_url)}},e.photo_id)}));return Object(s.jsxs)("div",{className:"album-container",children:["photos"===m?Object(s.jsxs)("header",{className:"album-title-row",children:[Object(s.jsx)("p",{style:{float:"left",fontWeight:"700"},children:"Photos"}),Object(s.jsx)("input",{className:"user-photo-file-input",style:{position:"absolute",top:"5px",right:"10px",width:"20px",height:"20px"},type:"file",accept:"image/png,image/jpeg",onChange:function(e){return T(e)}}),Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{position:"absolute",top:"4px",right:"0px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})]}):Object(s.jsxs)("header",{className:"album-title-row",children:[Object(s.jsx)("p",{style:{float:"left",fontWeight:"700"},children:"Albums"}),Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",style:{float:"right",marginTop:"5px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return v(!O)},children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})]}),Object(s.jsx)("header",{className:"album-title-row-bottom",children:Object(s.jsx)("p",{className:"photo-selector",onClick:function(){return b("photos")},children:"Photos"})}),y?Object(s.jsx)(Ee,{image_url:y,setCurrentImg:N,removingPhoto:e.removingPhoto,getPhotos:E,user_id:P}):null,"albums"===m?G:null,"photos"===m?B:null,null!=D.previewImageFile?Object(s.jsx)(ce,{previewImageFile:D.previewImageFile,photo_url:I,addPhoto:R,handleInput:function(e,t){U(Object(J.a)({},e,t))}}):null]})})),Re=new ve.w3cwebsocket("ws://165.227.102.189:8000"),Ge=($.firestore(),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).removingPhoto=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.deleteFromFirebase(t);case 2:return console.log(" here is url ",t),e.next=5,x.a.post("/api/photos/delete/",{image_url:t});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.changeGameID=function(e,t){!0===e?s.setState({currentGame:t}):s.setState({challengeUser:null})},s.receiveInvite=function(){Re.onopen=function(){},Re.onmessage=function(e){var t=JSON.parse(e.data),n=s.props.user.user.id;"gameInvite"===t.type&&t.gameInformation.to===n&&s.setState({challengeUser:t})}},s.sendInvite=function(e){console.log("hit send invite");s.props.user.user.id;Re.send(JSON.stringify({type:"gameInvite",gameInformation:e}))},s.getUniqueID=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()},s.getUserID=function(e){console.log('hit "sendUserId');var t=s.props.user.user,n={to:e,from:t.id,isAccepted:!1,photo:t.photo,gameID:s.state.currentGame};s.sendInvite(n)},s.handleInput=function(e,t){s.setState(Object(J.a)({},e,t))},s.setIsLoading=function(){s.setState({isLoading:!s.state.isLoading})},s.state={previewImageFile:null,photo_url:null,photos:[],showPhotos:!1,items:[],user:{},friends:[],requests:[],showUserInfo:!0,showCollections:!0,showAdminPage:!1,showCreateProject:!1,showEditUserInto:!1,showGames:!1,showFriends:!1,profilePic:null,userName:null,isLoading:!1,setPermission:!0,challengeUser:null,currentGame:null},s.handleCollections=s.handleCollections.bind(Object(j.a)(s)),s.hideView=s.hideView.bind(Object(j.a)(s)),s.resetView=s.resetView.bind(Object(j.a)(s)),s.pleaseLogin=s.pleaeLogin.bind(Object(j.a)(s)),s.setIsLoading=s.setIsLoading.bind(Object(j.a)(s)),s.deleteFromFirebase=s.deleteFromFirebase.bind(Object(j.a)(s)),s.getUserID=s.getUserID.bind(Object(j.a)(s)),s.receiveInvite=s.receiveInvite.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.receiveInvite(),this.setState({currentGame:this.getUniqueID()})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.user.user,n=t.id;t.photo;this.state.friends.length<1&&void 0!=n&&x.a.get("/api/join/friends/".concat(n)).then((function(t){return e.setState({friends:t.data})}))}},{key:"resetView",value:function(){this.setState({showCollections:!0,showUserInfo:!1,showEditUserInto:!1,showCreateProject:!1,showGames:!1,showFriends:!1,showPhotos:!1})}},{key:"handleCollections",value:function(e){this.setState({isView:"isCollections"}),console.log(this.state.isView)}},{key:"hideView",value:function(e){switch(this.receiveInvite(),this.resetView(),e){case"showUserInfo":this.setState({showUserInfo:!this.state.showUserInfo});break;case"showCollections":this.setState({showCollections:!0});break;case"showAdminPage":this.setState({showAdminPage:!this.state.showAdminPage});break;case"showEditUserInfo":this.setState({showEditUserInto:!0});break;case"showCreateProject":this.setState({showCreateProject:!0});break;case"showGames":this.setState({showGames:!0});break;case"showFriends":this.setState({showFriends:!0,showCollections:!1});case"showPhotos":this.setState({showPhotos:!0,showCollections:!1})}}},{key:"deleteFromFirebase",value:function(e){$.storage().refFromURL(e).delete().then((function(e){console.log("image deleted")})).catch((function(e){console.log("there was an error")}))}},{key:"handleFriends",value:function(){this.setState({isView:"isFriends"})}},{key:"pleaeLogin",value:function(){alert("please log in")}},{key:"render",value:function(){var e=this,t=this.state,n=(t.photos,t.previewImageFile,t.photoUrl,t.showCollections),a=(t.showUserInfo,t.items,t.isLoading),i=t.showCreateProject,r=t.showEditUserInto,c=t.showGames,o=t.showFriends,l=(t.friends,t.requests,t.challengeUser),d=t.currentGame,u=(t.currentPhoto,t.showPhotos),p=this.props.user.isLoggedIn,h=this.props.user.user,j=h.photo,m=(h.auth,h.name),b=h.is_admin,g=h.background_url,x=h.user,f=h.email,O=h.id;return Object(s.jsx)("div",{children:p?Object(s.jsxs)("div",{className:"user-page",children:[a?Object(s.jsx)(T,{}):null,Object(s.jsxs)("section",{className:"column1",children:[Object(s.jsx)("img",{src:g,className:"background-photo",onClick:function(){return e.hideView("showPhotos")}}),null===l?null:Object(s.jsx)(Me,{challengeUser:l,changeGameID:this.changeGameID,hideView:this.hideView}),Object(s.jsxs)("div",{className:"portrait",children:[Object(s.jsx)("img",{className:"profile-photo",src:j,alt:"photo",onClick:function(){return e.hideView("showPhotos")}}),Object(s.jsx)("h4",{className:"portrait-row",style:{textTransform:"none"},children:this.props.user.user.user}),Object(s.jsxs)("div",{className:"portrait-row",style:{flexWrap:"wrap",justifyContent:"center",width:"300px"},children:[Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showEditUserInfo")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"My Info"})}),Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showCreateProject")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"Create"})}),Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showGames")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"Games"})}),Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showPhotos")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"Photos"})}),Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showFriends")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"Friends"})}),Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"10px"},onClick:function(){return e.hideView("showCollections")},children:Object(s.jsx)("p",{style:{marginTop:"5px"},children:"Collections"})})]}),Object(s.jsxs)("div",{className:"portrait-row",children:[b?Object(s.jsx)(E.c,{to:"/admin",style:{textDecoration:"none"},children:Object(s.jsx)("p",{className:"go-to-admin",children:"admin"})}):null,"  "]})]}),Object(s.jsx)(me,{user:x,name:m,email:f,id:O,setIsLoading:this.setIsLoading,deleteFromFirebase:this.deleteFromFirebase})]}),Object(s.jsxs)("section",{className:"column2",children:[!0===c?Object(s.jsx)(De,{hideView:this.hideView,challengeUser:l,client:Re,currentGame:d}):null,!0===r?Object(s.jsx)(je,{setIsLoading:this.setIsLoading,resetView:this.resetView,updateUser:this.props.updateUser}):null,!0===n?Object(s.jsx)(pe,{setIsLoading:this.setIsLoading,photo_url:j,resetView:this.resetView,showCreateProject:i}):null,!0===o?Object(s.jsx)(Fe,{id:O,getUserID:this.getUserID}):null,!0===u?Object(s.jsx)(Ae,{id:O,handlePhoto:this.handlePhoto,removingPhoto:this.removingPhoto,setIsLoading:this.setIsLoading}):null]})]}):Object(s.jsx)(q.a,{path:"/",component:K})})}}]),n}(a.Component));var Be=Object(f.b)((function(e){return e}),{getProjects:X,updateUser:S,addNewModel:ie})(Ge),Ve=n.p+"static/media/cdLabs-logo-1-alpha.8a76484b.png",ze=n.p+"static/media/MM3D2333x50orthofff.66b36e66.png",Ke=n.p+"static/media/CDinits.d5585836.png",We=(n.p,function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this)).trackAdminUser=function(e){var t=localStorage.visited,n=e;!0===e&&void 0!==t&&x.a.post("/api/tracking/setIsAdmin",{unique_id:t,isAdmin:n}).then().catch((function(e){return console.log(e)}))},s.state={username:{},user_name:"",password:"",setPermission:!0,isLoggedInState:null,saveSession:!1,unique_id:null},s.handleLogging=s.handleLogging.bind(Object(j.a)(s)),s.resetState=s.resetState.bind(Object(j.a)(s)),s.toggleMenu=s.toggleMenu.bind(Object(j.a)(s)),s.handleClick=s.handleClick.bind(Object(j.a)(s)),s.handlePassword=s.handlePassword.bind(Object(j.a)(s)),s.handleUserName=s.handleUserName.bind(Object(j.a)(s)),s.toggleLogin=s.toggleLogin.bind(Object(j.a)(s)),s.handleLogout=s.handleLogout.bind(Object(j.a)(s)),s.setSaveSession=s.setSaveSession.bind(Object(j.a)(s)),s.sessionToWindow=s.sessionToWindow.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"sessionToWindow",value:function(e,t){localStorage.setItem(e,t)}},{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,a,i,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.visited,localStorage.assigned_browser,s=localStorage.user_name,a=new Date,void 0!=n&&void 0!=localStorage.user_name&&this.props.autoLogin(s,a,n).catch((function(e){return console.log("there was an error",e)})),i=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()},void 0===n&&(r=i(),c=i(),this.sessionToWindow("visited",r),this.sessionToWindow("assigned_browser",c)),void 0!==n&&this.setState({unique_id:n}),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUpdate",value:function(){var e=this.state.setPermission,t=this.props.user;!0===t.isLoggedIn&&!0===e&&(!0===t.user.is_admin&&this.trackAdminUser(!0),this.setState({username:t.user.user.user,isLoggedInState:t.isLoggedIn,setPermission:!1}))}},{key:"resetState",value:function(){this.setState({setPermission:!1,username:{},user_name:"",password:"",isMenuOpen:!1,toggleHideLoggin:!0})}},{key:"handleLogging",value:function(){var e=this.state,t=e.user_name,n=e.password,s=this.props,a=s.loginUser,i=s.logoutUser,r=new Date,c=localStorage.visited;this.toggleLogin(),!1===this.props.isLoggedIn?a(t,n,r,c):i()}},{key:"toggleMenu",value:function(){this.setState({isMenuOpen:!this.state.isMenuOpen})}},{key:"handleClick",value:function(){var e=Object(u.a)(d.a.mark((function e(t,n,s){var a,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.user.menuOpen,a=this.state,a.user_name,a.password,i=localStorage.visited,r=new Date,e.next=6,this.props.loginUser(t,n,r,i);case 6:!0===s&&!0===this.props.user.isLoggedIn?localStorage.setItem("user_name",t):localStorage.removeItem("visited"),this.toggleLogin(),this.setState({user_name:"",password:""});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){this.props.user.menuOpen;localStorage.removeItem("user_name"),localStorage.setItem("visited",function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()}()),this.toggleLogin(),this.props.logoutUser()}},{key:"handleUserName",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{user_name:e}))}},{key:"handlePassword",value:function(e){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{password:e}))}},{key:"toggleLogin",value:function(){var e=this.props.user.loginOpen;this.props.remoteLogin(!e)}},{key:"setSaveSession",value:function(){this.setState({saveSession:!this.state.saveSession})}},{key:"render",value:function(){var e=this,t=this.state,n=t.saveSession,a=(t.username,t.unique_id,t.isMenuOpen),i=t.user_name,r=(t.password,t.isLoggedInState,this.props.user),c=r.isLoggedIn,o=r.isLoading,l=r.loginOpen,d=this.props.user.user,u=d.photo,p=d.user;return Object(s.jsxs)("div",{className:"header-container",children:[!0===o?Object(s.jsx)(T,{}):null,Object(s.jsx)("img",{onClick:this.viewTheWindow,src:Ve,className:"cd-logo"}),Object(s.jsx)("img",{onClick:this.viewTheWindow,src:Ke,className:"cd-logo-small"}),Object(s.jsx)(E.c,{to:"/",style:{textDecoration:"none",color:"#fff"},children:Object(s.jsx)("img",{className:"mm3d-logo",src:ze})}),Object(s.jsxs)("ul",{className:"link-list",children:[Object(s.jsx)(E.c,{to:"/about",style:{textDecoration:"none"},children:Object(s.jsx)("li",{className:"link-item",children:Object(s.jsx)("a",{children:"About"})})}),Object(s.jsx)(E.c,{to:"/explore",style:{textDecoration:"none"},children:Object(s.jsx)("li",{className:"link-item",children:Object(s.jsx)("a",{children:"Explore"})})}),c?Object(s.jsx)(E.c,{to:"/user",style:{textDecoration:"none"},children:Object(s.jsx)("li",{className:"link-item",children:Object(s.jsx)("a",{children:p})})}):Object(s.jsx)("div",{})]}),c?Object(s.jsx)("h4",{className:"login-link",onClick:this.toggleLogin,children:"Log Out"}):Object(s.jsx)("h4",{className:"login-link",onClick:this.toggleLogin,children:"Login"}),c?Object(s.jsx)(E.c,{to:"/user",children:Object(s.jsx)("img",{src:u,className:"loggedin-user-photo"})}):null,Object(s.jsxs)("svg",{className:"hamburger",onClick:this.toggleMenu,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(s.jsx)("path",{className:"lines","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}),Object(s.jsx)("path",{className:"dots",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})]}),Object(s.jsxs)("ul",{className:"mobile-nav ".concat(!a&&"mobile-nav-hide"),style:{paddingTop:"10px"},onClick:function(){return e.toggleMenu()},children:[c?!0===a?Object(s.jsxs)("li",{className:"mobile-link-item",onClick:this.toggleLogin,children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",style:{color:"#fff",marginLeft:"20[x"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Object(s.jsx)("a",{children:"Logout"})]}):null:!0===a?Object(s.jsxs)("li",{className:"mobile-link-item",onClick:this.toggleLogin,children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",style:{color:"#fff",marginLeft:"20[x"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),Object(s.jsx)("a",{children:"Login"})]}):null,!0===a?Object(s.jsx)(E.c,{to:"/about",style:{textDecoration:"none"},children:Object(s.jsxs)("li",{className:"mobile-link-item",children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(s.jsx)("a",{children:"About"})]})}):null,!0===a?Object(s.jsx)(E.c,{to:"/explore",style:{textDecoration:"none"},children:Object(s.jsxs)("li",{className:"mobile-link-item",children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),Object(s.jsx)("a",{children:"Explore"})]})}):null,!0===!c&&!0===a?Object(s.jsx)("div",{}):!0===a?Object(s.jsx)(E.c,{to:"/user",style:{textDecoration:"none"},children:Object(s.jsxs)("li",{className:"mobile-link-item",children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"header-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),Object(s.jsx)("a",{children:"My page"})]})}):null]}),l?Object(s.jsx)(H,{current_user:i,setSaveSession:this.setSaveSession,logout:this.handleLogout,execute:this.handleClick,name:this.handleUserName,pass:this.handlePassword,hide:this.state.openLogin,exit:this.toggleLogin,isLoggedIn:this.props.user.isLoggedIn,saveSession:n}):Object(s.jsx)("div",{className:"blank-div"})]})}}]),n}(a.Component));var He=Object(f.b)((function(e){return e}),{loginUser:I,logoutUser:function(){return{type:w,payload:x.a.get("/auth/logout")}},updateUser:S,autoLogin:function(e,t,n){return{type:N,payload:x.a.post("/auth/browser/login",{user_name:e,last_visit:t,visited:n})}},remoteLogin:L})(We);n(151);a.Component;n(152);var Je=function(e){return Object(s.jsxs)("div",{className:"group-page",children:[Object(s.jsx)("ul",{}),Object(s.jsx)("h3",{children:"group page"})]})},qe=(n(153),function(e){var t=e.data,n=t.content,a=t.tag,i=t.display;return Object(s.jsx)("div",{children:i?Object(s.jsxs)("div",{className:"doc-containers",children:[Object(s.jsx)("h4",{className:"about-h4",children:a}),Object(s.jsx)("div",{className:"h4-border"}),Object(s.jsx)("p",{className:"long-text",children:n})]}):null})}),Ye=function(e){var t=e.link_text,n=e.link_to;e.description;return Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"https://www.".concat(n),style:{textDecoration:"none"},children:Object(s.jsx)("h4",{style:{textDecoration:"none",color:"blue"},children:t})})})},Xe=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={link:"blender.org",linkText:"Blender",links:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/api/links/get").then((function(t){e.setState({links:t.data})}))}},{key:"render",value:function(){var e=this.state.links.map((function(e){return Object(s.jsx)(Ye,{link_to:e.link_to,link_id:e.link_id,link_text:e.link_text,description:e.description})}));return Object(s.jsx)("div",{className:"doc-containers",children:e})}}]),n}(a.Component),Qe=(n(154),function(e){Object(a.useEffect)((function(){void 0===l&&r(!1)}),[]);var t=Object(a.useState)(!0),n=Object(F.a)(t,2),i=n[0],r=n[1],c=e.item,o=e.content,l=e.notDefault;return Object(s.jsx)("div",{className:"notice-container ".concat(c," ").concat(!!i||"hidden"),children:Object(s.jsx)("p",{style:{color:"#fff",textTransform:"none"},children:o})})}),Ze=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).resetView=function(){e.setState({mainSelected:!1,linksSelected:!1})},e.changeView=function(t){switch(e.resetView(),t){case"main":e.setState({mainSelected:!0});break;case"links":e.setState({linksSelected:!0})}},e.state={about:[],showAbout:!0,general:[],showGeneral:!0,mainSelected:!0,linksSelected:!1},e.changeView=e.changeView.bind(Object(j.a)(e)),e.resetView=e.resetView.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;x.a.get("/api/documents/about").then((function(t){e.setState({about:t.data})})),x.a.get("/api/documents/general").then((function(t){e.setState({general:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.about,a=t.general,i=t.mainSelected,r=t.linksSelected,c=n.map((function(e){return Object(s.jsx)(qe,{data:e},e.doc_id)})),o=a.map((function(e){return Object(s.jsx)(qe,{data:e},e.doc_id)}));return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"sub-header",children:[i?Object(s.jsx)("a",{className:"a-selected",children:"main"}):Object(s.jsx)("a",{onClick:function(){return e.changeView("main")},children:"main"}),r?Object(s.jsx)("a",{className:"a-selected",children:"links"}):Object(s.jsxs)("div",{className:"about-header-item",children:[Object(s.jsx)(Qe,{item:"about-links",content:"Resources"}),Object(s.jsx)("a",{onClick:function(){return e.changeView("links")},children:"links"})]})]}),Object(s.jsxs)("div",{className:"about-container",children:[i?Object(s.jsx)("div",{children:c}):null,i?Object(s.jsx)("div",{children:o}):null,r?Object(s.jsx)(Xe,{}):null]})]})}}]),n}(a.Component);var $e=Object(f.b)((function(e){return e}),{updateUser:S})(Ze),et=(n(155),function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).handleText=function(e,t){s.setState(Object(J.a)({},e,t))},s.openSearch=function(){s.setState({openSearchBar:!s.state.openSearchBar})},s.changeView=function(e){switch(s.resetView(),e){case"3D Models":s.setState({viewModels:!0});break;case"Videos":s.setState({viewVideos:!0})}},s.resetView=function(){s.setState({viewModels:!1,viewVideos:!1})},s.state={data:[],names:[],videos:[],userId:null,likes:[],projectSearch:"",openSearchBar:!1,isLoading:!1,viewModels:!0,viewVideos:!1},s.addLike=s.addLike.bind(Object(j.a)(s)),s.handleClick=s.handleClick.bind(Object(j.a)(s)),s.updateState=s.updateState.bind(Object(j.a)(s)),s.projectIsLiked=s.projectIsLiked.bind(Object(j.a)(s)),s.handleText=s.handleText.bind(Object(j.a)(s)),s.openSearch=s.openSearch.bind(Object(j.a)(s)),s.setIsLoading=s.setIsLoading.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.updateState()}},{key:"componentDidUpdate",value:function(){this.props.updateUser()}},{key:"setIsLoading",value:function(){this.setState({isLoading:!this.state.isLoading})}},{key:"updateState",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setIsLoading();case 2:return e.next=4,x.a.get("/api/project/join").then((function(e){return t.setState(Object(o.a)(Object(o.a)({},t.state),{},{data:e.data}))}));case 4:return e.next=6,x.a.get("/api/videos/get").then((function(e){t.setState({videos:e.data})}));case 6:return e.next=8,this.setIsLoading();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addLike",value:function(e){var t=this.state.data,n=this.props.user.user.id;console.log("this is add like()",n);this.state.userId;if(void 0!=n)for(var s in x.a.post("/api/projects/like",{user_id:n,params_id:e}).then((function(e){})),t)t[s].model_id===e&&console.log(s,t[s],t[s].likes);else alert("please sign in")}},{key:"handleClick",value:function(){this.addLike()}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){console.log("user does not like this project",n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.projectSearch,i=t.openSearchBar,r=t.videos,c=t.isLoading,o=this.props.user.isLoggedIn,l=this.props.user.user,d=l.user_likes,u=(l.model_likes,l.id),p=n.filter((function(e){return e.name.toString().includes(a)})).map((function(t){return Object(s.jsx)(R,{data:t,projectIsLiked:e.projectIsLiked,handleClick:e.handleClick,isLoggedIn:o,likes:t.likes,id:u,user_likes:d},t.model_id)})),h=r.map((function(e){return Object(s.jsx)(V,{video_url:e.video_url,category:e.category,tag:e.tag,firebase_url:e.firebase_url,photo_url:e.photo_url,user_name:e.user_name,name:e.name,video_name:e.video_name},e.video_id)}));return Object(s.jsxs)("div",{children:[!0===c?Object(s.jsx)(T,{}):null,Object(s.jsxs)("div",{className:"sub-header",style:{position:"absolute"},children:[Object(s.jsx)("a",{onClick:function(){return e.changeView("3D Models")},className:"null ".concat(!this.state.viewModels||"a-selected"),children:"3D Models"}),Object(s.jsx)("a",{onClick:function(){return e.changeView("Videos")},className:"null ".concat(!this.state.viewVideos||"a-selected"),children:"Videos"})]}),Object(s.jsxs)("div",{className:"explore-container",style:{paddingTop:"25px"},children:[Object(s.jsxs)("div",{className:"search-menu ".concat(!o||"slide-over"," ").concat(!!i||"search-menu-closed ".concat(!o||"slide-over")),children:[Object(s.jsx)("svg",{onClick:function(){return e.openSearch()},style:{width:"25px",opacity:".5"},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(s.jsx)("div",{className:"show-bar ".concat(!i&&"dont-show-bar"),children:Object(s.jsx)("input",{placeholder:"search",type:"text",style:{height:"25px",width:"100px",borderRadius:"10px",color:"#fff",marginLeft:"10px"},onChange:function(t){return e.handleText("projectSearch",t.target.value)}})})]}),!0===this.state.viewModels?p:null,!0===this.state.viewVideos?h:null]})]})}}]),n}(a.Component));var tt=Object(f.b)((function(e){return e}),{loginUser:I,updateUser:S})(et),nt=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("h3",{})})};var st=Object(f.b)((function(e){return e}),{registerUser:C})((function(e){var t=Object(a.useState)(""),n=Object(F.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(""),o=Object(F.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(""),p=Object(F.a)(u,2),h=p[0],j=p[1],m=Object(a.useState)(""),b=Object(F.a)(m,2),g=b[0],x=b[1],f=Object(a.useState)(""),O=Object(F.a)(f,2),v=(O[0],O[1],Object(a.useState)("")),w=Object(F.a)(v,2),k=(w[0],w[1],Object(a.useState)(!1)),y=Object(F.a)(k,1)[0],N=Object(a.useState)(!1),_=Object(F.a)(N,1)[0],L=Object(a.useState)(!1),I=Object(F.a)(L,2),C=I[0],S=I[1],M=Object(a.useState)(!1),D=Object(F.a)(M,2),U=D[0],P=D[1];function T(){P(!U)}return Object(a.useEffect)((function(){console.log("props from Register",e)}),[]),Object(s.jsx)("div",{className:"signup-menu",children:U?Object(s.jsx)(W,{handleOpenIAgree:T}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{style:{color:"#555"},children:"Register"}),Object(s.jsxs)("div",{className:"one-line",children:[Object(s.jsx)("p",{className:"text",children:"Username"}),Object(s.jsx)("input",{value:i,onChange:function(e){return r(e.target.value)}})]}),Object(s.jsxs)("div",{className:"one-line",children:[Object(s.jsx)("p",{className:"text",children:"Password"}),Object(s.jsx)("input",{className:"text-bar",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(s.jsxs)("div",{className:"one-line",children:[Object(s.jsx)("p",{className:"text",children:"Email"}),Object(s.jsx)("input",{value:h,onChange:function(e){return j(e.target.value)}})]}),Object(s.jsxs)("div",{className:"one-line",children:[Object(s.jsx)("p",{className:"text",children:"First Name"}),Object(s.jsx)("input",{value:g,onChange:function(e){return x(e.target.value)}})]}),Object(s.jsxs)("div",{className:"one-line",children:[Object(s.jsx)("p",{className:"text",children:"Last Name"}),Object(s.jsx)("input",{value:g,onChange:function(e){return x(e.target.value)}})]}),Object(s.jsxs)("div",{className:"agreement-check",children:[Object(s.jsx)("input",{type:"checkbox",style:{marginRight:"20px",marginTop:"5px"},onChange:function(e){return S(!C)}}),Object(s.jsx)("h5",{style:{color:"blue",fontWeight:"200"},onClick:T,children:"terms of use"})]}),C?Object(s.jsx)("div",{className:"register-link",onClick:function(){e.registerUser(i,l,h,g,y,_)},children:Object(s.jsx)("h4",{children:"signup now"})}):Object(s.jsx)("div",{className:"register-link",onClick:function(){alert("please agree to conditions")},children:Object(s.jsx)("h4",{children:"signup now"})})]})})})),at=Object(f.b)((function(e){return e}))((function(e){var t=e.data,n=(t.firebase_url01,t.firebase_url,t.name,t.model_id),i=e.userInfo[0],r=(i.first_name,i.photo_url,i.user_name,e.isLoggedIn,e.url),c=e.maker_id,o=e.id,l=function(){var t=Object(u.a)(d.a.mark((function t(n){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(n);case 2:return t.next=4,x.a.post("/api/projects/photos/delete/",{url:n});case 4:return s=t.sent,t.next=7,e.getImages();case 7:return m(!j),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=Object(a.useState)(!1),h=Object(F.a)(p,2),j=h[0],m=h[1];return Object(s.jsxs)("div",{className:"left",children:[c===o?Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"edit-photo-button",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,onClick:function(){return m(!j)},children:!1===j?Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}):Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):null,!0===j&&c===o?Object(s.jsxs)("div",{className:"friend-options",style:{top:"30px",left:"15px",height:"85px",width:"210px"},children:[Object(s.jsxs)("div",{className:"friend-menu-row",style:{width:"250px"},onClick:function(){return m(!j),void x.a.post("/api/projects/photos/change/main/",{model_id:n,url:r})},children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Object(s.jsx)("p",{className:"friend-menu-text",children:"Display As Main Photo"})]}),Object(s.jsxs)("div",{className:"friend-menu-row",style:{width:"250px"},onClick:function(){return l(r)},children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(s.jsx)("p",{className:"friend-menu-text",children:"Delete This Photo"})]})]}):null,Object(s.jsx)("div",{className:"detail-photo-main",children:Object(s.jsx)("img",{src:r,className:"detail-photo"})})]})}));n(75);var it=Object(f.b)((function(e){return e}),{updateUser:S})((function(e){var t=e.content,n=(e.date_created,e.user_name,e.photo_url),i=e.user_id,r=e.comment_id,c=e.user.user.id,o=Object(a.useState)(!1),l=Object(F.a)(o,2),p=l[0],h=l[1],j=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("hit delete post front end"),i!==c){t.next=4;break}return t.next=4,x.a.delete("/api/comments/user/delete/".concat(r)).then((function(){e.getComments()}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"container-flex",children:[Object(s.jsx)("img",{src:n,className:"author-pic"}),Object(s.jsxs)("div",{className:"right-column-flex",children:[Object(s.jsx)("div",{className:"comment-text",children:Object(s.jsx)("p",{children:t})}),void 0!=c&&c===i?Object(s.jsx)("svg",{onClick:function(){return h(!p)},xmlns:"http://www.w3.org/2000/svg",className:"comment-menu small-icon",style:{marginBottom:"10px",marginRight:"0px",height:"40px",width:"40px",opacity:"60%"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}):null,!p||Object(s.jsx)("ul",{className:"friend-options",style:{width:"130px",height:"40px"},children:Object(s.jsxs)("li",{className:"friend-menu-row",onClick:function(){return j()},children:[Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"friend-menu-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(s.jsx)("p",{className:"friend-menu-text",children:"Delete post"})]})})]})]})})),rt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={text:""},e.handleText=e.handleText.bind(Object(j.a)(e)),e.sendPost=e.sendPost.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"sendPost",value:function(e){var t=this.state.text,n=this.props,s=n.id,a=n.model_id,i=n.user;!0===e?x.a.post("/api/comments/create",{id:s,model_id:a,user:i,text:t}).then(this.props.getComments):this.props.plsSignIn()}},{key:"handleText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props.isLoggedIn;return Object(s.jsxs)("div",{className:"create-post",style:{minHeight:"100px"},children:[Object(s.jsx)("textarea",{className:"comment-text-input post-input",value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(s.jsx)("a",{className:"add-button",onClick:function(){return e.sendPost(t)},style:{marginLeft:"200px"},children:"send"})]})}}]),n}(a.Component),ct=function(e){var t=e.url,n=e.isLoggedIn;return Object(s.jsx)("div",{children:n?Object(s.jsx)("a",{className:"dark-text",href:t,target:"_blank",rel:"noopener noreferrer",children:"Download"}):Object(s.jsx)("a",{className:"dark-text",onClick:e.plsSignIn,children:"Download"})})},ot=function(e){var t=e.description;return Object(s.jsx)("div",{children:Object(s.jsx)("p",{className:"doc-containers",style:{color:"#555",maxHeight:"200px"},children:t})})},lt=function(e){e.first_name;var t=e.photo_url,n=e.user_name,a=e.info;e.maker_id;return Object(s.jsxs)("div",{className:"detail-box",style:{margin:"auto",marginTop:"5px"},children:[Object(s.jsx)("img",{src:t,className:"logo-box"}),Object(s.jsxs)("p",{className:"dark-text",children:[a[0].name,Object(s.jsx)("br",{}),"by ",n]})]})},dt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).plsSignIn=function(){window.scrollTo(0,0),e.props.remoteLogin(!0)},e.likeFunc=Object(u.a)(d.a.mark((function t(){var n,s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.user.user.id,s=e.state.model_id,a=n,t.next=5,x.a.post("/api/projects/like",{user_id:a,model_id:s});case 5:e.setState({myLike:!e.state.myLike});case 6:case"end":return t.stop()}}),t)}))),e.clickLike=function(){var t=e.props.user,n=t.isLoggedIn,s=t.loginOpen;!0===n?e.likeFunc():(window.scrollTo(0,0),e.props.remoteLogin(!s))},e.setIsDeleted=function(){e.setState({isDeleted:!e.state.isDeleted})},e.highLightedPhoto=function(t){e.setState({selectedPhoto:t})},e.state={maker_id:null,model_id:null,dlUrl:"",info:[],userInfo:[],comments:[],files:[],viewFiles:!0,viewComments:!1,viewDetails:!1,viewEditProject:!1,viewInfo:!1,myLike:!1,allLikes:[],modelImages:[],isDeleted:!1,selectedPhoto:null},e.changeView=e.changeView.bind(Object(j.a)(e)),e.getDetails=e.getDetails.bind(Object(j.a)(e)),e.plsSignIn=e.plsSignIn.bind(Object(j.a)(e)),e.getComments=e.getComments.bind(Object(j.a)(e)),e.likeFunc=e.likeFunc.bind(Object(j.a)(e)),e.clickLike=e.clickLike.bind(Object(j.a)(e)),e.setIsDeleted=e.setIsDeleted.bind(Object(j.a)(e)),e.getImages=e.getImages.bind(Object(j.a)(e)),e.highLightedPhoto=e.highLightedPhoto.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.match.params.model_id;var e=this.props.user.user;e.user_likes,e.isLoggedIn;this.getDetails().then((function(e){return console.log(e)})),this.getImages(),this.getComments()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.model_id;e.match.params.model_id!==t&&(this.getDetails(),this.getImages())}},{key:"getImages",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.model_id,console.log("hit getImages function"),x.a.get("/api/project/photos/get/".concat(t)).then((function(e){n.setState({modelImages:e.data})}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDetails",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.model_id,e.next=3,x.a.get("/api/projects/id/".concat(t)).then((function(e){var s=e.data[0].user_id;x.a.get("/api/users/".concat(s)).then((function(a){var i=n.props.user.user.id,r=n.props.user.isLoggedIn;x.a.get("/api/project/photos/get/".concat(t)).then((function(i){console.log("function"),n.setState({maker_id:s,model_id:t,dlUrl:e.data.firebase_url,info:e.data,userInfo:a.data,modelImages:i.data,selectedPhoto:e.data[0].firebase_url01})})),!0===r&&x.a.post("/api/project/getLike",{id:i,model_id:t}).then((function(e){null!=e.data.user_id&&n.setState({myLike:!0})}))}))})).catch((function(e){n.props.history.push("/404")}));case 3:return e.next=5,x.a.get("");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getComments",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match.params.model_id,x.a.get("/api/comments/id/".concat(t)).then((function(e){n.setState({comments:e.data})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetView",value:function(){this.setState({viewFiles:!0,viewComments:!1})}},{key:"changeView",value:function(e){switch(window.scrollTo({top:1200,behavior:"smooth"}),e){case"viewComments":!1===this.state.viewComments&&this.setState({viewComments:!0,viewDetails:!1,viewFiles:!1,viewInfo:!1,viewEditProject:!1});break;case"viewDetails":!0===this.state.viewDetails&&this.setState({viewDetails:!this.state.viewDetails});break;case"viewFiles":!1===this.state.viewFiles&&this.setState({viewFiles:!0,viewComments:!1,viewDetails:!1,viewInfo:!1,viewEditProject:!1});break;case"viewEditProject":!1===this.state.viewEditProject&&this.setState({viewFiles:!1,viewComments:!1,viewDetails:!1,viewInfo:!1,viewEditProject:!0});break;case"viewInfo":!1===this.state.viewInfo&&this.setState({viewFiles:!1,viewComments:!1,viewDetails:!1,viewEditProject:!1,viewInfo:!0})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.comments,a=t.model_id,i=t.maker_id,r=t.myLike,c=this.state,o=c.info,l=c.userInfo,d=c.viewComments,u=(c.viewDetails,c.viewFiles),p=c.viewInfo,h=(c.dlUrl,c.viewEditProject),j=c.modelImages,m=c.isDeleted,b=c.selectedPhoto,g=this.props.user,x=g.isLoggedIn,f=(g.loginOpen,this.props.user.user),O=f.user,v=f.id,w=(f.photo_url,f.user_likes,o.map((function(e){return Object(s.jsx)(ot,{description:e.description},e.model_id)}))),k=o.map((function(t){return Object(s.jsx)(ct,{data:t,url:t.firebase_url,isLoggedIn:x,plsSignIn:e.plsSignIn},t.model_id)})),y=n.map((function(t){return Object(s.jsx)(it,{content:t.text,model_id:t.model_id,date_created:t.date_created,photo_url:t.photo_url,comment_id:t.comment_id,user_id:t.user_id,user_name:t.user_name,getComments:e.getComments},t.comment_id)})),N=o.map((function(t){return Object(s.jsx)(at,{data:t,firebase_url:o[0].firebase_url,model_id:t.model_id,userInfo:l,url:b,isLoggedIn:x,id:v,maker_id:i,plsSignIn:e.plsSignIn,getImages:e.getImages},t.model_id)})),_=l.map((function(e){return Object(s.jsx)(lt,{data:e,photo_url:e.photo_url,user_name:e.user_name,info:o,maker_id:i},e.user_id)})),L=j.map((function(t){return Object(s.jsx)("div",{onClick:function(){return e.highLightedPhoto(t.photo_url)},children:Object(s.jsx)("img",{className:"thumbnail-image",src:t.photo_url})},t.image_id)}));return Object(s.jsx)("div",{children:m?Object(s.jsx)(q.a,{path:"/",component:K}):Object(s.jsxs)("div",{className:"view",children:[_,Object(s.jsx)("div",{className:"image-viewer",children:L}),Object(s.jsxs)("div",{className:"detail-container",children:[N,Object(s.jsxs)("section",{className:"right",children:[Object(s.jsx)("div",{className:"detail-box small dark-blue ".concat(!!u||"detail-box small down-load-selected"),onClick:function(){return e.changeView("viewFiles")},children:Object(s.jsx)("p",{className:"down-load-text ".concat(!!u||"down-load-text-selected"),children:Object(s.jsx)("a",{children:"Download Files"})})}),Object(s.jsxs)("div",{className:"detail-box small",onClick:this.clickLike,children:[!0===x&&!0===r?Object(s.jsx)("svg",{className:"small-icon",style:{margin:"auto",marginLeft:"10px",marginRight:"10px",height:"45px",width:"45px",opacity:"60%"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):Object(s.jsx)(A,{params:"large_heart"}),Object(s.jsx)("p",{className:"dark-text",children:"Like"})]}),Object(s.jsxs)("div",{className:"detail-box small ".concat(!d||"detail-box small selected"),onClick:function(){return e.changeView("viewComments")},children:[Object(s.jsx)(A,{params:"comments"}),Object(s.jsx)("p",{className:"dark-text ".concat(!d||"light-text"),children:"Comment"})]}),!0===x&&this.props.user.user.id===i?Object(s.jsxs)("div",{className:"detail-box small ".concat(!h||"detail-box small selected"),onClick:function(){return e.changeView("viewEditProject")},children:[Object(s.jsx)(A,{params:"edit_project"}),Object(s.jsx)("p",{className:"dark-text ".concat(!h||"light-text"),children:"Edit Project"})]}):Object(s.jsxs)("div",{className:"detail-box small",children:[Object(s.jsx)(A,{params:"folder"}),Object(s.jsx)("p",{className:"dark-text",children:"Add To Favorites"})]}),Object(s.jsxs)("div",{className:"detail-box small ".concat(!p||"detail-box small selected"),onClick:function(){return e.changeView("viewInfo")},children:[Object(s.jsx)(A,{params:"info"}),Object(s.jsx)("p",{className:"dark-text ".concat(!p||"light-text"),children:"Info"})]})]})]}),Object(s.jsxs)("div",{className:"comment-box",children:[d?Object(s.jsx)("section",{className:"project-selection-title",children:Object(s.jsx)("h3",{className:"prodect-selection-h3",children:"Comments"})}):null,d?Object(s.jsx)(rt,{user:O,id:v,isLoggedIn:x,model_id:a,plsSignIn:this.plsSignIn,getComments:this.getComments},v):null,d?y:null,u?Object(s.jsx)("section",{className:"project-selection-title",children:Object(s.jsx)("h3",{className:"prodect-selection-h3",children:"Download File"})}):null,u?k:null,h?Object(s.jsx)(le,{info:o,model_id:a,user_id:v,user_name:O,modelImages:j,getDetails:this.getDetails,setIsDeleted:this.setIsDeleted,getImages:this.getImages},a):null,p?Object(s.jsx)("section",{className:"project-selection-title",children:Object(s.jsx)("h3",{className:"prodect-selection-h3",children:"Information"})}):null,p?w:null]})]})})}}]),n}(a.Component);var ut=Object(f.b)((function(e){return e}),{loginUser:I,updateUser:S,remoteLogin:L})(dt),pt=n(79),ht=n.n(pt);n(156);var jt=Object(f.b)((function(e){return e}),{getModels:P,updateUser:S})((function(e){var t=e.data,n=(t.category,t.img,t.firebase_url),i=t.firebase_url01,r=t.name,c=(t.description,t.user_name),o=(t.model_likes,t.model_id),l=t.photo_url,p=(t.user_id,t.likes),h=e.user.user,j=(h.handleClick,h.id),m=h.user_likes,b=e.user.isLoggedIn,g=Object(a.useState)(0),f=Object(F.a)(g,2),O=f[0],v=f[1],w=Object(a.useState)(!1),k=Object(F.a)(w,2),y=k[0],N=k[1];Object(a.useEffect)((function(){v(p),e.updateUser()}),[]);var _=function(){alert("please sign in")},L=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t,a=n,e.next=4,x.a.post("/api/projects/like",{user_id:s,model_id:a});case 4:return e.next=6,I(a);case 6:return e.next=8,N(!y);case 8:return e.next=10,S(y);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("params",t),x.a.get("/api/like/update/".concat(t)).then((function(e){var t=e.data[0].likes;console.log(t),v(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){!0===b&&void 0!=j?L(j,o):_()},S=function(t){return!0===e.projectIsLiked(o,m)};return Object(s.jsxs)("div",{className:"project-container",children:[S(),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"photo-title-border",children:[Object(s.jsx)("img",{src:function(){var t=e.user_photo_url;return void 0!=l?l:t}(),className:"project-user-photo"}),Object(s.jsxs)("p",{className:"dark-text",children:[r,Object(s.jsx)("br",{}),Object(s.jsxs)("p",{className:"usr-nm-txt",children:["by ",function(){var t=e.current_user_name;return void 0!=c?c:t}()]})]})]}),Object(s.jsx)("div",{className:"image-div",children:Object(s.jsx)(E.c,{to:"/projectdetails/".concat(o),children:Object(s.jsx)("img",{className:"model-photo",src:i})})})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"download-container",children:[b?Object(s.jsx)("a",{href:"".concat(n),children:Object(s.jsx)("svg",{className:"small-icon",style:{marginLeft:"10px",marginRight:"5px",height:"50px",width:"50px",opacity:"60%"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}):Object(s.jsx)("a",{onClick:_,children:Object(s.jsx)("svg",{className:"small-icon",style:{marginLeft:"10px",marginRight:"5px",height:"50px",width:"50px",opacity:"60%"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),b?Object(s.jsx)("a",{className:"project-text",href:"".concat(n),children:"download"}):Object(s.jsx)("a",{className:"project-text",onClick:_,children:"download"}),Object(s.jsx)("div",{className:"like-share",children:Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"like-share-box",style:{borderBottom:"1px solid #555"},children:[!1===S()?Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:function(){return C()},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}):Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",onClick:C,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),Object(s.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:O})]}),Object(s.jsxs)("div",{className:"like-share-box",children:[Object(s.jsx)("svg",{className:"small-icon small-icon-tweaks",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),Object(s.jsx)("p",{className:"like-share-text",style:{marginLeft:"10px"},children:"share"})]})]})})]})})]})})),mt=(n(157),n(76),n(44),n(158),function(e){Object(a.useEffect)((function(){l===d&&c(!0)}),[]);var t,n=Object(a.useState)(!1),i=Object(F.a)(n,2),r=i[0],c=i[1],o=e.content,l=e.loggedInUser,d=e.user_id,u=e.photo_url,p=e.date_created.split("T"),h=p[0].split("-"),j=p[1].split(":");return Object(s.jsxs)("div",{className:"over-flow ".concat(l===d||"user-over-flow"),style:{},children:[Object(s.jsxs)("div",{className:"my-message-container ".concat(l===d||"user-message-container"),children:[Object(s.jsx)("p",{className:"time-stamp",style:{textTransform:"none",fontSize:"xx-small"},children:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(h[1])-1]+" "+h[2]+" "+h[0]}),Object(s.jsx)("p",{style:{textTransform:"none"},children:o}),Object(s.jsx)("p",{style:{textTransform:"none",fontSize:"xx-small"},children:(t=j,t[0]>12?t[0]-12+":"+t[1]+" pm":t[0]+":"+t[1]+" am")})]}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:u,className:"my-message-photo ".concat(!!r||"my-message-photo")})})]})}),bt=new ve.w3cwebsocket("ws://165.227.102.189:8000"),gt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getConnected=function(){var t=Object(u.a)(d.a.mark((function t(n){var s,a,i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=e.props,a=s.conversation_id,i=s.user_id,r=e.props.user.user.id,bt.onopen=function(){console.log("WebSocket Client Connected")},bt.onmessage=function(t){var n=JSON.parse(t.data);"message"===n.type&&n.conversation_id===a&&e.props.checkForExistingMessage(r,i)};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendToSockets=function(t,n,s){var a=e.state,i=(a.messages,a.loggedInUser,e.props.user.user),r=i.user,c=i.photo;bt.send(JSON.stringify({type:"message",conversation_id:n,msg:t,to:s,user:r,photo:c}))},e.executeSendMessage=Object(u.a)(d.a.mark((function t(){var n,s,a,i,r,c,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.text,s=e.props.user.user,a=s.id,s.photo,i=e.props.user_id,r=a,c=e.props.user.isLoggedIn,o=e.props.currentUserMessage,0==c||void 0==a){t.next=18;break}if(null!==o){t.next=12;break}return t.next=10,x.a.post("/api/conversation/new",{user_id:r,id:a,text:n});case 10:t.next=18;break;case 12:if(void 0==a||0==c){t.next=18;break}return l=o[0].conversation_id,t.next=16,x.a.post("/api/conversation/user/new",{conversation_id:l,user_id:r,text:n,to_user:i});case 16:e.sendToSockets(n,l,i),e.setState({text:""});case 18:case"end":return t.stop()}}),t)}))),e.processMessages=function(){var t=e.props,n=t.currentUserMessage,a=t.user_id;if(null!=n)return n.map((function(e){return Object(s.jsx)(mt,{loggedInUser:a,content:e.content,user_id:e.user_id,photo_url:e.photo_url,user_name:e.user_name,date_created:e.date_created},e.message_id)}))},e.state={currentConversationId:null,newMessages:[],text:""},e.handleText=e.handleText.bind(Object(j.a)(e)),e.executeSendMessage=e.executeSendMessage.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.currentUserMessage;this.getConnected()}},{key:"handleText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.user_id,t.user_name),a=this.props;a.loggedInUser,a.currentUserMessage,this.state.newMessages;return Object(s.jsxs)("div",{className:"create-message-container",children:[Object(s.jsxs)("h4",{className:"message-board-title",style:{width:"105%",left:"-5px",textTransform:"none"},children:[n,Object(s.jsx)("svg",{className:"close-message-box",onClick:function(){return e.props.openMessageBox()},style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px",right:"20px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),Object(s.jsxs)("section",{className:"create-message-input",children:[Object(s.jsx)("textarea",{className:"message-input",style:{width:"250px",marginLeft:"10px",maxHeight:"50px"},value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(s.jsx)("svg",{onClick:function(){return e.executeSendMessage()},xmlns:"http://www.w3.org/2000/svg",className:"send-message-button",style:{marginRight:"10px",marginLeft:"5px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),Object(s.jsx)("section",{className:"thread-layout",children:Object(s.jsx)("div",{children:this.processMessages()})})]})}}]),n}(a.Component);var xt=Object(f.b)((function(e){return e}),{updateUser:S})(gt),ft=new ve.w3cwebsocket("ws://165.227.102.189:8000"),Ot=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).getConnectionStatus=Object(u.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.props.user.user.id,n=s.props.user.isLoggedIn,a=s.props.match.params.user_id,void 0==t||!0!==n){e.next=7;break}return e.next=6,x.a.post("/api/get/friend/status",{id:t,user_id:a}).then((function(e){return s.setState({friendShipInfo:e.data})}));case 6:s.checkForExistingMessage(t,a);case 7:case"end":return e.stop()}}),e)}))),s.checkForExistingMessage=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/conversation/exists",{id:t,user_id:n}).then((function(e){var t=e.data,n=t.messages,a=t.conversation_id;s.setState({currentUserMessage:n,conversation_id:a})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s.openMessageBox=function(){var e=s.props.user.isLoggedIn,t=s.props.user.user.id;s.state.currentUserMessage;void 0!=t&&!0===e?s.setState({openMessageBox:!s.state.openMessageBox}):s.pleaseLogin()},s.sendConnectInvite=function(){var e=s.props.user.user.id,t=s.props.user.isLoggedIn,n=s.state.user[0].user_id;s.setState({friendShipInfo:!0}),void 0!=e&&!0===t?(x.a.post("/api/friends/add",{id:e,friend_id:n,no:!1}).then().catch((function(e){return console.log(e)})),s.sendToSocket()):s.pleaseLogin()},s.sendToSocket=function(){var e=s.props.match.params.user_id,t=s.props.user.user,n={toUser:e,id:t.id,photo:t.photo,user:t.user};ft.send(JSON.stringify({type:"new_friend",fromUser:n}))},s.setIsLoading=function(){s.setState({isLoading:!s.state.isLoading})},s.state={currentUserMessage:null,conversation_id:null,items:[],user:[],showUserInfo:!0,showCollections:!1,showAdminPage:!1,showCreateProject:!1,showEditUserInto:!1,profilePic:null,userName:null,user_id:null,isLoading:!1,setPermission:!0,openMessageBox:!1,friendShipInfo:null},s.pleaseLogin=s.pleaseLogin.bind(Object(j.a)(s)),s.setIsLoading=s.setIsLoading.bind(Object(j.a)(s)),s.openMessageBox=s.openMessageBox.bind(Object(j.a)(s)),s.checkForExistingMessage=s.checkForExistingMessage.bind(Object(j.a)(s)),s.getUserAndProjects=s.getUserAndProjects.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.user_id;this.props.updateUser(),this.getUserAndProjects(t),x.a.get("/api/users/".concat(t)).then((function(t){return e.setState({user:t.data})}))}},{key:"componentDidUpdate",value:function(){null===this.state.friendShipInfo&&this.getConnectionStatus()}},{key:"getUserAndProjects",value:function(e){var t=this;x.a.get("/api/user/projects/get/".concat(e)).then((function(e){t.setState(Object(o.a)(Object(o.a)({},t.state),{},{items:e.data}))}))}},{key:"projectIsLiked",value:function(e,t){try{return t.filter((function(t){return t.model_id===e}))[0].model_id===e}catch(n){}}},{key:"handleFriends",value:function(){this.setState({isView:"isFriends"})}},{key:"pleaseLogin",value:function(){alert("please log in")}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,a=t.isLoading,i=t.user,r=t.currentUserMessage,c=(t.friendShipInfo,t.conversation_id),o=this.props.user.user.id,l=this.props.match.params.user_id,d=i.map((function(t){return Object(s.jsx)(xt,{user_id:t.user_id,user_name:t.user_name,conversation_id:c,currentUserMessage:r,pleaeLogin:e.pleaseLogin,openMessageBox:e.openMessageBox,sendToSocket:e.sendToSocket,checkForExistingMessage:e.checkForExistingMessage},t.user_id)})),u=i.map((function(e){return Object(s.jsx)("h4",{className:"portrait-row",style:{textTransform:"none"},children:e.user_name},e.user_id)})),p=i.map((function(e){return Object(s.jsx)("img",{src:e.background_url,className:"background-photo"},e.user_id)})),h=i.map((function(e){return Object(s.jsx)("img",{className:"profile-photo",src:e.photo_url,alt:"photo"},e.user_id)})),j=n.map((function(t){return Object(s.jsx)(jt,{model_id:t.model_id,data:t,projectIsLiked:e.projectIsLiked},t.model_id)}));return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"user-page",children:[this.state.openMessageBox?d:null,a?Object(s.jsx)(T,{}):null,Object(s.jsxs)("section",{className:"column1",children:[p,Object(s.jsxs)("div",{className:"portrait",children:[h,u,Object(s.jsxs)("div",{className:"portrait-row",children:[parseInt(l)===o||Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"30px"},onClick:function(){return e.openMessageBox()},children:Object(s.jsx)("p",{style:{marginTop:"3px"},children:"Message"})}),!0===this.props.user.isLoggedIn&&1!=this.state.friendShipInfo?Object(s.jsx)("div",{className:"user-buttons",style:{marginTop:"30px"},onClick:function(){return e.sendConnectInvite()},children:Object(s.jsx)("p",{style:{marginTop:"3px"},children:"Connect"})}):null]})]})]}),Object(s.jsx)("section",{className:"column2",children:Object(s.jsx)("div",{className:"collections",children:j})})]})})}}]),n}(a.Component);var vt=Object(f.b)((function(e){return e}),{updateUser:S})(Ot),wt=function(e){Object(a.useEffect)((function(){l===d&&c(!0)}),[]);var t,n=Object(a.useState)(!1),i=Object(F.a)(n,2),r=i[0],c=i[1],o=e.content,l=e.loggedInUser,d=e.user_id,u=e.photo_url,p=e.date_created.split("T"),h=p[0].split("-"),j=p[1].split(":");return Object(s.jsxs)("div",{className:"over-flow ".concat(l===d||"user-over-flow"),children:[Object(s.jsxs)("div",{className:"my-message-container ".concat(l===d||"user-message-container"),children:[Object(s.jsx)("p",{className:"time-stamp",style:{textTransform:"none",fontSize:"xx-small"},children:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(h[1])-1]+" "+h[2]+" "+h[0]}),Object(s.jsx)("p",{style:{textTransform:"none"},children:o}),Object(s.jsx)("p",{style:{textTransform:"none",fontSize:"xx-small"},children:(t=j,t[0]>12?t[0]-12+":"+t[1]+" pm":t[0]+":"+t[1]+" am")})]}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:u,className:"my-message-photo ".concat(!!r||"my-message-photo")})})]})},kt=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(p.a)(this,n),(s=t.call(this,e)).executeSendMessage=Object(u.a)(d.a.mark((function e(){var t,n,a,i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.text,n=s.props,a=n.user_id,i=n.conversation_id,r=n.to_user,e.next=4,x.a.post("/api/conversation/user/new",{conversation_id:i,user_id:a,text:t,to_user:r});case 4:return e.next=6,s.props.sendToSockets(t,i,r);case 6:s.setState({text:""});case 7:case"end":return e.stop()}}),e)}))),s.state={text:""},s.handleText=s.handleText.bind(Object(j.a)(s)),s.executeSendMessage=s.executeSendMessage.bind(Object(j.a)(s)),s}return Object(h.a)(n,[{key:"handleText",value:function(e,t){this.setState(Object(J.a)({},e,t))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.isLoggedIn,t.conversation_id);return Object(s.jsx)("div",{children:null!=n?Object(s.jsxs)("div",{className:"input-background",style:{maxHeight:"50px"},children:[Object(s.jsx)("textarea",{className:" message-input",style:{minHeight:"45px"},value:this.state.text,name:"text",rows:"5",cols:"50",wrap:"soft",onChange:function(t){return e.handleText("text",t.target.value)},children:" "}),Object(s.jsx)("div",{className:"send-message-button",onClick:function(){return e.executeSendMessage()},style:{position:"absolute",height:"30px",width:"30px"},children:Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})})})]}):null})}}]),n}(a.Component),yt=(n(159),function(e){var t=e.photo_url,n=e.conversation_id,i=e.selectedMessage,r=e.user_name,c=e.read_by,o=e.id,l=e.to_user,d=Object(a.useState)(!1),u=Object(F.a)(d,2),p=u[0],h=u[1];Object(a.useEffect)((function(){}),[]);return Object(s.jsxs)("div",{className:"selected-message-container ".concat(i!=n||"selected-message-selected"),onClick:function(){return function(t){e.openMessage(t,l),x.a.post("api/messages/read/",{cancel:null,conversation_id:n}),h(!0)}(n)},children:[Object(s.jsx)("img",{className:"senders-photo",src:t}),c===o&&!1===p?Object(s.jsx)("p",{className:"new-message",children:"new!"}):null,Object(s.jsx)("p",{className:"display-name-message",children:r})]})}),Nt=(n(160),new ve.w3cwebsocket("ws://165.227.102.189:8000")),_t=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).getConnected=function(t){var n=e.state.conversation_id;Nt.onopen=function(){},Nt.onmessage=function(s){var a=JSON.parse(s.data);a.to===e.state.loggedInUser&&e.setState({gotNewMessage:!0}),"message"===a.type&&t===n&&(e.openMessage(n),e.setState((function(t){return{newMessages:[].concat(Object(re.a)(e.state.newMessages),[{msg:a.msg,user:a.user}])}})))}},e.sendToSockets=function(t,n,s){var a=e.state;a.messages,a.loggedInUser,e.props.user.user.user;Nt.send(JSON.stringify({type:"message",conversation_id:n,msg:t,to:s}))},e.getMessages=function(){var t=e.props.user.user.id,n=t;x.a.get("/api/conversations/".concat(n)).then((function(n){e.setState({messages:n.data,loggedInUser:t})}))},e.openMessage=function(){var t=Object(u.a)(d.a.mark((function t(n,s){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/api/conversation/messages/get/".concat(n)).then((function(t){e.setState({thread:t.data,conversation_id:n,openContacts:!1,to_user:s})}));case 2:return t.next=4,e.getConnected(n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.expandMessageBoard=function(){e.setState({expand:!e.state.expand,gotNewMessage:!1})},e.setOpenContacts=function(){e.setState({openContacts:!e.state.openContacts})},e.state={messages:[],newMessages:[],thread:[],conversation_id:null,gotMessages:!1,expand:!1,openContacts:!0,challengeUser:null,gotNewMessage:!1},e.getMessages=e.getMessages.bind(Object(j.a)(e)),e.openMessage=e.openMessage.bind(Object(j.a)(e)),e.expandMessageBoard=e.expandMessageBoard.bind(Object(j.a)(e)),e.setOpenContacts=e.setOpenContacts.bind(Object(j.a)(e)),e.sendToSockets=e.sendToSockets.bind(Object(j.a)(e)),e.getConnected=e.getConnected.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.updateUser(),this.getConnected()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.gotMessages,s=this.props.user.user.id,a=this.props.user.isLoggedIn;!1===n&&void 0!=s&&(this.setState({gotMessages:!0}),this.getMessages()),!1===a&&!0===n&&this.setState({messages:[],thread:[],conversation_id:null,gotMessages:!1,expand:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.messages,a=t.thread,i=(t.selectedMessage,t.conversation_id),r=t.expand,c=(t.gotMessages,t.openContacts),o=(t.newMessages,t.to_user),l=this.props.user.user.id,d=this.props.user.isLoggedIn,u=l,p=n.map((function(t){return Object(s.jsx)(yt,{selectedMessage:i,conversation_name:t.conversation_name,conversation_id:t.conversation_id,to_user:t.to_user,openMessage:e.openMessage,photo_url:t.photo_url,user_name:t.user_name,read_by:t.read_by,id:l,getConnected:e.getConnected},t.conversation_id)})),h=a.map((function(e){return Object(s.jsx)(wt,{loggedInUser:u,content:e.content,user_id:e.user_id,photo_url:e.photo_url,user_name:e.user_name,date_created:e.date_created},e.message_id)}));return Object(s.jsx)("div",{children:d?r?Object(s.jsxs)("div",{className:"message-board ",children:[Object(s.jsxs)("div",{className:"message-board-title",children:[Object(s.jsx)("svg",{className:"close-message-box",onClick:function(){return e.expandMessageBoard()},style:{color:"#fff",height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(s.jsx)("h2",{className:"hide-message-h2",style:{textTransform:"none"},children:"Messages"}),Object(s.jsx)("svg",{className:"toggle-contacts ".concat(!!c||"toggle-contacts-rotated"),style:{height:"35px",width:"35px",opacity:"60%",marginTop:"2px",marginBottom:"2px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",onClick:function(){return e.setOpenContacts()},children:Object(s.jsx)("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"})})]}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{className:"dash",children:p})}),Object(s.jsx)("section",{className:"mobile-dash ".concat(!c&&"mobile-dash-closed"),children:Object(s.jsx)("div",{children:!0===c?p:null})}),Object(s.jsx)("section",{className:" board",children:Object(s.jsx)("div",{children:h})}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{className:"text-input-container",children:Object(s.jsx)(kt,{id:"EndOfMessages",conversation_id:this.state.conversation_id,user_id:u,to_user:o,openMessage:this.openMessage,sendToSockets:this.sendToSockets})})})]}):Object(s.jsxs)("div",{className:"message-board-closed",onClick:function(){return e.expandMessageBoard()},children:[!0===this.state.gotNewMessage?Object(s.jsx)("p",{className:"new-message",children:"new!"}):null,Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"25px",opacity:".5"},className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})]}):null})}}]),n}(a.Component);var Lt=Object(f.b)((function(e){return e}),{updateUser:S})(_t),It=Object(s.jsxs)(q.c,{children:[Object(s.jsx)(q.a,{exact:!0,path:"/",component:K}),Object(s.jsx)(q.a,{path:"/viewuser/:user_id",component:vt}),Object(s.jsx)(q.a,{path:"/explore",component:tt}),Object(s.jsx)(q.a,{path:"/group",component:Je}),Object(s.jsx)(q.a,{path:"/user",component:Be}),Object(s.jsx)(q.a,{path:"/about",component:$e}),Object(s.jsx)(q.a,{path:"/sites",component:nt}),Object(s.jsx)(q.a,{path:"/register",component:st}),Object(s.jsx)(q.a,{path:"/projectdetails/:model_id",component:ut}),Object(s.jsx)(q.a,{path:"/securitytest",component:be}),Object(s.jsx)(q.a,{path:"/header",component:He}),Object(s.jsx)(q.a,{path:"/agreement",component:W}),Object(s.jsx)(q.a,{path:"/admin",component:ke}),Object(s.jsx)(q.a,{path:"/messages/:user_id",component:ht.a}),Object(s.jsx)(q.a,{path:"/usermessages",component:Lt})]}),Ct=(n(161),n(162),n.p+"static/media/admin_photo1.c412f89d.jpg"),St=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).inputHandler=function(t,n){e.setState(Object(J.a)({},t,n))},e.sendMessageToAdmin=function(){var t=e.state,n=t.messageContent,s=t.email,a=t.visited;x.a.post("/api/messages/user/add",{messageContent:n,email:s,visited:a}),e.setContactAdmin(),e.showGreeting()},e.state={showActualMessage:!0,contactAdmin:!1,messageContent:"Enter Message",email:"email address",name:"your name",welcomeGreeting:"Welcome to MadModels3d. Click here if you have questions or comments",responseGreeting:"Your message has been sent. I'll get back to you asap"},e.hideGreeting=e.hideGreeting.bind(Object(j.a)(e)),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){void 0!==localStorage.visited&&this.setState({visited:localStorage.visited})}},{key:"showGreeting",value:function(){var e=this.state.responseGreeting;this.setState({showActualMessage:!0,welcomeGreeting:e})}},{key:"hideGreeting",value:function(){this.setState({showActualMessage:!1})}},{key:"setContactAdmin",value:function(){this.setState({contactAdmin:!this.state.contactAdmin})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showActualMessage,a=t.contactAdmin,i=t.messageContent,r=t.email,c=t.welcomeGreeting,o=(t.responseGreeting,t.name);return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"messages-container",children:[!1===a?Object(s.jsxs)("div",{onMouseEnter:this.hideGreeting,onClick:this.hideGreeting,className:"actual-message ".concat(!!n||"hidden"),children:[Object(s.jsx)("p",{className:"contact-admin-text",children:c}),Object(s.jsx)("img",{src:Ct,className:"admin-message-photo"})]}):null,!1===a?Object(s.jsx)("svg",{onClick:function(){return e.setContactAdmin()},xmlns:"http://www.w3.org/2000/svg",class:"admin-message-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:Object(s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):null]}),!0===a?Object(s.jsx)("div",{className:"send-message",children:Object(s.jsxs)("div",{className:"send-message-title",children:[Object(s.jsx)("h2",{style:{textTransform:"none"},children:"Contact"}),Object(s.jsx)("svg",{onClick:function(){return e.setContactAdmin()},className:"contact-admin-close-button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(s.jsx)("textarea",{onChange:function(t){return e.inputHandler("name",t.target.value)},style:{minHeight:"25px",marginTop:"40px"},name:"text",rows:"0",cols:"35",wrap:"soft",placeholder:o}),Object(s.jsx)("textarea",{onChange:function(t){return e.inputHandler("email",t.target.value)},style:{minHeight:"25px",marginTop:"10px"},name:"text",rows:"0",cols:"35",wrap:"soft",placeholder:r}),Object(s.jsx)("textarea",{onChange:function(t){return e.inputHandler("messageContent",t.target.value)},style:{minHeight:"45px",marginTop:"10px"},name:"text",rows:"5",cols:"35",wrap:"soft",placeholder:i}),Object(s.jsx)("div",{className:"contact-admin-send-button",children:Object(s.jsx)("p",{style:{color:"#fff"},onClick:function(){return e.sendMessageToAdmin()},children:"send"})})]})}):null]})}}]),n}(a.Component);var Mt=function(){return Object(a.useEffect)((function(){})),Object(s.jsx)(E.b,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(He,{}),Object(s.jsx)(Lt,{}),Object(s.jsx)(St,{}),It]})})},Dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))},Ut=n(35),Pt=n(80),Tt=n(81),Ft=(n(163),Object(Ut.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(o.a)(Object(o.a)({},e),{},{loginOpen:t.payload});case"SHOW_DATA_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"SHOW_DATA_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data});case"SHOW_DATA_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,loginError:!0});case"LOGIN_USER_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"LOGIN_USER_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"LOGIN_USER_REJECTED":return alert("Your username or password is incorrect"),Object(o.a)(Object(o.a)({},e),{},{loginError:!0,isLoading:!1});case"LOGOUT_USER_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data,isLoggedIn:!1});case"REGISTER_USER_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"REGISTER_USER_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"REGISTER_USER_REJECTED":return alert("Either the username you have chosen is already being used or consists of more than 12 characters. Please choose a defferent username"),Object(o.a)(Object(o.a)({},e),{},{isLoggedIn:!1,isLoading:!1});case"UPDATE_USER_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data,isLoggedIn:!0});case"UPDATE_USER_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isLoggedIn:!1});case"AUTO_LOGIN_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"AUTO_LOGIN_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.data,isLoggedIn:!0,isLoading:!1});case"AUTO_LOGIN_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{loginError:!0,isLoading:!1});default:return e}},models:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MODELS_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isloading:!0});case"GET_MODELS_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{isloading:!1,models:t.payload.data});case"GET_MODELS_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isloading:!1});case"GET_FEATURED_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isloading:!0});case"GET_FEATURED_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{isloading:!1,featured:t.payload.data});case"GET_FEATURED_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isloading:!1});default:return e}},firebase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REF_FROM_URL_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"REF_FROM_URL_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,url:t.payload});case"REF_FROM_URL_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:!0});case"DELETE_FILE_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"DELETE_FILE_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case"DELETE_FILE_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:!0});case"ADD_TO_FIREBASE_PENDING":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case"ADD_TO_FIREBASE_FULFILLED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,url:t.payload});case"ADD_TO_FIREBASE_REJECTED":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:!0});default:return e}}})),Et=Object(Ut.createStore)(Ft,Object(Tt.composeWithDevTools)(Object(Ut.applyMiddleware)(Pt.a))),At=E.a;c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(At,{children:Object(s.jsx)(f.a,{store:Et,children:Object(s.jsx)(Mt,{})})})}),document.getElementById("root")),Dt()}]),[[164,1,2]]]);
//# sourceMappingURL=main.79b755fc.chunk.js.map