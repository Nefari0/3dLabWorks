{"version":3,"sources":["ducks/userReducer.js","Components/Header/header.styles.jsx","Components/SVG2.jsx","Components/Header/Hamburger/hamburger.styles.jsx","Components/Header/Hamburger/hamburger.component.jsx","Components/Register/Agreement.js","Components/MobileLogin/MobileLogin.js","Components/Loading/Loading.js","assets/cdLabs-logo-1-alpha.png","assets/MM3D2333x50orthofff.png","assets/CDinits.png","Components/Header/MobileMenu/menu.styles.jsx","Components/Header/MobileMenu/menu.component.jsx","Components/Header/Header.js","ducks/modelsReducer.js","Components/SVG.js","Components/Project/project.styles.jsx","Components/Project/Project.js","Components/VideoPlayer/VideoPlayer.js","Components/Home/blender_background.png","Components/Home/home.styles.jsx","Components/Home/Home.js","Components/GroupPage/GroupPage.js","ducks/projectsReducer.js","base.js","ducks/firebaseReducer.js","Components/ProjectDetails/ProjectPhotos/ImagePreview/preview.styles.jsx","Components/ProjectDetails/ProjectPhotos/ImagePreview/preview.component.jsx","Components/ProjectDetails/EditProject/EditModel.js","Components/UserPage/Create/create.styles.jsx","Components/UserPage/Create/AddFile/add.styles.jsx","Components/UserPage/Create/AddFile/add.component.jsx","Components/UserPage/Create/AddPhoto/add-photo.styles.jsx","Components/UserPage/Create/AddPhoto/add-photo.component.jsx","Components/UserPage/Create/CreateProject.js","Components/UserPage/Collections.js","Components/UserPage/EditUserInfo.js","Components/UserPage/UserInfo.js","Components/UserPage/SecurityTest.js","Components/AdminPage/ShowUser.js","Components/AdminPage/ShowTraffic.js","Components/AdminPage/Memo.js","Components/AdminPage/UserAdminMessage/UserAdminMessage.js","Components/WS.js","Components/AdminPage/AdminPage.js","Components/Games/Rowz/Error/error.styles.jsx","Components/Games/Rowz/Error/error.component.jsx","Components/Games/Rowz/CheckerBoard/attack.logic.js","Components/Games/rowz.plugin.js","Components/Games/Rowz/CheckerBoard/board.styles.jsx","Components/Games/Rowz/Menu/menu.styles.jsx","Components/Games/Rowz/Menu/menu.component.jsx","Components/Games/Rowz/Tile/tile.styles.jsx","Components/Games/Rowz/Tile/Piece/SVG.jsx","Components/Games/Rowz/Tile/ControlPanel/controls.styles.jsx","Components/Games/Rowz/Tile/ControlPanel/controls.component.jsx","Components/Games/Rowz/Tile/tile.component.jsx","Components/Games/Rowz/Tile/Piece/piece.styles.jsx","Components/Games/Rowz/Tile/Crown/crown.component.jsx","Components/Games/Rowz/Tile/Piece/piece.component.jsx","Components/Games/Rowz/pieces.js","Components/Games/Rowz/TurnIndicator/current.styles.jsx","Components/Games/Rowz/TurnIndicator/current.component.jsx","Components/Games/Rowz/CheckerBoard/CheckerBoard.jsx","Components/UserPage/Friends/GameInvite.js","Components/Games/table.styles.jsx","Components/Games/Table.js","Components/UserPage/Friends/MyConnections.js","Components/UserPage/Friends/ConnectRequests.js","Components/UserPage/Friends/DisplayFriends.js","Components/UserPage/PhotoAlbum/SelectedImage.js","Components/UserPage/PhotoAlbum/PhotoAlbum.js","Components/UserPage/UserPage.js","Components/Explore/Explore.js","Components/Document.js","Components/About/Links/OneLink.js","Components/About/Links/Links.js","Components/About/About.js","Components/SiteLinks/Sites.js","Components/Register/Register.js","Components/ProjectDetails/ProjectPhotos/PhotosSVG/MenuSVG.jsx","Components/ProjectDetails/ProjectPhotos/projectphotos.styles.jsx","Components/ProjectDetails/ProjectPhotos/ProjectPhotos.js","Components/ProjectDetails/Comments/comments.styles.jsx","Components/ProjectDetails/Comments/Comments.js","Components/ProjectDetails/Comments/CreateComment.js","Components/ProjectDetails/DlUrl.js","Components/ProjectDetails/TheMaker.js","Components/ProjectDetails/Options/options.styles.jsx","Components/ProjectDetails/Options/options.component.jsx","Components/ProjectDetails/projectdetail.styles.jsx","Components/ProjectDetails/ProjectDetail.js","Components/ViewUser/UserProject.js","Components/ViewUser/OneMessage.js","Components/ViewUser/CreateNewMessage.js","Components/ViewUser/ViewUser.js","Components/UserMessages/MyMessage.js","Components/UserMessages/CreateMessage.js","Components/UserMessages/SelectedMessage.js","Components/UserMessages/MessageBoard.js","routes.js","App.js","reportWebVitals.js","ducks/store.js","index.js"],"names":["inititialState","user","isLoggedIn","isLoading","loginError","loginOpen","LOGIN_USER","LOGOUT_USER","REGISTER_USER","UPDATE_USER","AUTO_LOGIN","OPEN_LOGIN","remoteLogin","val","type","payload","loginUser","user_name","password","last_visit","visited","axios","post","registerUser","email","first_name","is_admin","is_sudo","updateUser","HeaderContainer","styled","header","icon","margin","marginLeft","marginRight","height","width","opacity","color","paddingTop","MenuDots","otherProps","xmlns","className","style","marginBottom","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","GarbageCan","LargeLightHeart","fillRule","clipRule","LargeDarkHeart","stroke-linecap","stroke-linejoin","stroke-width","ImageIcon","CloseX","props","marginTop","BurgerIcon","LoginIcon","LogoutIcon","InformationIcon","CubeIcon","IDIcon","userOnlineIcon","css","HamburgersContainer","div","Hamburgers","photo","src","Agreement","Component","connect","reduxState","saveSession","current_user","useState","setUsername","setPassword","saveInfo","setSaveInfo","signup","setSignup","setEmail","setFirstName","last_name","setLastName","iAgree","setIAgree","openIAgree","setOpenIAgree","selectSignUp","executeIAgree","getLoggedIn","a","execute","onClick","exit","textTransform","value","onChange","e","target","placeholder","fontSize","alert","fontWeight","borderRadius","logout","Loading","close","MobileNavContainer","nav","isMenuOpen","MobileNav","toggleLogin","toggleMenu","to","Header","trackAdminUser","params","unique_id","localStorage","isAdmin","undefined","then","catch","err","console","log","state","username","setPermission","isLoggedInState","handleLogging","bind","resetState","handleClick","handlePassword","handleUserName","handleLogout","setSaveSession","sessionToWindow","prop","setItem","prevProps","savedUsername","Date","this","autoLogin","getUniqueID","s4","Math","floor","random","toString","substring","assigned_browser","setState","toggleHideLoggin","logoutUser","signInName","signInPass","saveMyInfo","menuOpen","removeItem","viewTheWindow","cdLabs3d","CDinits","textDecoration","MM3D1","name","pass","hide","openLogin","get","initialState","models","featured","isloading","GET_MODELS","GET_FEATURED","getModels","SVG","largeHeart","dark","param","ProjectContainer","section","ProjectUserPhoto","img","ProjectImageContainer","ProjectContainerFooter","footer","LikeShareContainer","data","firebase_url","firebase_url01","model_id","photo_url","user_id","likes","id","user_likes","numOfLikes","setNumOfLikes","heart","setHeart","useEffect","checkIfLiked","plsSignIn","window","scrollTo","likeFunc","m_id","updateLikes","res","clickedLike","projectIsLiked","backgroundColor","user_photo_url","getPhotoUrl","paddingBottom","current_user_name","getUserName","open","href","rel","borderBottom","VideoPlayer","video_url","category","tag","video_name","url","controls","Hero","BlenderImage","HeroH2","h2","CarouselRail","Carousel","positionCounter","button","LeftSlideButton","RightSlideButton","Home","getFeaturedVideos","setLoading","getFeatured","res2","videos","loading","projects","userLikes","stateHandler","projectId","userLike","filter","el","error","model_likes","mappedModels","map","element","mappedVideos","video_id","class","length","GroupPage","GET_PROJECTS","getProjects","app","firebase","initializeApp","apiKey","authDomain","storageBucket","messagingSenderId","appId","measurementId","firestore","DELETE_FILE","ADD_TO_FIREBASE","REF_FROM_URL","deleteFile","storageRef","storage","refFromURL","delete","addNewModel","file","path","ref","child","put","ImagePreviewContainer","EditFileButton","ImagePreview","previewImageFile","addNewHandler","addPhoto","clearState","handleInput","right","EditModel","removeFileFromSpace","info","setIsLoading","deleteAllImages","setIsDeleted","confirm","modelImages","strings","replaceModelFile","file_url","getRefFromUrl","newModel","action","getDownloadURL","modelUrl","newModelToDB","fileHandler","preview","files","URL","createObjectURL","handlePhoto","fileInput","Resizer","imageFileResizer","uri","passNewPhotoToFB","getImages","cloudFile","executeChange","description","getDetails","confirmDelete","openDeleteConfirm","imageUr1","accept","rows","cols","wrap","position","fullPath","split","slice","join","CreateContainer","CreateHead","CreateForm","form","CreateRow","CreateSectionTitle","SelectFile","AddFileContainer","AddFileButton","InputFile","input","AddFile","handleFile","getFileName","CreateInputBox","AddPhoto","CreateProject","resetView","onSubmit","createNewProject","required","handleAddText","Collections","preventDefault","imageFile","fileUrl","imageUrl","projectDescription","projectName","photoUrl","cloudPhoto","addToDatabase","setFileUrl","setImageUrl","addFile","sendIntoSpace","fileHandlerRemove","handleDelete","getFileUrl","theFile","getImUrl","theImage","fileRef","storageRef2","is_hidden","status","openEditModel","previewModelFile","newItem","openAddProject","addNewProject","showCreateProject","mappedProjects","deleteModel","openEdidModel","EditUserInfo","userInfoFromProps","background_url","launchNewPass","newPassword1","newPassword2","oldPassword","openChangePass","hideView","openNewPass","staticPhoto","UserInfo","SecurityTest","ShowUser","ShowTraffic","remount","date_created","Memo","body","title","memo_id","text","setText","sending","setSending","UserAdminMessage","messagecontent","socketString","AdminPage","W3CWebSocket","addGeneral","content","generalContent","addAbout","aboutContent","hideDocGeneral","displayGeneral","hideMessages","showMessages","hideDocAbout","displayAbout","users","editGeneral","editAbout","editUserInfo","userMessages","showMemo","memos","showTraffic","traffic","pototypeBool","openEditAbout","openEditGeneral","openEditUserInfo","test","auth","mappedUsers","mappedTraffic","browser_id","mappedMessages","dum_id","mappedMemos","changeView","component","Err","ErrorMsg","attackLogic","enemyX","enemyY","currentPiece","checkPieceLocations","matrix","player","isKing","x","y","currentY","newCoords","currentX","nextX","nextY","colors","size","menuStyling","openMenu","boardPlacement","playerStatusPlacement","multiplier","CheckerTable","main","Rowz","span","baseColor","CheckerMenu","ConfirmNewGame","Menu","newGame","confirmNewGame","setConfirmNewGame","secondaryColor","TilePlate","displayOpac","hideOpac","TileStyles","tileColor","activeLocation","SadFace","SmileFace","ControlBox","ArrowButton","LowRight","LowLeft","TopLeft","TopRight","CloseController","Controller","unselectTile","setMoves","chainKillAvailable","moveOptions","previousPiece","selectionConstraint","coords","actuator","Tile","currentPlayer","pieces","selectTile","getCurrent","pendingDeath","isInGame","Player","GoodPlayer","BadPlayer","Crown","Piece","items","engine","left","top","transition","TurnIndicator","TurnIndicatorText","i","CurrentPlayer","client","moves","CheckerBoard","getConnected","onopen","onmessage","message","currentGame","dataFromServer","JSON","parse","gameID","saveGame","newPieces","autoTurn","forEach","switchPlayer","mandatoryAttack","kingAll","updatePieces","push","loadGame","getItem","sendToSocketsSwitch","gameObject","stringify","send","boardFactory","M","Array","from","smile","garbageRemoval","killPiece","updatedPieces","findIndex","pieceIndex","chainKills","sendInfo","currentPieces","enemyPieces","enemy","locatePiece","parseInt","key","attackCoordinates","executeMovePiece","landingY","pieceId","killIndex","splice","piece","newActiveLocation","errorMessage","tileIsSelected","mappedMatrix","row","col","id2","mappedPieces","GameInvite","challengeUser","gameInformation","isAccepted","isConfirmed","setIsConfirmed","openAccept","setOpenAccept","handleAccept","changeGameID","GameTable","Table","MyConnection","my_id","setMenuOpen","remove","setRemove","getUserID","removeConnection","handleRemove","ConnectRequests","acceptRequest","handleConfirm","DisplayFriends","sockets","fromUser","friendObj","newFriends","friends","toUser","updateFriends","newFriendToSocked","getMyFriends","requests","err2","return","startLoading","yes","justAdded","mappedConnections","mappedRequests","mappedNewRequestes","SelectedImage","image_url","clickHandler","setCurrentImg","removingPhoto","getPhotos","albums","setAlbums","photos","setPhotos","view","setView","create","setCreate","currentImg","setPhotoUrl","addAndUpdate","objUrl","addingPhoto","album_id","cloud","mappedAlbums","mappedPhotos","photo_id","float","UserPage","deleteFromFirebase","receiveInvite","sendInvite","showPhotos","showUserInfo","showCollections","showAdminPage","showEditUserInto","showGames","showFriends","profilePic","userName","handleCollections","pleaseLogin","pleaeLogin","isView","currentPhoto","alt","flexWrap","justifyContent","Explore","handleText","openSearch","openSearchBar","viewModels","viewVideos","names","userId","projectSearch","addLike","updateState","params_id","mappedData","includes","Document","display","OneLink","link_text","link_to","Links","link","linkText","links","mappedLinks","link_id","About","currentView","about","general","mappedAbout","doc_id","mappedGeneral","Sites","setUserName","handleOpenIAgree","Dots","X","MenuSVG","setOpenMenu","MainPhotoContainer","PhotoMenu","PhotoMenuRow","MainImage","maker_id","main_image_url","deletePhotoFromDB","gone","deleted","CommentContainer","AuthorPic","RightColumn","CommentTextContainer","comment_id","deletePost","getComments","CreateComment","sendPost","minHeight","DlUrl","TheMaker","userInfo","OptionsH4","h4","viewFiles","OptionsText","p","condition","selected","OptionsMenu","authorized","clickLike","myLike","viewComments","viewEditProject","addedToFavorites","viewInfo","DetailsView","ThumbnailViewer","DetailContainer","CommentBox","CommentBoxHeader","DescriptionText","ProjectDetail","behavior","isDeleted","highLightedPhoto","selectedPhoto","dlUrl","comments","viewDetails","allLikes","match","res3","res4","history","mappedComments","mappedThumbNails","image_id","OneMessage","loggedInUser","setIsUser","isUser","time","dateVal","timeVal","CreateNewMessage","conversation_id","checkForExistingMessage","sendToSockets","messages","msg","executeSendMessage","to_user","currentUserMessage","processMessages","message_id","currentConversationId","newMessages","openMessageBox","maxHeight","ViewUser","getConnectionStatus","friendShipInfo","sendConnectInvite","friend_id","no","sendToSocket","getUserAndProjects","mappedNewMessage","mappedUserName","mappedBackground","mappedProfilePhoto","MyMessage","CreateMessage","SelectedMessage","selectedMessage","read_by","isSelected","setIsSelected","openMessage","cancel","gotClicked","MessageBoard","gotNewMessage","State","getMessages","thread","openContacts","expandMessageBoard","expand","setOpenContacts","gotMessages","prevState","mappedMessageUsers","conversation_name","mappedThread","exact","Register","Messages","App","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","SHOW_DATA","createStore","composeWithDevTools","applyMiddleware","reduxPromiseMiddleware","Router","BrowserRouter","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.d822928b.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { OPEN } from 'ws'\r\n\r\nconst inititialState = {\r\n    user: {},\r\n    isLoggedIn:false,\r\n    isLoading:false,\r\n    loginError:false,\r\n    \r\n    //  testing use of boolean data types in redux\r\n    loginOpen:false,\r\n}\r\n\r\nconst LOGIN_USER = 'LOGIN_USER'\r\nconst LOGOUT_USER = 'LOGOUT_USER'\r\nconst REGISTER_USER = 'REGISTER_USER'\r\nconst EDIT_USERINFO = 'EDIT_USERINFO'\r\nconst UPDATE_USER = 'UPDATE_USER'\r\nconst SHOW_DATA = 'SHOW_DATA'\r\nconst AUTO_LOGIN = 'AUTO_LOGIN'\r\nconst OPEN_LOGIN = 'OPEN_LOGIN'\r\n\r\nexport function remoteLogin(val) {\r\n    return {\r\n        type: OPEN_LOGIN,\r\n        payload: val\r\n    }\r\n}\r\n\r\nexport function loginUser(user_name, password, last_visit, visited) {\r\n    return {\r\n        type: LOGIN_USER,\r\n        payload: axios.post('/auth/login', {user_name, password, last_visit, visited})\r\n    };\r\n}\r\n\r\nexport function logoutUser(){\r\n    return {\r\n        type: LOGOUT_USER,\r\n        payload: axios.get('/auth/logout')\r\n    }\r\n}\r\n\r\nexport function registerUser(user_name, password, email, first_name, is_admin, is_sudo){\r\n    return {\r\n        type: REGISTER_USER,\r\n        payload: axios.post('/auth/register', { user_name, password, email, first_name, is_admin, is_sudo})\r\n    }\r\n}\r\n\r\n// export function showData(user){\r\n//     return {\r\n//         type: SHOW_DATA,\r\n//         payload:axios.post('/auth/getInfo', {user})\r\n//     }\r\n// }\r\n\r\n// --- this block adds edit capabilities to user info --- //\r\nexport function editUserinfo(photo_url){\r\n    return {\r\n        type: EDIT_USERINFO,\r\n        payload: axios.get('api/users/all')\r\n    }\r\n}\r\n\r\n//  ----- rebuilding - commented out for testing------ //\r\n// export function updateUser(user_id){\r\n//     return{\r\n//         type: UPDATE_USER,\r\n//         payload: axios.get(`/api/users/:${user_id}`)\r\n//     }\r\n// }\r\nexport function updateUser(user){\r\n    return{\r\n        type: UPDATE_USER,\r\n        payload: user\r\n    }\r\n}\r\n// ---------------------------------------------------- //\r\n\r\n// --- auto login from browser if usersession is saved --- //\r\nexport function autoLogin(user_name, last_visit, visited){\r\n    return{\r\n        type: AUTO_LOGIN,\r\n        payload: axios.post('/auth/browser/login', {user_name,last_visit,visited})\r\n    }\r\n}\r\n\r\nexport default function userReducer(state = inititialState, action) {\r\n    switch (action.type) {\r\n        // ---- this allows the login menu to be opened from any component ---- //\r\n        case OPEN_LOGIN:\r\n            return {\r\n                ...state,\r\n                loginOpen:action.payload\r\n            }\r\n        // -------------------------------------------------------------------- //\r\n        case SHOW_DATA + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case SHOW_DATA + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user:action.payload.data\r\n            }\r\n        case SHOW_DATA + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                loginError:true\r\n            }\r\n        case LOGIN_USER + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n        case LOGIN_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user: action.payload.data, isLoggedIn: true, isLoading:false,\r\n            }\r\n        case LOGIN_USER + '_REJECTED':\r\n            alert('Your username or password is incorrect')\r\n            return {\r\n                ...state,\r\n                loginError:true,isLoading:false\r\n            }\r\n        case LOGOUT_USER + '_FULFILLED':\r\n                return {\r\n                    ...state, user: action.payload.data, isLoggedIn: false\r\n                }\r\n        case REGISTER_USER + '_PENDING':\r\n                return {\r\n                    ...state,\r\n                    isLoading: true\r\n                }\r\n        case REGISTER_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user: action.payload.data, isLoggedIn: true, isLoading:false\r\n            }\r\n        case REGISTER_USER + '_REJECTED':\r\n            alert('Either the username you have chosen is already being used or consists of more than 12 characters. Please choose a defferent username')\r\n            return { \r\n                ...state,\r\n                isLoggedIn: false,\r\n                isLoading:false\r\n            }\r\n        case UPDATE_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user:action.payload.data, isLoggedIn:true\r\n            }            \r\n        case UPDATE_USER + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false\r\n            }\r\n            // --- auto login --- //\r\n            case AUTO_LOGIN + '_PENDING':\r\n                return {\r\n                    ...state,\r\n                    isLoading: true\r\n                }\r\n            case AUTO_LOGIN + '_FULFILLED':\r\n                return {\r\n                    ...state,\r\n                    user: action.payload.data, isLoggedIn: true, isLoading:false\r\n                }\r\n            case AUTO_LOGIN + '_REJECTED':\r\n                // alert('Cannot auto login: Your username or password is incorrect')\r\n                return {\r\n                    ...state,\r\n                    loginError:true, isLoading:false\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport const HeaderContainer = styled.header`\r\n    position: relative;\r\n    margin: none;\r\n    height: 60px;\r\n    min-width: 300px;\r\n    background: linear-gradient(0deg,#5077be,#6495ed);\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    align-content: center;\r\n`","// const smallSVG = {\r\n//     height:'10px',\r\n//     width:'10px'\r\n// }\r\n\r\nconst icon ={\r\n    margin: 'auto',\r\n    marginLeft: '10px',\r\n    marginRight: '10px',\r\n    height: '40px',\r\n    width: '40px',\r\n    opacity: '60%',\r\n    color: '#6495ed',\r\n    paddingTop: '10px',\r\n}\r\n\r\nexport const RightArrow = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 4.5l7.5 7.5-7.5 7.5\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const LeftArrow = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5L8.25 12l7.5-7.5\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const MenuDots = ({...otherProps}) => {\r\n    return (\r\n        <svg {...otherProps} xmlns=\"http://www.w3.org/2000/svg\" className='comment-menu small-icon' style={{marginBottom:'10px',marginRight:'0px', height:'40px',width:'40px',opacity:'60%'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n        </svg> \r\n    )\r\n}\r\n\r\nexport const GarbageCan = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const LargeLightHeart = () => {\r\n    return (\r\n        <svg style={icon} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const LargeDarkHeart = () => {\r\n    return (\r\n        <svg style={icon} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const ImageIcon = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const CloseX = ({...props}) => {\r\n    return (\r\n        <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" {...props}>\r\n            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const BurgerIcon = () => {\r\n    return (\r\n        <svg\r\n            // className={`hamburger ${!isLoggedIn ? true : 'user-hamburger'}`} \r\n            // onClick={this.toggleMenu} \r\n            xmlns=\"http://www.w3.org/2000/svg\" \r\n            fill=\"none\" \r\n            viewBox=\"0 0 24 24\" \r\n            stroke=\"currentColor\"\r\n        >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const LoginIcon = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" style={{color:'#fff',marginLeft:'20[x'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const LogoutIcon = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const InformationIcon = () => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const CubeIcon = () => { // Used in explore icon in mobile nav\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport const IDIcon = () => { // Used in ID icon in mobile nav\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2\" />\r\n        </svg>\r\n    )\r\n}","import styled, {css} from \"styled-components\";\r\n\r\nconst userOnlineIcon = css`\r\n\r\n    svg {\r\n        position: absolute;\r\n        height: 25px;\r\n        border-radius: 50%;\r\n        color: #fff;\r\n        bottom: -5px;\r\n        right: 0px;\r\n    }\r\n\r\n    img {display:block;}\r\n`\r\n\r\nexport const HamburgersContainer = styled.div`\r\n    width:50px;\r\n    height:50px;\r\n    display:flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    position: absolute;\r\n    right: 20px;\r\n    \r\n    img {\r\n        position: absolute;\r\n        height: 45px;\r\n        width: 45px;\r\n        border-radius: 50%;\r\n        z-index: 0;\r\n        border: 1px solid #3c598e;\r\n        box-shadow: 0 4px 3px 0  rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.2);\r\n        top: 5px;\r\n        display:none;\r\n    }\r\n    \r\n    svg {\r\n        height: 35px;\r\n        position:relative;\r\n    }\r\n\r\n    ${({isLoggedIn}) => isLoggedIn && userOnlineIcon}\r\n\r\n    @media (min-width:820px) {\r\n        display:none;\r\n    }\r\n\r\n    @media (max-width:400px) {\r\n        -webkit-transform: scale(.75);\r\n        -ms-transform: scale(.75);\r\n        transform: scale(.75);\r\n\r\n        right:0px;\r\n    }\r\n`","import { BurgerIcon } from \"../../SVG2\";\r\nimport { HamburgersContainer } from \"./hamburger.styles\";\r\n\r\nconst Hamburgers = ({photo,isLoggedIn,...props}) => {\r\n    return (\r\n        <HamburgersContainer isLoggedIn={isLoggedIn}{...props}>\r\n            <img src={photo ? photo : 'https://firebasestorage.googleapis.com/v0/b/depot-7bb3e.appspot.com/o/Chris%20deMontigny%2Fphotos%2Fprofile-pic-placeholder.JPEG?alt=media&token=0f93dc94-dd77-4072-82bd-925a3b19acf3'}/>\r\n            <BurgerIcon />\r\n        </HamburgersContainer>\r\n    )\r\n}\r\n\r\nexport default Hamburgers","import { Component } from 'react'\r\nimport './Register.css'\r\n\r\nclass Agreement extends Component {\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"agreement-container\">\r\n                <p className=\"agreement-text\">\r\n                Any and all information and content that a User submits to, or uses with, the Sites or Services (e.g., content in the User’s profile or postings, user-created designs), including any modifications, improvements, or alterations (“Modification”) made to products available by Company or its authorized suppliers through MadModels3d (all such products collectively referred to herein as the “MadModels3d Experimental Product”) or to any print profiles, modes, or settings created by you using Company products (“Print Profile”). You retain all your intellectual property rights in your User Content. Company does not claim ownership in any User Content. You are solely responsible for your User Content, and you assume all risks associated with use of your User Content, including any reliance on its accuracy, completeness, or usefulness by others, or any disclosure of your User Content by you that makes you or any third party personally identifiable. Unless Company states otherwise in a writing to you, you may not state or imply that your User Content is in any way provided, sponsored, or endorsed by the Company. The Company is not obligated to backup any User Content and User Content may be deleted at any time. You are solely responsible for creating backup copies of your User Content if you desire.\r\n                </p>\r\n                {/* <button onClick={this.props.handleOpenIAgree} >back</button> */}\r\n            </div>\r\n        )}\r\n\r\n}\r\n\r\nexport default Agreement","import { useState, useEffect } from 'react'\r\nimport './MobileLogin.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { loginUser,registerUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport Agreement from '../Register/Agreement'\r\n\r\nconst MobileLogin = (props) => {\r\n\r\n    const { isLoggedIn,saveSession,current_user } = props\r\n    const { user,photo } = props.user.user\r\n    \r\n    const [ user_name, setUsername ] = useState('')\r\n    const [ password, setPassword ] = useState('')\r\n    const [ saveInfo,setSaveInfo ] = useState(true)\r\n    const [ signup,setSignup ] = useState(false)\r\n    const [ email, setEmail ] = useState('')\r\n    const [ first_name, setFirstName] = useState('')\r\n    const [ last_name, setLastName ] = useState('')\r\n    const [ photo_url, setPhoto ] = useState('')\r\n    const [ is_admin ] = useState(false)\r\n    const [ is_sudo ] = useState(false)\r\n    const [ iAgree, setIAgree ] = useState(false)\r\n    const [ openIAgree, setOpenIAgree ] = useState(true)\r\n\r\n    const selectSignUp = () => {\r\n        setSignup(!signup)\r\n    }\r\n\r\n    const executeIAgree = () => {\r\n        setIAgree(!iAgree)\r\n    }\r\n\r\n    const executeRegister = () => {\r\n        if (iAgree === true) {\r\n        props.registerUser(user_name, password, email, first_name, is_admin, is_sudo)\r\n    } else {\r\n        return (alert('please agree to conditions'))\r\n    }\r\n    props.exit()\r\n    }\r\n\r\n    const openAgreement = () => {\r\n        setOpenIAgree(!openIAgree)\r\n    }\r\n\r\n    const getLoggedIn = async () => {\r\n        props.execute(user_name,password,saveInfo)\r\n    }\r\n    \r\n    return(\r\n   \r\n        <div className={`plogin-container ${!signup ? true : `plogin-Container r-selected ${openIAgree ? true : `plogin-container r-selected agree-view`}`}`} >\r\n        \r\n        <section className={`login-title ${!signup ? true : `rlogin-title ${openIAgree ? true : `rlogin-title rlogin-title-agreement`}`}`}>\r\n\r\n            <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} onClick={props.exit} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            \r\n            {!signup ? (!isLoggedIn ? <h2 style={{textTransform:'none'}} >Log In to Your Accout</h2> : <h2 style={{textTransform:'none'}} >Log Out</h2>) : <h2 style={{textTransform:'none'}} >Create Account</h2>}</section>\r\n        {!signup ? <section className=\"form\">\r\n\r\n        {isLoggedIn ? <img style={{height:'100px',borderRadius:'50%',marginTop:'20px'}} src={photo} /> : null}\r\n\r\n        {!isLoggedIn ? <input value={user_name} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'21px'}}/> : null}\r\n\r\n        {! isLoggedIn ? <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'17px'}} type=\"password\" /> : null}\r\n\r\n\r\n\r\n        {!isLoggedIn ? <ul className=\"keep-session log-form-length\">\r\n\r\n            <div className=\"keep-session-check\">\r\n             \r\n                <svg onClick={() => setSaveInfo(!saveInfo)} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    {saveInfo === false ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />:\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />}\r\n                </svg>\r\n                \r\n                <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px'}} >stay logged in?</p>\r\n            </div>\r\n            <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px', color:'blue' }} >Forgot password?</p>\r\n        </ul> : <div className=\"keep-session log-form-length\"></div>}\r\n\r\n        {!isLoggedIn ? <a className=\"login-button\" onClick={getLoggedIn} >Log In</a> : <a className=\"login-button\" onClick={props.logout} >Log Out</a>}\r\n\r\n        {!isLoggedIn ? <div className=\"build-account\" ><p>Need an account?</p><a style={{fontWeight:'400',color:\"blue\"}} onClick={selectSignUp}>Sign up</a></div> : <div className=\"build-account\" ><p>Logged in as:</p><a style={{fontWeight:'400',color:\"blue\"}}>{user}</a></div>}\r\n        </section>\r\n        :\r\n        <section className={`rform`}>\r\n\r\n            {!openIAgree ? <Agreement/> :\r\n            <form style={{height:'450px'}}>\r\n                <input value={user_name} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px'}}/>\r\n                <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'17px',marginBottom:'2px'}} type=\"password\" />\r\n                <input value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Email\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'18px',marginBottom:'2px'}} />\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)} placeholder=\"First Name\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'17px',marginBottom:'2px'}} />\r\n                <input value={last_name} onChange={e => setLastName(e.target.value)} placeholder=\"Last Name\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginBottom:'20px',marginTop:'17px'}} />\r\n            </form>}\r\n            <div className=\"keep-session-check\">\r\n\r\n            {!iAgree ?\r\n            <svg onClick={executeIAgree} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            :\r\n            <svg onClick={executeIAgree} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            }\r\n\r\n            <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px'}} onClick={openAgreement} >I agree to terms and conditions</p>\r\n            </div>\r\n                {openIAgree ? <a className=\"login-button\" style={{marginTop:'10px'}} onClick={executeRegister} >Sign Up</a> : null}\r\n                <div className=\"build-account\" ><a style={{fontWeight:'400',color:\"blue\"}} onClick={selectSignUp}>Cancel</a></div>\r\n                <div className='r-form-fake-bottom' ></div>\r\n            </section>\r\n        }\r\n    </div>\r\n\r\n    )\r\n    \r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\nexport default connect(mapStateToProps,{registerUser,loginUser})(MobileLogin)","import React, { Component } from 'react';\r\nimport './Loading.css'\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className='load-box'>\r\n      <div className='load-background'></div>\r\n      <div className='load'></div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loading;","export default __webpack_public_path__ + \"static/media/cdLabs-logo-1-alpha.8a76484b.png\";","export default __webpack_public_path__ + \"static/media/MM3D2333x50orthofff.66b36e66.png\";","export default __webpack_public_path__ + \"static/media/CDinits.d5585836.png\";","import styled, { css } from \"styled-components\";\r\n\r\nconst width = 125\r\n\r\nconst close = css`\r\n    height:0px;\r\n    width:0px;\r\n    transition: all 500ms;\r\n    \r\n    ul {\r\n        display:none;\r\n    }\r\n`\r\n\r\nexport const MobileNavContainer = styled.nav`\r\n\r\n        \r\n    @media (min-width:820px) {\r\n        display:none;\r\n    }\r\n\r\n    border-radius: 5px;\r\n    list-style-type: none;\r\n    background-color: #6495ed;\r\n    box-shadow: 0px 5px 20px -7px #000000;\r\n    border: solid 1px #3c598e;\r\n    margin-top: 60px;\r\n    margin-right: 40px;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n    align-items: baseline;\r\n    overflow: hidden;\r\n    z-index: 15;\r\n    width:${width}px;\r\n    height:${({isLoggedIn}) => isLoggedIn ? '150' : '110'}px;\r\n    transition: all 500ms;\r\n\r\n    ul {\r\n        width:250px;\r\n    }\r\n    \r\n    li {\r\n        text-align:left;\r\n        color:#fff;\r\n        margin-left:5px;\r\n        display:flex;\r\n    }\r\n\r\n    svg {\r\n        height: 25px;\r\n        width: 25px;\r\n        padding:0px;\r\n        margin-top:2px;\r\n        margin-right:10px;\r\n    }\r\n\r\n    a {text-decoration:none;}\r\n\r\n    ${({isMenuOpen}) => !isMenuOpen && close}\r\n`","import { MobileNavContainer } from \"./menu.styles\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { \r\n    LoginIcon,\r\n    LogoutIcon,\r\n    InformationIcon,\r\n    CubeIcon,\r\n    IDIcon\r\n} from \"../../SVG2\";\r\n\r\nconst MobileNav = (props) => {\r\n\r\n    const {\r\n        isLoggedIn,\r\n        isMenuOpen,\r\n        toggleLogin,\r\n        toggleMenu\r\n    } = props\r\n\r\n    return (\r\n        <MobileNavContainer\r\n            isMenuOpen={isMenuOpen}\r\n            isLoggedIn={isLoggedIn}\r\n        >\r\n            <ul style={{paddingTop:'10px'}} onClick={() => toggleMenu()} >\r\n                  \r\n                <li onClick={toggleLogin}>\r\n                    {isLoggedIn ? <LogoutIcon /> : <LoginIcon />}\r\n                    {isLoggedIn ? \"Logout\" : \"Login\"}\r\n                </li>\r\n\r\n                <Link to=\"/about\">\r\n                    <li >\r\n                        <InformationIcon />\r\n                        About\r\n                    </li>\r\n                </Link>\r\n                \r\n                <Link to=\"/explore\">\r\n                    <li>\r\n                        <CubeIcon />\r\n                        Explore\r\n                    </li>\r\n                </Link>\r\n\r\n                {isLoggedIn && \r\n                <Link to=\"/user\">\r\n                    <li>\r\n                        <IDIcon />\r\n                        My page\r\n                    </li>\r\n                </Link>\r\n                }\r\n                \r\n            </ul>\r\n        </MobileNavContainer>\r\n    )\r\n}\r\n\r\nexport default MobileNav","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { loginUser,logoutUser,updateUser,autoLogin,remoteLogin } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport './Header.css'\r\nimport { HeaderContainer } from './header.styles'\r\nimport Hamburgers from './Hamburger/hamburger.component'\r\nimport { Link } from 'react-router-dom'\r\nimport MobileLogin from '../MobileLogin/MobileLogin'\r\nimport Loading from '../Loading/Loading'\r\nimport cdLabs3d from '../../assets/cdLabs-logo-1-alpha.png'\r\nimport MM3D1 from '../../assets/MM3D2333x50orthofff.png'\r\nimport CDinits from '../../assets/CDinits.png'\r\n// import profilePicPlaceHolder from '../../assets/profile-pic-placeholder.png'\r\nimport MobileNav from './MobileMenu/menu.component'\r\n\r\n\r\nclass Header extends Component{\r\n    constructor(props){\r\n        super();\r\n\r\n        this.state = {\r\n            username:{},\r\n            user_name:'',\r\n            password:'',\r\n            setPermission:true,\r\n            isLoggedInState:null,\r\n            saveSession:false,\r\n            unique_id:null,\r\n        }\r\n        this.handleLogging = this.handleLogging.bind(this)\r\n        this.resetState = this.resetState.bind(this)\r\n        this.toggleMenu = this.toggleMenu.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.handlePassword = this.handlePassword.bind(this)\r\n        this.handleUserName = this.handleUserName.bind(this)\r\n        this.toggleLogin = this.toggleLogin.bind(this)\r\n        this.handleLogout = this.handleLogout.bind(this)\r\n        this.setSaveSession = this.setSaveSession.bind(this)\r\n\r\n    // --- this function saves user info to browser\r\n        this.sessionToWindow = this.sessionToWindow.bind(this)\r\n        // this.trackingHandler = this.trackingHandler.bind(this)\r\n    }\r\n\r\n    sessionToWindow(prop,val) {\r\n        localStorage.setItem(prop,val)\r\n    }\r\n\r\n    async componentDidMount(prevProps) {\r\n        \r\n        const visited = localStorage['visited']\r\n        const browser = localStorage['assigned_browser']\r\n        const savedUsername = localStorage['user_name']\r\n        // const savedPassword = localStorage['password']\r\n        \r\n        // const last_visit = new Date().toString().split('(')[0]\r\n        const last_visit = new Date()\r\n        \r\n        if(visited != undefined && localStorage['user_name'] != undefined){\r\n            this.props.autoLogin(savedUsername,last_visit,visited).catch(err => {\r\n                return console.log('there was an error',err)\r\n            })\r\n            \r\n        }\r\n\r\n        const getUniqueID = () => {\r\n            const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n            return s4() + s4() + '-' + s4();\r\n          };\r\n\r\n        if (visited === undefined) {\r\n            const unique_id = getUniqueID()\r\n            const assigned_browser = getUniqueID()\r\n            this.sessionToWindow('visited',unique_id)\r\n            this.sessionToWindow('assigned_browser',assigned_browser)\r\n        }\r\n    \r\n        if(visited !== undefined){\r\n            this.setState({unique_id:visited})\r\n        }\r\n        return\r\n    }\r\n    \r\n    componentWillUpdate(){\r\n        const { setPermission } = this.state\r\n        const { user } = this.props\r\n        // console.log('hit update')\r\n        // this.trackAdminUser()\r\n        if(user.isLoggedIn === true && setPermission===true){\r\n            if(user.user.is_admin === true) {this.trackAdminUser(true)}\r\n            this.setState({username:user.user.user.user,isLoggedInState:user.isLoggedIn,setPermission:false})\r\n        }   \r\n    }\r\n\r\n    resetState(){\r\n        this.setState({\r\n            setPermission:false,\r\n            username:{},\r\n            user_name:'',\r\n            password:'',\r\n            isMenuOpen:false,\r\n            toggleHideLoggin:true\r\n        })\r\n    }\r\n\r\n    // --- handles tracked info --- //\r\n    // trackingHandler(tag) {\r\n    //     const { unique_id } = this.state\r\n    //     if(unique_id !== null){\r\n            \r\n    //         switch(tag) {\r\n    //             case 'login':\r\n    //                 return axios.post('/api/track/login/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //             case 'projects':\r\n    //                 return axios.post('/api/track/projects/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //             case 'about':\r\n    //                 return axios.post('/api/track/about/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    //  --- this block identifies brower as used during developent --- //\r\n    trackAdminUser = (params) => {\r\n        // const { is_admin } = this.props.user.user\r\n        \r\n        const unique_id = localStorage['visited']\r\n        const isAdmin = params\r\n\r\n        if(params === true && unique_id !== undefined){\r\n            axios.post('/api/tracking/setIsAdmin',{unique_id,isAdmin}).then().catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    // --- ----------------------- --- //\r\n\r\n    handleLogging(){\r\n        const { user_name, password } = this.state\r\n        const { loginUser,logoutUser } = this.props\r\n        const last_visit = new Date()\r\n        \r\n        const visited = localStorage['visited']\r\n\r\n        this.toggleLogin()\r\n        if(this.props.isLoggedIn === false){\r\n            loginUser(user_name,password,last_visit,visited)\r\n        } else {logoutUser()}\r\n    }\r\n\r\n    toggleMenu(){\r\n        this.setState({isMenuOpen: !this.state.isMenuOpen})\r\n    }\r\n\r\n    async handleClick(signInName,signInPass,saveMyInfo) {\r\n        const { menuOpen } = this.props.user \r\n        const { user_name, password } = this.state\r\n        const visited = localStorage['visited']\r\n        const last_visit = new Date()\r\n        await this.props.loginUser(signInName,signInPass,last_visit,visited)\r\n\r\n        if (saveMyInfo === true && this.props.user.isLoggedIn === true) {\r\n            localStorage.setItem('user_name',signInName)\r\n        } else {localStorage.removeItem('visited')}\r\n        this.toggleLogin()\r\n        this.setState({user_name:'',password:''})\r\n    }\r\n\r\n    handleLogout() {\r\n        const { menuOpen } = this.props.user\r\n        const getUniqueID = () => {\r\n            const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n            return s4() + s4() + '-' + s4();\r\n          };\r\n        localStorage.removeItem(\"user_name\");\r\n        localStorage.setItem(\"visited\",getUniqueID())\r\n        this.toggleLogin()\r\n        this.props.logoutUser()\r\n    }\r\n\r\n    handleUserName(value){\r\n        this.setState({...this.state,user_name:value})\r\n    }\r\n\r\n    handlePassword(value){\r\n        this.setState({...this.state,password:value})\r\n    }\r\n\r\n    toggleLogin(){\r\n        const { loginOpen } = this.props.user\r\n        this.props.remoteLogin(!loginOpen)\r\n    }\r\n\r\n    setSaveSession() {\r\n        this.setState({saveSession:!this.state.saveSession})\r\n    }\r\n\r\n    render() {\r\n        const { saveSession, isMenuOpen, user_name } = this.state\r\n        const { isLoggedIn,isLoading,loginOpen } = this.props.user\r\n        const { photo,user } = this.props.user.user\r\n\r\n    return(\r\n        \r\n        <HeaderContainer>\r\n\r\n            {/* -- \"Loading\" display -- */}\r\n            {isLoading === true ? <Loading /> : null}\r\n\r\n            {/* ----- CD Logo ----- */}\r\n            <img onClick={this.viewTheWindow}\r\n                src={cdLabs3d}\r\n                className=\"cd-logo\"\r\n            />\r\n            <img onClick={this.viewTheWindow}\r\n                src={CDinits}\r\n                className=\"cd-logo-small\"\r\n            />\r\n            {/* -------------------- */}\r\n\r\n            <Link to=\"/\" style={{textDecoration: 'none', color:'#fff' }}><img className=\"mm3d-logo\" src={MM3D1}/></Link>\r\n            \r\n            {/* ---------- DESTOP NAV ---------------------------- */}\r\n            <ul className='desktop-nav'>\r\n                <Link to=\"/about\" style={{ textDecoration: 'none' }}><li className='link-item'><a >About</a></li></Link>\r\n                <Link to=\"/explore\" style={{ textDecoration: 'none' }}><li className='link-item'><a>Explore</a></li></Link>\r\n                {/* <li className='link-item'><a>Contact</a></li> */}\r\n                {!isLoggedIn ? (<div></div>) : (<Link to=\"/user\" style={{ textDecoration: 'none' }}><li className='link-item'><a>{user}</a></li></Link>)}\r\n                <a className='link-button' onClick={this.toggleLogin}>{!isLoggedIn ? 'Login' : 'logout'}</a>\r\n            </ul>\r\n            {/* -------------------------------------------------- */}\r\n\r\n\r\n            {/* ---------- MOBILE NAV / ITEMS ---------------------------- */}\r\n            <Hamburgers\r\n                onClick={this.toggleMenu}\r\n                isLoggedIn={isLoggedIn}\r\n                photo={photo}\r\n            />\r\n\r\n            <MobileNav\r\n                isMenuOpen={isMenuOpen}\r\n                isLoggedIn={isLoggedIn}\r\n                toggleLogin={this.toggleLogin}\r\n                toggleMenu={this.toggleMenu}\r\n             />\r\n\r\n            {/* <ul className={`mobile-nav ${isMenuOpen ? false : 'mobile-nav-hide'}`} style={{paddingTop:'10px'}} onClick={() => this.toggleMenu()} >\r\n\r\n                {!isLoggedIn ? (isMenuOpen === true ? \r\n                <li onClick={this.toggleLogin}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" style={{color:'#fff',marginLeft:'20[x'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\r\n                    </svg>\r\n                        <a>Login</a>\r\n                </li> : null)\r\n\r\n                :\r\n\r\n                (isMenuOpen === true ?  \r\n                <li onClick={this.toggleLogin}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" style={{color:'#fff',marginLeft:'20[x'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                    </svg>\r\n                    <a>Logout</a>\r\n                </li> : null)}\r\n\r\n                {isMenuOpen === true ? \r\n                <Link to=\"/about\" style={{ textDecoration: 'none' }}>\r\n                    <li >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                        </svg>\r\n                        <a>About</a>\r\n                    </li>\r\n                </Link> : null}\r\n\r\n                {isMenuOpen === true ?\r\n                <Link to=\"/explore\" style={{ textDecoration: 'none' }}>\r\n                    <li>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n                        </svg>\r\n                        <a>Explore</a>\r\n                    </li>\r\n                </Link> : null}\r\n\r\n                {!isLoggedIn === true && isMenuOpen === true ? (<div></div>)\r\n                : \r\n                (isMenuOpen === true ?\r\n                <Link to=\"/user\" style={{ textDecoration: 'none' }}>\r\n                    <li>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2\" />\r\n                        </svg>\r\n                        <a>My page</a>\r\n                    </li>\r\n                </Link> : null)}\r\n            </ul> */}\r\n            {/* ----------------------------------------------------------------- */}\r\n\r\n                {loginOpen ? (<MobileLogin current_user={user_name} setSaveSession={this.setSaveSession} logout={this.handleLogout} execute={this.handleClick} name={this.handleUserName} pass={this.handlePassword} hide={this.state.openLogin} exit={this.toggleLogin} isLoggedIn={this.props.user.isLoggedIn} saveSession={saveSession} />):(<div className=\"blank-div\"></div>)}\r\n        </HeaderContainer>\r\n          \r\n    )}\r\n} \r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {loginUser, logoutUser, updateUser, autoLogin, remoteLogin})(Header)","import axios from \"axios\";\r\n\r\nconst initialState = {\r\n  models: [],\r\n  featured:[],\r\n  // models: [],\r\n  isloading: false,\r\n};\r\n\r\nconst GET_MODELS = \"GET_MODELS\";\r\nconst GET_FEATURED = \"GET_FEATURED\"\r\n\r\nexport function getModels() {\r\n  return {\r\n    type: GET_MODELS,\r\n    // payload: axios.get(\"https://www.breakingbadapi.com/api/characters\")\r\n    payload: axios.get('/api/project/join')\r\n  };\r\n}\r\n\r\nexport function getFeatured() {\r\n  return {\r\n      type : GET_FEATURED,\r\n      payload: axios.get('api/featured/join')\r\n  };\r\n  \r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_MODELS + \"_PENDING\":\r\n      return {\r\n        ...state,\r\n        isloading: true,\r\n      }\r\n    case GET_MODELS + \"_FULFILLED\":\r\n      return {\r\n        ...state,\r\n        isloading: false,\r\n        models: action.payload.data\r\n      };\r\n    case GET_MODELS + \"_REJECTED\":\r\n      return {\r\n        ...state,\r\n        isloading: false\r\n      }\r\n    case GET_FEATURED + \"_PENDING\":\r\n      return {\r\n        ...state,\r\n        isloading:true,\r\n      }\r\n    case GET_FEATURED + \"_FULFILLED\":\r\n      return {\r\n        ...state,\r\n        isloading: false,\r\n        featured: action.payload.data\r\n      }\r\n    case GET_FEATURED + \"_REJECTED\":\r\n      return {\r\n        ...state,\r\n        isloading:false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { useState } from \"react\"\r\nimport './../App.css'\r\nimport './SVG.css'\r\n\r\nconst SVG = (params) => {\r\n\r\n    const styling ={\r\n        margin: 'auto',\r\n        marginLeft: '10px',\r\n        marginRight: '10px',\r\n        height: '40px',\r\n        width: '40px',\r\n        opacity: '60%',\r\n        color: '#6495ed',\r\n        paddingTop: '10px',\r\n    }\r\n\r\n    const xButton = () => {return <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />}\r\n\r\n    const downloadIcon = () => {return <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />}\r\n\r\n    const largeHeart = (dark) => {return (dark === 'dark' ? <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />:<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />)}\r\n\r\n    const comments = () => {return (<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />)}\r\n\r\n    const editProject = () => {return (<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />)}\r\n\r\n    const folder = () => {return (<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width={2} d=\"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\" />)}\r\n\r\n    const info = () => {return (<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />)}\r\n\r\n    const send = () => {return (<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />)}\r\n\r\n    const icon = (param) => {\r\n        switch (param) {\r\n            case \"download_icon\":\r\n                return (downloadIcon())\r\n            case \"large_heart\":\r\n                return (largeHeart())\r\n            // --- ICON BELOW NOT FULLY FUNCTIONAL --- //\r\n            case \"large_heart_dark\":\r\n                return (largeHeart('dark'))\r\n            // --------------------------------------- //\r\n            case 'edit_project':\r\n                return (editProject())\r\n            case 'comments':\r\n                return (comments())\r\n            case 'folder':\r\n                return (folder())\r\n            case 'info':\r\n                return (info())\r\n            case 'largeX':\r\n                return (xButton())\r\n            case 'send':\r\n                return (send())\r\n                \r\n        }\r\n    }\r\n\r\n    return (<div>\r\n        <svg \r\n        style={styling}\r\n        xmlns=\"http://www.w3.org/2000/svg\" \r\n        fill=\"none\" \r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        >\r\n            {icon(params.params)}\r\n        </svg>\r\n    </div>)\r\n\r\n}\r\n\r\nexport default SVG","import styled from \"styled-components\";\r\n\r\nexport const ProjectContainer = styled.section`\r\n    border-radius: 5px;\r\n    margin: 10px;\r\n    height: 350px;\r\n    width: 280px;\r\n    box-shadow: 0px 5px 20px -7px #000000;\r\n    background-color: #fff;\r\n    text-align: left;\r\n    display: flex;\r\n\tflex-direction: column;\r\n    justify-content: space-between;\r\n    overflow:hidden;\r\n\r\n    header {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-top: 5px;\r\n        margin: 0px;\r\n        opacity: .8;\r\n    }\r\n\r\n    @media (max-height:520px) {\r\n        height: 330px;\r\n    }\r\n\r\n    @media (max-width:1000px) {\r\n        width: 240px;\r\n        margin-left:0px;\r\n        margin-right:20px;\r\n\r\n        footer {a{\r\n            font-size: 12px;\r\n            font-weight: 400;\r\n        }}\r\n\r\n        h5 {font-size: 14px;}\r\n    }\r\n`\r\n\r\nexport const ProjectUserPhoto = styled.img`\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 50%;\r\n    margin-right: 5px;\r\n    margin-left: 10px;\r\n`\r\n\r\nexport const ProjectImageContainer = styled.section`\r\n    background-color: #000;\r\n    overflow: hidden;\r\n    margin-bottom: auto;\r\n    max-height: 160px;\r\n\r\n    img {\r\n        opacity: 0.7;\r\n        width: 280px;\r\n        max-height: 188px;\r\n        -webkit-transform: scale(2.15);\r\n        -ms-transform: scale(2.15);\r\n        transform: scale(1.15);\r\n        -webkit-transition: -webkit-transform 0.5s, opacity 0.5s;\r\n        transition: transform 0.5s, opacity 0.5s;\r\n        overflow: hidden;\r\n\r\n        &:hover {\r\n            opacity: 1;\r\n            -webkit-transform: scale(1.03);\r\n            -ms-transform: scale(1.03);\r\n            transform: scale(1.03);\r\n        }\r\n    }\r\n\r\n`\r\n\r\nexport const ProjectContainerFooter = styled.footer`\r\n    border-top:1px solid #555;\r\n    height: 200px;\r\n    display: flex;\r\n    align-items: center;\r\n    // background-color:blue;\r\n`\r\n\r\nexport const LikeShareContainer = styled.div`\r\n    margin-right: 15px;\r\n    padding-right: 1px;\r\n\r\n    aside {\r\n        border-left:1px solid #555555;\r\n        height: 40px;\r\n        width: 131px;\r\n        margin: none;\r\n        display: flex;\r\n        align-items: center;\r\n        color: #555;\r\n        font-size: 15px;\r\n\r\n        svg {\r\n            margin-left: 10px;\r\n            margin-bottom: 7px;\r\n        }\r\n    }\r\n\r\n    @media (max-width:1000px) {\r\n        margin-right: 15px;\r\n        padding-right: 1px;\r\n    }\r\n`","import React, { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { getModels } from '../../ducks/modelsReducer'\r\nimport { updateUser,remoteLogin } from '../../ducks/userReducer'\r\nimport SVG from '../SVG'\r\nimport '../SVG.css'\r\n\r\nimport { \r\n    ProjectContainer,\r\n    ProjectUserPhoto,\r\n    ProjectImageContainer,\r\n    LikeShareContainer,\r\n    ProjectContainerFooter\r\n } from './project.styles'\r\n\r\nconst Project = (props) => {\r\n\r\n    const { \r\n        firebase_url,\r\n        firebase_url01, \r\n        name, \r\n        user_name, \r\n        model_id,\r\n        photo_url, \r\n        user_id, \r\n        likes \r\n    } = props.data\r\n\r\n    const { \r\n        isLoggedIn,\r\n        id,\r\n        user_likes \r\n    } = props\r\n\r\n    const [numOfLikes, setNumOfLikes] = useState(0)\r\n    const [heart,setHeart] = useState(false) // for highlighting hearts if current user has already like this project\r\n\r\n    useEffect(() => {\r\n        \r\n        setNumOfLikes(likes)\r\n\r\n        if(checkIfLiked() === true && heart === false) {\r\n            setHeart(true)\r\n        }\r\n\r\n    },[])\r\n\r\n    const plsSignIn = () => {\r\n        window.scrollTo(0, 0)\r\n        props.remoteLogin(true)\r\n    }\r\n\r\n    const likeFunc = async (id,m_id) => {\r\n        const user_id = id\r\n        const model_id = m_id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        await updateLikes(model_id)\r\n        await setHeart(!heart)\r\n        await checkIfLiked(heart)\r\n    }\r\n\r\n    const updateLikes = async (params) => {\r\n        console.log('params',params)\r\n        axios.get(`/api/like/update/${params}`).then(res => {\r\n            const { likes } = res.data[0]\r\n            setNumOfLikes(likes)\r\n        })\r\n    }\r\n\r\n    const clickedLike = () => {\r\n       if (isLoggedIn === true && id != undefined) {likeFunc(id,model_id)} else {plsSignIn()}\r\n    }\r\n\r\n    const checkIfLiked = (params) => {\r\n        if (props.projectIsLiked(model_id,user_likes) === true){ return(true) } else { return(false) } \r\n    }\r\n\r\n    const getPhotoUrl = () => {\r\n        const { user_photo_url } = props\r\n        if (photo_url != undefined) {\r\n            return(photo_url)\r\n        } else return(user_photo_url)\r\n    }\r\n\r\n    const getUserName = () => {\r\n        const { current_user_name } = props\r\n        if (user_name != undefined) {\r\n            return(user_name)\r\n        } else return(current_user_name)\r\n    }\r\n\r\n    return(\r\n        <ProjectContainer>\r\n\r\n            <header style={{backgroundColor:''}}>\r\n                <Link to={`/viewuser/${user_id}`} ><ProjectUserPhoto src={getPhotoUrl()}/></Link>\r\n                <h5 className='dark-text' style={{color:'#555',paddingBottom:'15px',paddingTop:'',fontWeight:'400'}}>{name}\r\n                    <br/><i>by {getUserName()}</i>\r\n                </h5>\r\n            </header>\r\n\r\n            <Link to={`/projectdetails/${model_id}`}>\r\n                <ProjectImageContainer>\r\n                    <img src={firebase_url01}/>\r\n                </ProjectImageContainer>\r\n            </Link>\r\n\r\n            <ProjectContainerFooter>\r\n\r\n                <div onClick={() => isLoggedIn === true ? window.open(firebase_url) : plsSignIn()} >\r\n                    <SVG params={'download_icon'} fill={'none'} stroke={'currentColor'}/>\r\n                </div>\r\n                    \r\n                { isLoggedIn ? \r\n                <a \r\n                    style={{marginRight:'10px',textDecoration:'none'}} \r\n                    href={`${firebase_url}`} \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\"\r\n                >\r\n                    download\r\n                </a>\r\n                    : \r\n                <a \r\n                    style={{marginRight:'10px',color:'#555'}} \r\n                    onClick={() => plsSignIn()}\r\n                >\r\n                    download\r\n                </a>\r\n                }\r\n\r\n                <LikeShareContainer>\r\n            \r\n                    <aside style={{borderBottom:'1px solid #555'}}>\r\n                        {\r\n                        heart === false ?\r\n                \r\n                        \r\n                        <svg className=\"small-icon\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" fill='none' viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"  />\r\n                        </svg>\r\n                            :\r\n                        <svg className=\"small-icon\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                        }\r\n                        \r\n                        <p style={{marginLeft:'10px'}}>{numOfLikes}</p>\r\n                    </aside>\r\n\r\n                    <aside>\r\n                        <svg className=\"small-icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                        </svg>\r\n                        <p style={{marginLeft:'10px'}}>share</p>\r\n                    </aside>\r\n\r\n                </LikeShareContainer>\r\n            \r\n            </ProjectContainerFooter>\r\n        </ProjectContainer>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { getModels,updateUser,remoteLogin })(Project)","import ReactPlayer from 'react-player'\r\nimport './VideoPlayer.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst VideoPlayer = (props) => {\r\n\r\n    const { video_url,firebase_url,category,tag,photo_url,user_name,name,video_name } = props\r\n    \r\n    return(\r\n        <div className='player-container' >\r\n            <header className='video-title' >\r\n                <img className='video-user-photo' src={photo_url} />\r\n                <div className='vidnm-and-usrnm' > <h4 className=\"dark-text video-nm-txt\" >{name === 'dummy project' ? video_name : name}</h4><i style={{marginRight:'60px'}} >Video by {user_name}</i> </div>\r\n            </header>\r\n            <div className='' style={{marginTop:'50px'}} >\r\n\r\n                <div className='reg-size' >\r\n                    <ReactPlayer\r\n                        className='react-player'\r\n                        url={video_url}\r\n                        width='298px'\r\n                        height='191px'\r\n                        controls={true}\r\n                    />\r\n                </div>\r\n\r\n                <div className='small-size' >\r\n                    <ReactPlayer\r\n                        className='react-player'\r\n                        url={video_url}\r\n                        width='240px'\r\n                        height='150px'\r\n                        controls={true}\r\n                    />\r\n                </div>\r\n\r\n            <div className='video-info-container' >\r\n                <header className='video-header' >\r\n                    <p className='video-header-text' >{category}: {tag}</p>\r\n                </header>\r\n            {firebase_url === null ? <p className='video-container-text' >\r\n\r\n                There are no files associated with this video\r\n\r\n                </p> : <p className='video-container-text' >\r\n\r\n                Click <a href={firebase_url} >here</a> to download the files used in this video \r\n\r\n                </p>}\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoPlayer","export default __webpack_public_path__ + \"static/media/blender_background.a862b66c.png\";","import styled, { css } from \"styled-components\";\r\nimport BlenderImage from './blender_background.png'\r\n\r\nexport const Hero = styled.section`\r\n    position:relative;\r\n    height: 90vh;\r\n    width: 100vw;\r\n    background-image: linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0)),url(${BlenderImage});\r\n    background-size: cover; \r\n    background-position: center bottom;\r\n    background-attachment: fixed;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    align-items: baseline;\r\n    // overflow-x: scroll;\r\n    overflow:hidden;\r\n    border-bottom: solid 20px #6495ed;\r\n\r\n    @media (max-width:300px) {\r\n        min-width: 300px;\r\n    }\r\n\r\n    @media (min-height:700px) {\r\n        height: 92vh;\r\n    }\r\n\r\n    @media (min-height:850px) {\r\n        height: 94vh;   \r\n    }\r\n`\r\n\r\nexport const HeroH2 = styled.h2`\r\n    width: 100vw;\r\n\r\n    @media (max-width:400px) {display:none;}\r\n    @media (max-height:525px) {display:none;}\r\n`\r\n\r\nexport const CarouselRail = styled.section`\r\n    position:relative;\r\n    height: 70vh;\r\n    width: 100vw;\r\n    // display: flex;\r\n    // align-items: center;\r\n    overflow: none;\r\n    z-index: 0;\r\n    margin-left:10px;\r\n\r\n    @media (max-width:350px) {\r\n        width:240px;\r\n        height:370px;\r\n        overflow:hidden;\r\n        margin:auto;\r\n    }\r\n`\r\n\r\nexport const Carousel = styled.section`\r\n    position:absolute;\r\n    min-width:100vw;\r\n    height:100%;\r\n    // background-color:green;\r\n    display:flex;\r\n    flex-direction:row;\r\n    align-items:center;\r\n    left:${({positionCounter}) => positionCounter}px;\r\n    transition:all 1000ms;\r\n`\r\n\r\nconst button = css`\r\n    border-radius:50%;\r\n    position:absolute;\r\n    z-index:1000000000000000000000;\r\n    // top:80%;\r\n    border:solid #fff 1px;\r\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, .7);\r\n    height:50px;\r\n    width:50px;\r\n`\r\n\r\nexport const LeftSlideButton = styled.button`\r\n    ${button}\r\n    left:3px;\r\n`\r\n\r\nexport const RightSlideButton = styled.button`\r\n    ${button}\r\n    right:3px;\r\n    `","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n// import './Home.css'\r\nimport { connect } from 'react-redux'\r\nimport { loginUser,updateUser } from '../../ducks/userReducer'\r\nimport { getModels,getFeatured } from '../../ducks/modelsReducer'\r\nimport Loading from '../Loading/Loading'\r\nimport Project from '../Project/Project'\r\nimport VideoPlayer from '../VideoPlayer/VideoPlayer'\r\nimport { RightArrow,LeftArrow } from '../SVG2'\r\nimport { \r\n    Hero,\r\n    HeroH2,\r\n    CarouselRail,\r\n    Carousel,\r\n    RightSlideButton, \r\n    LeftSlideButton\r\n} from './home.styles'\r\n\r\nclass Home extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            projects:[],\r\n            videos:[],\r\n            user_name:'',\r\n            password:'',\r\n            userLikes:null,\r\n            loading:false,\r\n            positionCounter:0\r\n        }\r\n        this.stateHandler = this.stateHandler.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getFeaturedVideos()\r\n    }\r\n\r\n    getFeaturedVideos = async () => {\r\n        this.setLoading()\r\n        await this.props.getFeatured()\r\n        await axios.get('/api/videos/featured').then(res2 => {\r\n            this.setState({\r\n                videos:res2.data,\r\n                loading:false\r\n            })\r\n        })\r\n    }\r\n\r\n    setLoading() {\r\n        this.setState({loading:!this.state.loading})\r\n    }\r\n\r\n    stateHandler(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { loading, videos, positionCounter } = this.state\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_likes,model_likes } = this.props.user.user\r\n        const { featured } = this.props.models\r\n\r\n        const mappedModels = featured.map(element => {\r\n            return <Project data={element} key={element.model_id} projectIsLiked={this.projectIsLiked} isLoggedIn={isLoggedIn} model_likes={model_likes} likes={element.likes} id={element.user_id} user_likes={user_likes} />\r\n        })\r\n\r\n        const mappedVideos = videos.map(el => {\r\n            return <VideoPlayer key={el.video_id} video_url={el.video_url} category={el.category} tag={el.tag} firebase_url={el.firebase_url} photo_url={el.photo_url} user_name={el.user_name} name={el.name} video_name={el.video_name} />\r\n        })\r\n\r\n        return(\r\n                <Hero>\r\n                    \r\n                    {!loading ? true : <Loading />}\r\n\r\n                    <HeroH2 className=\"\">IMAGINE IT - BUILD IT.</HeroH2>\r\n\r\n                    <CarouselRail>\r\n                        <Carousel positionCounter={positionCounter}>\r\n                            {mappedVideos}\r\n                            {mappedModels}\r\n                        </Carousel>\r\n                    </CarouselRail>\r\n\r\n                    {positionCounter < 0 && \r\n                        <LeftSlideButton onClick={() => this.stateHandler('positionCounter',positionCounter+260)}>\r\n                            {LeftArrow()}\r\n                        </LeftSlideButton>\r\n                    }\r\n\r\n                    {positionCounter >= ((mappedVideos.length+mappedModels.length-2)*-260) && \r\n                        <RightSlideButton \r\n                            onClick={() => this.stateHandler('positionCounter',positionCounter-260)}\r\n                        >\r\n                            {RightArrow()}\r\n                        </RightSlideButton>\r\n                    }\r\n\r\n                </Hero>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser,getModels,getFeatured })(Home)","import { useState, useEffect } from 'react'\r\nimport './GroupPage.css'\r\n\r\nconst GroupPage = (props) => {\r\n\r\n    return(\r\n        <div className=\"group-page\">\r\n            <ul>\r\n                {/* {mappedPeople} */}\r\n            </ul>\r\n            <h3>group page</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupPage","import axios from 'axios'\r\n\r\nconst inititialState = {\r\n    projects:{},\r\n    isloading:true,\r\n};\r\n\r\nconst GET_PROJECTS = \"GET_PROJECTS\";\r\n\r\nexport function getProjects() {\r\n    return {\r\n        type: GET_PROJECTS,\r\n        payload: axios.get('/api/projects/all')\r\n    };\r\n}\r\n\r\nexport default function projectsReducer(state = inititialState, action) {\r\n    switch (action.type) {\r\n        case GET_PROJECTS + '_PENDING':\r\n            return { ...state, isloading: true }\r\n        case GET_PROJECTS + \"_FULFULLED\":\r\n            return { \r\n                ...state,\r\n                isloading: false,\r\n                projects: action.payload.data\r\n            };\r\n            case GET_PROJECTS + '_REJECTED':\r\n                return {\r\n                    ...state, isloading: false\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport firebase from 'firebase/app'\r\n// import \"firebase/storage\"\r\n// import baseBackend from './baseBackend'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB6ImzEUWfnyXD6bcpNEN8ktaMSfos8Js0\",\r\n    authDomain: \"depot-7bb3e.firebaseapp.com\",\r\n    projectId: \"depot-7bb3e\",\r\n    storageBucket: \"depot-7bb3e.appspot.com\",\r\n    messagingSenderId: \"38861699624\",\r\n    appId: \"1:38861699624:web:b1d9abfce822f3a4d2531d\",\r\n    // appId: \"1:38861699624:web:88599df2268262afd2531d\",\r\n    measurementId: \"G-DSTFFPFHLD\"\r\n  };\r\n\r\nexport const app = firebase.initializeApp(firebaseConfig);\r\n\r\n// -------the code below controls firebase realtime database -----//\r\n\r\n// var database = firebase.database();\r\n\r\n// var ref = database.ref('name')\r\n\r\n// the code below will push object to realtime database-for testing purposes\r\n\r\n// var data = {\r\n//     item1:\"stuff\",\r\n//     item2:\"morestuff\"\r\n// }\r\n\r\n// ref.push(data)\r\n\r\n\r\n// ----- security rules ------ //\r\n// rules_version = '2';\r\n// service firebase.storage {\r\n//   match /b/{bucket}/o {\r\n//     match /{allPaths=**} {\r\n//       allow read, write;\r\n//     }\r\n//   }\r\n// }","// import axios from 'axios'\r\nimport {app} from '../base'\r\nconst db = app.firestore()\r\n\r\nconst inititialState = {\r\n    isLoading:false,\r\n    url:{},\r\n    error:false\r\n}\r\n\r\nconst DELETE_FILE = 'DELETE_FILE'\r\nconst ADD_TO_FIREBASE = 'ADD_TO_FIREBASE'\r\nconst REF_FROM_URL = 'REF_FROM_URL'\r\n\r\nexport const getRefFromUrl = (url) => {\r\n    const ref = app.storage().refFromURL(url).fullPath.split('/').slice(0, -1).join('/')\r\n    return {\r\n        type:REF_FROM_URL,\r\n        payload:ref\r\n    }\r\n}\r\n\r\nexport const deleteFile = (url) => {\r\n    const storageRef = app.storage().refFromURL(url)\r\n    return {\r\n        type: DELETE_FILE,\r\n        payload:storageRef.delete().then(function deleted(params) {})\r\n    }\r\n}\r\n\r\nexport const addNewModel = (file,path) => {\r\n    // create ref\r\n    const ref = app.storage().ref(path).child(file.name).put(file) // example path: `madmodels/projects/${id}/`\r\n    return {\r\n        type:ADD_TO_FIREBASE,\r\n        payload: ref\r\n    }\r\n}\r\n\r\nexport default function firebaseReducer(state = inititialState, action) {\r\n    switch(action.type) {\r\n        case REF_FROM_URL+ '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case REF_FROM_URL + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                url:action.payload\r\n            }\r\n        case REF_FROM_URL + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true,\r\n            }\r\n        // -- delete image -- //\r\n        case DELETE_FILE + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case DELETE_FILE + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false\r\n            }\r\n        case DELETE_FILE + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true\r\n            }\r\n        // --- add file --- //\r\n        case ADD_TO_FIREBASE + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case ADD_TO_FIREBASE + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                url:action.payload\r\n            }\r\n        case ADD_TO_FIREBASE + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true\r\n            }            \r\n        default:\r\n            return state;\r\n    }\r\n}","import styled from \"styled-components\";\r\n\r\nexport const ImagePreviewContainer = styled.section`\r\n    position: fixed;\r\n    top: 100px;\r\n    height: 350px;\r\n    width: 400px;\r\n    z-index: 1000;\r\n\r\n    @media(max-width:700px){\r\n        width: 298px;\r\n\r\n        img {\r\n            width: 100%;\r\n            box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\r\n        }\r\n    }\r\n`\r\n\r\nexport const EditFileButton = styled.button`\r\n    position: absolute;\r\n    background: linear-gradient(0turn,#5077be,#6495ed);\r\n    height: 50px;\r\n    width: 200px;\r\n    border-radius: 2px;\r\n    font-size: 14px;\r\n    border:solid 1px #3c598e;\r\n    z-index: 0;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: stretch;\r\n    color: #fff;\r\n\r\n    @media (max-width:700px) {\r\n        height: 25px;\r\n        width: 80px;\r\n        \r\n`","import { \r\n    ImagePreviewContainer,\r\n    EditFileButton \r\n} from './preview.styles'\r\n\r\nconst ImagePreview = (props) => {\r\n\r\n    const { previewImageFile,photo_url }= props\r\n\r\n    const addNewHandler = async () => {\r\n        await props.addPhoto(photo_url)\r\n        await clearState()\r\n    }\r\n\r\n    const clearState = () => {\r\n        props.handleInput('previewImageFile',null)\r\n        props.handleInput('photo_url',null)\r\n    }\r\n\r\n    return(\r\n        <ImagePreviewContainer>\r\n            <img src={previewImageFile}/>\r\n            <EditFileButton style={{width:'50%'}} onClick={() => addNewHandler()} >Submit</EditFileButton>\r\n            <EditFileButton style={{right:'0px',width:'50%'}} onClick={() => clearState(['string'])} >Cancel</EditFileButton>\r\n        </ImagePreviewContainer>\r\n    )\r\n}\r\n\r\nexport default ImagePreview","import axios from 'axios';\r\nimport React, { Component } from 'react'\r\nimport './EditModel.css'\r\nimport Loading from '../../Loading/Loading';\r\nimport ImagePreview from '../ProjectPhotos/ImagePreview/preview.component';\r\nimport { addNewModel,deleteFile,getRefFromUrl } from '../../../ducks/firebaseReducer';\r\nimport { connect } from 'react-redux';\r\nimport Resizer from 'react-image-file-resizer'\r\n\r\nconst addImageEndpoint = '/api/project/photos/put'\r\nconst deleteProjectEndpoint = '/api/project/delete/'\r\nconst updateFileEndpoint = '/api/project/update/file'\r\nconst updateProjectTextEndpoint = '/api/project/edit/name'\r\n\r\nclass EditModel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            name:this.props.info.name,\r\n            user_id:this.props.info.user_id,\r\n            description:this.props.info.description,\r\n            photo_url:null,\r\n            file_url:null,\r\n            isLoading:false,\r\n            imageUr1:null,\r\n            openDeleteConfirm:false,\r\n            isLoading:false,\r\n            previewImageFile:null,\r\n            isDeleted:false,\r\n            newImage:''\r\n        }\r\n        this.handleInput = this.handleInput.bind(this)\r\n        this.executeChange = this.executeChange.bind(this)\r\n        this.fileHandler = this.fileHandler.bind(this)\r\n        this.addPhoto = this.addPhoto.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.removeFileFromSpace = this.removeFileFromSpace.bind(this)\r\n        this.confirmDelete = this.confirmDelete.bind(this)\r\n        this.newModelToDB = this.newModelToDB.bind(this)\r\n        this.replaceModelFile = this.replaceModelFile.bind(this)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // const { previewImageFile,hideButtons,file_url } = this.state\r\n        // if(previewImageFile != null && hideButtons === false) {\r\n        //     this.setState({hideButtons:!this.state.hideButtons})\r\n        // } else this.setState({hideButtons:false})\r\n        // else if (previewImageFile === null && hideButtons === true) {\r\n        //     this.setState({hideButtons:!this.state.hideButtons})\r\n        // }\r\n    }\r\n\r\n    //  ----- Permanently Delete Selected Project ---- //\r\n    removeFileFromSpace = async () => {\r\n        const { firebase_url,model_id } = this.props.info\r\n        this.setIsLoading()\r\n        // -- delete main file -- //\r\n        if(firebase_url != null){\r\n            await this.props.deleteFile(firebase_url)\r\n        }\r\n        // -- delete associated images -- //\r\n        await this.deleteAllImages(true)\r\n        // -- delete from DB -- //\r\n        await axios.delete(`${deleteProjectEndpoint}${model_id}`)\r\n        this.setIsLoading()\r\n        this.props.setIsDeleted()\r\n    }\r\n\r\n    // -- Delete All Images Upon Project Deletion -- //\r\n    deleteAllImages = (confirm) => {\r\n        const { modelImages } = this.props\r\n        var strings = [...modelImages]\r\n        if (confirm === true){\r\n            strings.map(el => {\r\n                this.props.deleteFile(el.photo_url)\r\n            })\r\n        }\r\n    }\r\n\r\n    // -- Replace Existing Model File -- //\r\n    replaceModelFile = async () => {\r\n        const { photo_url,file_url } = this.state\r\n        const { model_id,firebase_url } = this.props.info\r\n        const { user_id } = this.props\r\n        this.setIsLoading()\r\n\r\n        const refFromURL = await this.props.getRefFromUrl(firebase_url).payload // project url\r\n        try {\r\n            await this.props.deleteFile(firebase_url)\r\n        } catch(err) {\r\n            console.log('this file doesnt exist')\r\n        } // delete current file\r\n        const newModel = await this.props.addNewModel(file_url,refFromURL) // add new file\r\n        const modelUrl = await newModel.action.payload.ref.getDownloadURL() // url to DB\r\n        await this.newModelToDB(model_id,modelUrl)\r\n\r\n        this.setIsLoading()\r\n    }\r\n\r\n    newModelToDB = (model_id,url) => {\r\n        axios.post(updateFileEndpoint, {url,model_id})\r\n    }\r\n\r\n    fileHandler = async (e,preview,photo_url) => {\r\n        const file = e.target.files[0]\r\n        this.setState({\r\n            [photo_url]:file,\r\n            [preview]:URL.createObjectURL(file)\r\n        })\r\n    }\r\n\r\n    handleInput(prop,val){\r\n        // console.log('handle input',prop,val)\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    handlePhoto = async (e) => {\r\n        // const photo = e.target.files[0]\r\n        var fileInput = false;\r\n\r\n        if (e.target.files[0]) {\r\n            fileInput = true\r\n        }\r\n\r\n        if (fileInput) {\r\n            try {\r\n                Resizer.imageFileResizer(\r\n                    e.target.files[0],\r\n                    400,\r\n                    267,\r\n                    \"JPEG\",\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                        console.log(uri,'uri')\r\n                        this.setState({\r\n                            previewImageFile:URL.createObjectURL(uri),\r\n                            photo_url:uri\r\n                        })\r\n                    },\r\n                    \"file\",\r\n                    298,\r\n                    191\r\n                );\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    passNewPhotoToFB = async () => {\r\n        const { photo_url  } = this.state\r\n        this.addPhoto(photo_url)\r\n        this.setState({previewImageFile:null})\r\n        await this.props.getImages()\r\n    }\r\n\r\n    addPhoto =  async (url) => {\r\n        const { model_id,info } = this.props\r\n        const { user_id,name } = info\r\n        // const name = null\r\n        this.setIsLoading() // -- init loading screen\r\n        \r\n        const cloudFile = await this.props.addNewModel(url,`madmodels/projects/${user_id}/${name}/`)\r\n        const photo_url = await cloudFile.action.payload.ref.getDownloadURL()\r\n         \r\n\r\n        // -- fetch and store photo url -- //\r\n        await axios.post(addImageEndpoint,{model_id,name,photo_url})\r\n\r\n        // -- render new images -- //\r\n        await this.props.getImages()\r\n        this.setState({previewImageFile:null})\r\n        this.setIsLoading() // -- exit loading screen\r\n    }\r\n\r\n    executeChange = async () => {\r\n        const { model_id } = this.props.info\r\n        const { name, description } = this.state\r\n        this.setIsLoading()\r\n        await axios.post(updateProjectTextEndpoint, {name,description,model_id})\r\n        this.setIsLoading()\r\n        this.props.getDetails()\r\n    }\r\n\r\n    confirmDelete = () => {\r\n        this.setState({openDeleteConfirm:!this.state.openDeleteConfirm})\r\n    }\r\n\r\n    render() {\r\n        const { \r\n            previewImageFile,\r\n            isLoading,\r\n            openDeleteConfirm,\r\n            photo_url,\r\n            description,\r\n            name,\r\n            file_url,\r\n        } = this.state\r\n\r\n        return(            \r\n            <div className=\"edit-project-container\" >\r\n                \r\n                {isLoading ? <Loading/> : null}\r\n\r\n                    {/* ---- Delete Project ---- */}\r\n                    <button\r\n                        style={{width:'30px',height:'20px',fontSize:'10px',marginLeft:'85%',marginTop:'10px'}}\r\n                        onClick={() => this.confirmDelete()}\r\n                        >delete\r\n                    </button>\r\n\r\n                    {!openDeleteConfirm ? null :\r\n                    <div  className='select-delete'>\r\n                        <p onClick={() => this.removeFileFromSpace()} >yes</p>\r\n                        <p onClick={() => this.confirmDelete()}>no</p>\r\n                    </div>}\r\n                    {/* ------------------------- */}\r\n                \r\n                <div className='section-title'><p style={{color:'#555'}}>Add Image / Update File</p></div>\r\n\r\n                {previewImageFile &&\r\n                <ImagePreview \r\n                    previewImageFile={previewImageFile} \r\n                    photo_url={photo_url} \r\n                    addPhoto={this.addPhoto} \r\n                    handleInput={this.handleInput} \r\n                />}\r\n\r\n                 {file_url ?\r\n                <section className={`replace-file-warning`}>\r\n                        <h4>replace file?</h4>\r\n                        <span  className='select-delete' style={{height:'50px',backgroundColor:'#5077be'}} >\r\n                            <p className='delete-button-txt' onClick={() => this.replaceModelFile()} >yes</p>\r\n                            <p className='delete-button-txt'\r\n                            onClick={() => this.handleInput('file_url',null)}\r\n                            >no</p>\r\n                        </span>\r\n                </section>\r\n                 : null}\r\n\r\n                <section className='edit-project-row row-x' style={{height:'30px',color:'#555'}} >\r\n\r\n                    {previewImageFile === null && file_url ===null  ? <div className='edit-file-input-box '>\r\n                        <div className='edit-file-button ' ><p>Add Image</p></div>\r\n                        <input className='fake-input-file '\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\"image/png,image/jpeg\"\r\n                        // onChange={e => this.fileHandler(e,'previewImageFile','photo_url')} \r\n                        onChange={e => this.handlePhoto(e)} \r\n                        />\r\n                    </div> : null}\r\n\r\n                    {previewImageFile === null && file_url ===null ? <div className='edit-photo-input-box' >\r\n                        <div className='edit-file-button' ><p>New File</p></div>\r\n                        <input className='fake-input-file'\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\".blend,.stl\"\r\n                        onChange={e => this.fileHandler(e,null,'file_url')} \r\n                        />\r\n                    </div> : null}\r\n\r\n                </section>\r\n\r\n                <section className='edit-project-row text-input-row'>\r\n\r\n                    <div className='input-left-column'>\r\n\r\n                        <div className='section-title'><p style={{color:'#555'}}>Name</p></div>\r\n                        <input value={name} className=\"text-input\" onChange={e => this.handleInput('name',e.target.value)} ></input>\r\n                        <div className='section-title'><p style={{color:'#555'}}>Description</p></div>\r\n                        <textarea name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" placeholder='text' value={description} className=\"text-input input-description\" onChange={e => this.handleInput('description',e.target.value)} > </textarea>\r\n\r\n                    </div>\r\n\r\n                </section> \r\n                <div className='section-title'><p style={{color:'#555'}}>Submit Changes / Delete</p></div>\r\n                    {previewImageFile === null && file_url ===null ? <div className='edit-file-button' style={{position:'relative',marginTop:'10px',height:'30px',width:'80px'}} onClick={() => this.executeChange()} ><p>Submit</p></div> : null}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// export default EditModel\r\n\r\nconst mapStateToProps = (reduxState) => {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {addNewModel,deleteFile,getRefFromUrl} )(EditModel)","import styled, {css} from \"styled-components\";\r\n\r\nexport const CreateContainer = styled.section`\r\n\r\n    height: 450px;\r\n    width: 300px;\r\n    border-radius: 3%;\r\n    background-color: #fff;\r\n    color: #555;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-wrap: nowrap;\r\n\tjustify-content: flex-start;\r\n    align-items: flex-start;\r\n\talign-content: center;\r\n    top: 5vh;\r\n\tflex-direction: column;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: flex-start;\r\n\talign-items: flex-start;\r\n    position: fixed;\r\n    z-index:10;\r\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\r\n    margin: none;\r\n    overflow: hidden;\r\n`\r\n\r\nexport const CreateHead = styled.header`\r\n    color: #fff;\r\n    position: absolute;\r\n    text-transform: none;\r\n    top: -1px;\r\n    height: 80px;\r\n    width: 100%;\r\n    background: linear-gradient(0turn,#5077be,#6495ed);\r\n    padding-top: 10%;\r\n    margin: none;\r\n    transition: all 100ms;\r\n\r\n    h2 {text-transform:none;}\r\n`\r\n\r\nexport const CreateForm = styled.form`\r\n    position: absolute;\r\n    height: 300px;\r\n    width: 100%;\r\n    bottom: 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    align-content: flex-start;\r\n    transition: all 100ms;\r\n`\r\n\r\nexport const CreateRow = styled.div`\r\n    width: 100%;\r\n    height: 300px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n`\r\n\r\nexport const CreateSectionTitle = styled.header`\r\n    opacity: .5;\r\n    height: 20px;\r\n    width: 100%;\r\n    border-top: solid 1px #6495ed;\r\n    margin-top: 10px;\r\n    text-align: left;\r\n    margin-left: 5px;\r\n    font-size: x-small;\r\n    font-weight: 600;\r\n`\r\n\r\nexport const SelectFile = css`\r\n    opacity: .01;\r\n    left: 5px;\r\n    bottom: 5px;\r\n    width: 150%;\r\n    height: 27%;\r\n    z-index: 1;\r\n`","import styled from \"styled-components\"\r\nimport { SelectFile } from \"../create.styles\"\r\n\r\nexport const AddFileContainer = styled.div`\r\n    position: absolute;\r\n    height: 80px;\r\n    width: 100%;\r\n    display: flex;\r\n\tflex-direction: row;\r\n\tflex-wrap: nowrap;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\talign-content: stretch;\r\n    overflow: none;\r\n`\r\n\r\nexport const AddFileButton = styled.button`\r\n    margin-bottom: 50px;\r\n    margin-left: 45px;\r\n    height: 25px;\r\n    width: 200px;\r\n    border-radius: 2px;\r\n    font-size: 18px;\r\n    border:solid 1px #3c598e;\r\n    z-index: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\n\r\nexport const InputFile = styled.input`\r\n    position: absolute;\r\n    top: 10px;\r\n    height: 40px;\r\n    width: 300px;\r\n    color: #555;\r\n    z-index: 10000;\r\n    ${SelectFile}\r\n`","import { \r\n    AddFileButton,\r\n    AddFileContainer,\r\n    InputFile\r\n} from \"./add.styles\"\r\n\r\nconst AddFile = ({handleFile,getFileName}) => {\r\n\r\n    return (\r\n        <AddFileContainer>\r\n            <div>\r\n                <AddFileButton\r\n                >\r\n                    {getFileName()}\r\n                </AddFileButton>\r\n\r\n                <InputFile\r\n                    style={{marginLeft:'40px'}}\r\n                    type=\"file\"\r\n                    accept=\".blend,.stl\"\r\n                    onChange={e => handleFile(e)} \r\n                />\r\n            </div>\r\n        </AddFileContainer>\r\n    )\r\n}\r\n\r\nexport default AddFile","import styled from \"styled-components\";\r\n\r\nexport const CreateInputBox = styled.div`\r\n    position: relative;\r\n    height: 90px;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    align-content: center;\r\n\r\n    img {\r\n        width:80px;\r\n        height:80px;\r\n        border-radius:10px;\r\n        margin-left:35%;\r\n        margin-bottom:0px;\r\n        // background-color:yellow;\r\n    }\r\n\r\n    input[type='file']\r\n    {\r\n        text-indent: -999em;\r\n        outline: none;\r\n        position: absolute;\r\n        left: 20%;\r\n        opacity: .1;\r\n        height: 80px;\r\n        width: 80px;\r\n        z-index: 10000;\r\n    }\r\n    `","import { CreateInputBox } from \"./add-photo.styles\";\r\n\r\nconst AddPhoto = ({previewImageFile,handlePhoto}) => {\r\n    \r\n    return (\r\n        <CreateInputBox>\r\n   \r\n            <img src={previewImageFile} />\r\n\r\n            <input\r\n                style={{marginLeft:'40px'}}\r\n                type=\"file\"\r\n                accept=\"image/png,image/jpeg\"\r\n                onChange={e => handlePhoto(e)}\r\n            />\r\n\r\n        </CreateInputBox>\r\n    )\r\n}\r\n\r\nexport default AddPhoto","import './CreateProject.css'\r\nimport React, { Component } from 'react'\r\n\r\nimport { \r\n    CreateContainer,\r\n    CreateHead,\r\n    CreateForm,\r\n    CreateRow,\r\n    CreateSectionTitle\r\n } from './create.styles';\r\n\r\n import AddFile from './AddFile/add.component';\r\n import AddPhoto from './AddPhoto/add-photo.component';\r\n\r\n import { CloseX } from '../../SVG2';\r\n\r\nclass CreateProject extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            description:'',\r\n            name:'',\r\n            previewImageFile:null\r\n        }\r\n        this.getFileName = this.getFileName.bind(this)\r\n    }\r\n\r\n    getFileName = () => {\r\n        if (this.props.file != null) {\r\n            return(this.props.file.name)\r\n        } else return(\"Add File\")\r\n    }\r\n\r\n    render() {\r\n\r\n        // const { previewImageFile,previewModelFile,name } = this.state\r\n\r\n        return(\r\n            <CreateContainer>\r\n\r\n                <CreateHead>\r\n                    <CloseX onClick={() => this.props.resetView()} />\r\n                    <h2 >Create a project</h2>\r\n                </CreateHead>\r\n\r\n                <CreateForm onSubmit={(e) => this.props.createNewProject(e)}>\r\n\r\n                    <CreateRow>\r\n                        <AddFile\r\n                            getFileName={this.getFileName}\r\n                            handleFile={this.props.handleFile}\r\n                        />\r\n                    </CreateRow>\r\n\r\n                    {this.props.file  && \r\n                    <CreateRow>\r\n                        <CreateSectionTitle>\r\n                            <p>Add Photo</p>\r\n                        </CreateSectionTitle>\r\n\r\n                        <AddPhoto\r\n                            handlePhoto={this.props.handlePhoto}\r\n                            previewImageFile={this.props.previewImageFile}\r\n                        />\r\n\r\n                    </CreateRow>}\r\n\r\n                    <CreateSectionTitle>\r\n                        <p>Name and description</p>\r\n                    </CreateSectionTitle>\r\n\r\n\r\n\r\n                    <input placeholder=\"Name\" \r\n                        className=\"log-input log-form-length disabled\" \r\n                        style={{marginBottom:'5px',marginTop:'21px'}} \r\n                        required\r\n                        onChange={e => this.props.handleAddText('projectName',e.target.value)} \r\n                    />\r\n\r\n                    <textarea\r\n                        placeholder='description' \r\n                        name=\"text\" \r\n                        rows=\"5\" \r\n                        cols=\"50\" \r\n                        wrap=\"soft\" \r\n                        className=\"text-input input-description\" \r\n                        onChange={e => this.props.handleAddText('projectDescription',e.target.value)} \r\n                        >\r\n                    </textarea>\r\n                    \r\n                    {this.props.file && \r\n                    <button \r\n                        style={{marginTop:'10px'}}\r\n                        type=\"submit\"\r\n                    >\r\n                            Submit\r\n                    </button>}\r\n                </CreateForm>\r\n\r\n\r\n            </CreateContainer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateProject","import React, { Component } from 'react'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport './UserPage.css'\r\nimport axios from 'axios'\r\nimport UserProject from './UserProject'\r\nimport {app} from '../../base'\r\n// import ModelItems from './ModelItems'\r\nimport { connect } from 'react-redux'\r\nimport { getProjects } from '../../ducks/projectsReducer'\r\nimport { addNewModel } from '../../ducks/firebaseReducer'\r\nimport AddProject from './AddProject'\r\nimport EditModel from '../ProjectDetails/EditProject/EditModel'\r\nimport Project from '../Project/Project'\r\nimport CreateProject from './Create/CreateProject'\r\n\r\n// const db = app.firestore()\r\n\r\nclass Collections extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            openEditModel:false,\r\n            data:[],\r\n            fileUrl:null,\r\n            file:null,\r\n            previewImageFile:null,\r\n            previewModelFile:null,\r\n            imageFile:null,\r\n            // imageFileDefault:'https://firebasestorage.googleapis.com/v0/b/depot-7bb3e.appspot.com/o/madmodels%2Ffiles%2F12%2Fdeault%20cube.png?alt=media&token=3e81c85c-c3c3-4d50-9542-57fed9cb85db',\r\n            imageUrl:null,\r\n            newItem:{},\r\n            props:null,\r\n            openAddProject:false,\r\n            projectName:'',\r\n            projectDescription:''\r\n        }\r\n        this.setFileUrl = this.setFileUrl.bind(this)\r\n        this.handleFile = this.handleFile.bind(this)\r\n        this.addFile = this.addFile.bind(this)\r\n        this.addPhoto = this.addPhoto.bind(this)\r\n        this.handlePhoto = this.handlePhoto.bind(this)\r\n        this.fileHandler = this.fileHandler.bind(this)\r\n        this.addToDatabase = this.addToDatabase.bind(this)\r\n        this.fileHandlerRemove = this.fileHandlerRemove.bind(this)\r\n        this.removeFileFromSpace = this.removeFileFromSpace.bind(this)\r\n        this.addNewProject = this.addNewProject.bind(this)\r\n        this.getImUrl = this.getImUrl.bind(this)\r\n        this.getFileUrl = this.getFileUrl.bind(this)\r\n        this.handleAddText = this.handleAddText.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n        this.getProjects = this.getProjects.bind(this)\r\n        this.createNewProject = this.createNewProject.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getProjects()\r\n    }\r\n\r\n    getProjects = () => {\r\n        const { id } = this.props.user.user\r\n        // alert('hit get projects function')\r\n        axios.get(`/api/projects/${id}`).then(res =>\r\n            this.setState({ ...this.state,data:res.data})) \r\n    }\r\n\r\n    handleAddText(prop, val) {\r\n        this.setState({\r\n          [prop]: val\r\n        })\r\n      }\r\n\r\n    //   --- Rebuilding add new projects function to reduce code --- //\r\n    createNewProject = async (e) => {\r\n        // all data needed\r\n        e.preventDefault()\r\n        const { file, imageFile, fileUrl, imageUrl, projectDescription, projectName } = this.state\r\n        const user_id = this.props.user.user.id\r\n        const { name } = this.state.file\r\n        if(name != undefined) {\r\n            this.props.setIsLoading()\r\n    \r\n            // -- add file -- //\r\n            const cloudFile = await this.props.addNewModel(file,`madmodels/projects/${user_id}/${projectName}/`)\r\n            const fileUrl = await cloudFile.action.payload.ref.getDownloadURL()\r\n            // -- add photo if not null-- //\r\n            var photoUrl = null\r\n            if(imageFile != null){\r\n                const cloudPhoto = await this.props.addNewModel(imageFile,`madmodels/projects/${user_id}/${projectName}/`)\r\n                photoUrl = await cloudPhoto.action.payload.ref.getDownloadURL()\r\n            }\r\n            // -- send to DB -- //\r\n            await this.addToDatabase(fileUrl,photoUrl)\r\n            await this.getProjects()\r\n            // -- reset / rerender view -- //\r\n            this.props.resetView()\r\n            this.props.setIsLoading()\r\n        }\r\n    } \r\n    // ------------------------------------------------------------- //\r\n\r\n    // saves file url to state pending \"add to SQL\"\r\n    setFileUrl = async (params) => {\r\n        this.setState({ fileUrl:params})\r\n    }\r\n\r\n    // saves image url to state pending \"add to SQL\"\r\n    setImageUrl = async (params) => {\r\n        this.setState({imageUrl:params})\r\n    }\r\n\r\n    // adds actual model file to state pending firebase upload\r\n    addFile(params){\r\n        this.setState({\r\n            file:params,\r\n            previewModelFile:URL.createObjectURL(params)\r\n        })\r\n    }\r\n\r\n    // adds actual image file to state pending firebase upload. creates preview image\r\n    addPhoto(params){\r\n        this.setState({\r\n            imageFile:params,\r\n            previewImageFile:URL.createObjectURL(params)\r\n        })\r\n    }\r\n\r\n    // async load model file to state callback\r\n    handleFile = async (e) => {\r\n        const file = e.target.files[0];\r\n        this.addFile(await file)\r\n    }\r\n\r\n    // async load image to state callback\r\n    handlePhoto = async (e) => {\r\n        const photo = e.target.files[0]\r\n        this.addPhoto(await photo)\r\n    }\r\n\r\n    // handlePhoto = async (e) => {\r\n    //     // const photo = e.target.files[0]\r\n    //     var fileInput = false;\r\n\r\n    //     if (e.target.files[0]) {\r\n    //         fileInput = true\r\n    //     }\r\n\r\n    //     if (fileInput) {\r\n    //         try {\r\n    //             Resizer.imageFileResizer(\r\n    //                 e.target.files[0],\r\n    //                 300,\r\n    //                 300,\r\n    //                 \"JPEG\",\r\n    //                 50,\r\n    //                 0,\r\n    //                 (uri) => {\r\n    //                     this.setState({imageFile:URL.createObjectURL(uri)})\r\n    //                 },\r\n    //                 \"file\",\r\n    //             );\r\n    //         } catch (err) {\r\n    //             console.log(err)\r\n    //         }\r\n    //     }\r\n\r\n    // }\r\n    // ------------------------- //\r\n\r\n    fileHandler = async (params) => {\r\n        const { file, fileUrl, imageFile, imageUrl } = this.state\r\n        const image = true\r\n        this.sendIntoSpace()\r\n    }\r\n\r\n    fileHandlerRemove = (params) => {\r\n        this.setState({file:null})\r\n    }\r\n\r\n    handleDelete = (params) => {\r\n        this.setState({imageFile:null})\r\n    }\r\n\r\n    // this loads the model file and image file to firebase, then adds the info to SQL table\r\n    sendIntoSpace = async () => {\r\n        const { file, imageFile, fileUrl, imageUrl, projectDescription, projectName } = this.state\r\n        const { id } = this.props.username.user\r\n        const name = projectName\r\n        const description = projectDescription\r\n        const firebase_url = 'firebase_url'\r\n        const firebase_url01 = this.state.fileUrl\r\n        this.props.setIsLoading()\r\n        const theFile = await this.getFileUrl(file)\r\n        this.setFileUrl(await theFile.getDownloadURL())\r\n        \r\n        // -- add image if not null -- //\r\n        if(imageFile != null){\r\n            const theImage = await this.getImUrl(imageFile)\r\n            this.setImageUrl(await theImage.getDownloadURL())\r\n        }\r\n\r\n        await this.addToDatabase(this.state.fileUrl,this.state.imageUrl)\r\n        await this.getProjects()\r\n        this.props.setIsLoading()\r\n        // this.props.openCreate()\r\n        // this.props.hideView('showCreateProject')\r\n        this.props.resetView()\r\n    }\r\n    // adds image to firebase\r\n    getImUrl = async (input) => {\r\n        const { id } = this.props.user.user\r\n        const storageRef = app.storage().ref(`madmodels/projects/${id}/`)\r\n        const fileRef = storageRef.child(input.name)\r\n        await fileRef.put(input)\r\n        console.log('image loaded')\r\n        return (fileRef)\r\n    }\r\n    // adds model file to firebase\r\n    getFileUrl = async (input) => {\r\n        const { id } = this.props.user.user\r\n        const storageRef = app.storage().ref(`madmodels/projects/${id}/`)\r\n        const fileRef = storageRef.child(input.name)\r\n        await fileRef.put(input)\r\n        console.log('file loaded')\r\n        return (fileRef)\r\n    }\r\n\r\n    // deletes file from firebase\r\n    removeFileFromSpace = async (url,id,file) => {\r\n        this.props.setIsLoading()\r\n        if(url != null){\r\n            const storageRef = await app.storage().refFromURL(url) // delete image\r\n            await storageRef.delete().then(function deleted(params) {\r\n                console.log('image deleted')\r\n            }).catch(function (error) {\r\n                console.log('there was an error',error)\r\n            })\r\n        }\r\n        if(file != null){\r\n            const storageRef2 = await app.storage().refFromURL(file) // delete file\r\n            await storageRef2.delete().then(function deleted(params) {\r\n                console.log('image deleted')\r\n            }).catch(function (error) {\r\n                console.log('there was an error',error)\r\n            })\r\n        }\r\n        // delete from DB\r\n        await axios.delete(`/api/project/delete/${id}`)\r\n        this.props.setIsLoading()\r\n    }\r\n\r\n    // adds file to SQL table\r\n    addToDatabase =  async (fileUrl,imageUrl) => {\r\n        console.log('this is from addToDatabase function')\r\n        const { projectDescription, projectName } = this.state\r\n        const id = this.props.user.user.id\r\n        const name = projectName\r\n        const description = projectDescription\r\n        const firebase_url = fileUrl\r\n        const firebase_url01 = imageUrl\r\n        const is_hidden = false\r\n        await axios.post('/api/project/post', {id,name,description,firebase_url,firebase_url01,is_hidden}).then(res => {\r\n            return res.status\r\n        })\r\n        await this.props.getProjects()\r\n    }\r\n\r\n    handleChange(params){\r\n        this.setState({ file:params })\r\n    }\r\n\r\n    // opens \"add project\" window\r\n    addNewProject(params){\r\n        this.setState({\r\n            openAddProject:!this.state.openAddProject\r\n        })\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    render(){\r\n\r\n        const { openAddProject,openEditModel,previewImageFile,previewModelFile,data,file } = this.state\r\n        const { photo_url,user,showCreateProject } = this.props\r\n\r\n        const mappedProjects = data.map(element => {\r\n            return (\r\n            <Project \r\n                key={element.model_id} \r\n                data={element} \r\n                name={element.name} \r\n                img={element.firebase_url01} \r\n                file={element.firebase_url} \r\n                id={element.model_id} \r\n                delete={this.deleteModel} \r\n                removeFileFromSpace={this.removeFileFromSpace} \r\n                openEdidModel={this.openEditModel} \r\n                projectIsLiked={this.projectIsLiked} \r\n                user_photo_url={photo_url} \r\n                current_user_name={user.user.user} \r\n            />\r\n            )\r\n        })\r\n\r\n        return(\r\n            <div className=\"collections\">\r\n                {/* <header ><p>My Designs</p></header> */}\r\n                {showCreateProject &&\r\n                <CreateProject \r\n                    resetView={this.props.resetView} \r\n                    handleFile={this.handleFile} \r\n                    handleAddText={this.handleAddText} \r\n                    handlePhoto={this.handlePhoto} \r\n                    previewImageFile={previewImageFile} \r\n                    previewModelFile={previewModelFile} \r\n                    file={file} \r\n                    sendIntoSpace={this.sendIntoSpace} \r\n                    createNewProject={this.createNewProject} \r\n                    /> \r\n                }\r\n\r\n                {mappedProjects}\r\n  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {getProjects,addNewModel})(Collections)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser,loginUser } from '../../ducks/userReducer'\r\n// import { store } from 'react-redux'\r\nimport './EditUserInfo.css'\r\nimport {app} from '../../base'\r\nimport axios from 'axios'\r\n\r\nconst db = app.firestore()\r\n\r\nclass EditUserInfo extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            user_id:null,\r\n            user_name:'',\r\n            // email:'',\r\n            // first:'',\r\n            last_name:'',\r\n            first_name:'',\r\n            // photoUrl:null,  // this is the url pulled from database used to access photo\r\n            // staticPhoto:null, //this is the photo in browser pending database entry\r\n            // file:null,\r\n            user:{},\r\n            setPermission:true,\r\n            openNewPass:false,\r\n            oldPassword:'',\r\n            newPassword1:'',\r\n            newPassword2:'',\r\n        }\r\n        // this.handlePhotoChange = this.handlePhotoChange.bind(this)\r\n        // this.addPhoto = this.addPhoto.bind(this)\r\n        // this.cancelAddPhoto = this.cancelAddPhoto.bind(this)\r\n        // this.handleCancelClick = this.handleCancelClick.bind(this)\r\n        // this.handleFile = this.handleFile.bind(this)\r\n        // this.launchPic = this.launchPic.bind(this)\r\n        // this.setFileUrl = this.setFileUrl.bind(this)\r\n        // this.handleLaunchPic = this.handleLaunchPic.bind(this)\r\n        this.addToDatabase = this.addToDatabase.bind(this)\r\n        // this.handleFirstName = this.handleFile.bind(this)\r\n        // this.handleLastName = this.handleLastName.bind(this)\r\n        // this.handleEmail = this.handleEmail.bind(this)\r\n        // this.setPhotoUrl = this.setPhotoUrl.bind(this)\r\n        // this.getPhotoUrl = this.getPhotoUrl.bind(this)\r\n        // this.userInfoFromProps = this.userInfoFromProps.bind(this)\r\n        // this.handleTextInput = this.handleTextInput.bind(this)\r\n        this.launchNewPass = this.launchNewPass.bind(this)\r\n\r\n        // temp functions for testing//\r\n        // this.handleInfoClick = this.handleInfoClick.bind(this)\r\n        // this.giveMeInfo = this.giveMeInfo.bind(this)\r\n        // this.addToDeleted = this.addToDeleted.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { email,photo,user,background_url,name,id,last_name } = this.props.user.user\r\n        this.setState({\r\n            first_name:name,\r\n            last_name:last_name,\r\n            user_name:user,\r\n            photoUrl:photo,\r\n            background_url:background_url,\r\n            email:email,\r\n            user_id:id\r\n        })\r\n\r\n        this.userInfoFromProps()\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const  { setPermission } = this.state\r\n        if (setPermission === true) {\r\n            this.props.updateUser()\r\n            this.userInfoFromProps()\r\n            this.setState({\r\n                setPermission:false\r\n            })\r\n        }\r\n    }\r\n\r\n    userInfoFromProps = () => {\r\n        const { email,photo,user,background_url,name,id,last_name } = this.props.user.user\r\n        // const { user, } = this.props\r\n        this.setState({\r\n            first_name:name,\r\n            last_name:last_name,\r\n            user_name:user,\r\n            photoUrl:photo,\r\n            background_url:background_url,\r\n            email:email,\r\n            user_id:id\r\n        })\r\n    }\r\n\r\n    // adds file to firebase. sends all info to db callback function\r\n    // launchPic = async (file) => {\r\n    //     const { staticPhoto,photoUrl } = this.state\r\n    //     // const { photo } = this.state.user\r\n        \r\n    //     const { id,photo,user } = this.props.user.user\r\n    //     // if(photo_url != null){\r\n    //     //     this.deleteFromFirebase(photo_url)\r\n    //     // }\r\n\r\n    //     // ---------- original\r\n    //     // const photoName = `profile pic ${id}`\r\n    //     // const storageRef = app.storage().ref(`${user}/`)\r\n    //     // const fileRef = storageRef.child(photoName + file.name)\r\n    //     // fileRef.put(file).then(() => {\r\n    //     //     console.log('photo uploaded',file)\r\n    //     // })\r\n    //     // this.setFileUrl(await fileRef.getDownloadURL())\r\n    //     // console.log('this is fileRef', fileRef)\r\n    //     // ----------------------------------\r\n    //     this.props.setIsLoading()\r\n    //     console.log('hit launch pic',photoUrl)\r\n    //     // if (photo != null) {this.props.deleteFromFirebase(await photo)}\r\n    //     const thePhoto = await this.getPhotoUrl(photoUrl)\r\n    //     console.log('photo is added')\r\n    //     this.setPhotoUrl(await thePhoto.getDownloadURL())\r\n    //     console.log('got url')\r\n    //     this.addToDatabase(this.state.photoUrl)\r\n    //     // this.props.updateUser()\r\n    //     this.props.setIsLoading()\r\n    //     this.props.updateUser(id)\r\n    //     // this.props.showData(id)\r\n    //     this.props.resetView()\r\n    // }\r\n\r\n    // getPhotoUrl = async (input) => {\r\n    //     const { user } = this.props.user.user \r\n    //     const storageRef = app.storage().ref(`${user}/photos`)\r\n    //     const fileRef = storageRef.child(input.name)\r\n    //     await fileRef.put(input)\r\n    //     console.log('image loaded')\r\n    //     return (fileRef)\r\n    // }\r\n\r\n    // setPhotoUrl = async (params) => {\r\n    //     this.setState({photoUrl:params})\r\n    // }\r\n\r\n    // deleteFromFirebase(url){\r\n    //     const storageRef = app.storage().refFromURL(url)\r\n    //     storageRef.delete().then(function deleted(params) {\r\n    //         console.log('image deleted')\r\n    //     }).catch(function (error) {\r\n    //         console.log('there was an error')\r\n    //     })\r\n    // }\r\n\r\n    // handleLaunchPic(){\r\n    //     const { staticPhoto } = this.state\r\n    //     const { email,name,user,photo,id } = this.props.user.user\r\n    //     // adds/updates profile photo\r\n    //     if ( staticPhoto != null){this.launchPic(staticPhoto)} else {alert('please add photo')}\r\n\r\n    //     if ( photo != null ) {\r\n    //         // this.addToDeleted(photo,id)\r\n    //         this.deleteFromFirebase(photo)\r\n    //     } // adds current photo to db that tracks deleted items in firebase\r\n    //     // adds/updates firstname\r\n\r\n\r\n        \r\n    // }\r\n\r\n    // addToDeleted(photo,id){\r\n    //     const info = 'this is a profile picture that has been deleted'\r\n    //     axios.post(`/api/firedata/`,{ id,photo,info })\r\n    // }\r\n\r\n    // setFileUrl(pURL){\r\n    //     const { id } = this.state.user\r\n    //     this.setState({photoUrl:pURL})\r\n    //     this.addToDatabase()\r\n    // }\r\n\r\n    async addToDatabase(){\r\n        // const {id} = this.props.user.user\r\n        const { first_name,last_name,email,user_id } = this.state\r\n        console.log('hit add to db func')\r\n        // const {\r\n        //     first:first_name,\r\n        //     user_name:user,\r\n        //     photoUrl:photo,\r\n        //     background_url:background_url,\r\n        //     email:email,\r\n        //     user_id\r\n        // } = this.state\r\n\r\n        // const photo_url = newPhoto\r\n        // const { id } = this.state.user\r\n        // const user_id = id\r\n        // const photo_url = photoUrl\r\n        // console.log('this is from addToDatabase',user_id,newPhoto)\r\n        // axios.post(`/api/users/update/${user_id}`,{ photo_url })\r\n        axios.post(`/api/user/update/info/${user_id}`,{ email,last_name,first_name,user_id })\r\n        // this.props.updateUser(user_id)\r\n        // await this.props.updateUser()\r\n        await this.userInfoFromProps()\r\n        \r\n    }\r\n\r\n    // handlePhotoChange = async (e) => {\r\n    //     const file = e.target.files[0];\r\n    //     this.addPhoto(await file)\r\n    //     this.handleFile(e)\r\n    // }\r\n\r\n    // addPhoto(e){\r\n    //     const file = e.target.files[0]\r\n    //     this.setState({staticPhoto:URL.createObjectURL(file),photoUrl:file})\r\n    // }\r\n\r\n    // cancelAddPhoto(){\r\n    //     this.setState({staticPhoto:null,file:null})\r\n    // }\r\n\r\n    // handleCancelClick(){\r\n    //     this.cancelAddPhoto()\r\n    // }\r\n\r\n    // handleFile(event){\r\n    //     this.setState({file:URL.createObjectURL(event.target.files[0])})\r\n    // }\r\n\r\n    handleAddText(prop,val){\r\n        this.setState({\r\n            [prop]: val\r\n        })\r\n    }\r\n\r\n    // ---- edit names and email address ---- //\r\n    // handleFirstName(val){\r\n    //     this.setState({first_name : val})\r\n    // }\r\n\r\n    // handleLastName(val){\r\n    //     this.setState({last_name : val})\r\n    // }\r\n\r\n    // handleEmail(val){\r\n    //     this.setState({email : val})\r\n    // }\r\n\r\n    // handUserName(val){\r\n    //     this.setState({usae})\r\n    // }\r\n\r\n    // handleTextInput = (props,val) => {\r\n    //     this.setState({\r\n    //         [props]:val\r\n    //     })\r\n    // }\r\n\r\n\r\n    // ---temp functions for testing--//\r\n    // handleInfoClick(){\r\n        // this.giveMeInfo()\r\n    // }\r\n    // giveMeInfo(){\r\n    //     const { photoUrl } = this.state\r\n    //     const { id } = this.state.user\r\n    //     console.log(id,photoUrl)\r\n    // }\r\n    //  -------------------------//\r\n\r\n    openChangePass() {\r\n        this.setState({openNewPass:!this.state.openNewPass})\r\n    }\r\n    launchNewPass = async () => {\r\n        this.setState({setPermission:true})\r\n        // this.user\r\n        const { newPassword1,newPassword2,oldPassword } = this.state\r\n        const { user } = this.props.user.user\r\n        const user_name = user\r\n        // console.log('here is user',user_name)\r\n        if(newPassword1 === newPassword2){\r\n            // await this.props.changePassword(user_name,oldPassword,newPassword1,newPassword2)\r\n            axios.post('/auth/password',{newPassword1,newPassword2,oldPassword,user_name}).then(res => {\r\n                this.openChangePass()\r\n                this.props.hideView('showEditUserInfo')\r\n                // return (alert('Your password has been changed'))\r\n            })\r\n            // console.log('await?',newPassword1,user)\r\n            // await this.props.updateUser()\r\n        }\r\n        // await this.userInfoFromProps()\r\n    }\r\n    // reLogin = () => {\r\n    //     this.props.loginUser()\r\n    // }\r\n\r\n    render(){\r\n\r\n        const { email,name,user,photo } = this.props.user.user\r\n        const { staticPhoto,file,openNewPass,last_name } = this.state\r\n        // var file = document.getElementById('fileItem').files[0]\r\n\r\n        return(\r\n            <div className=\"edit-user-info\">\r\n                {openNewPass ? <div className='change-pass-container'>\r\n                    <input placeholder='Old Password' onChange={e => this.handleAddText('oldPassword',e.target.value)} ></input>\r\n                    <input placeholder='New Password' onChange={e => this.handleAddText('newPassword1',e.target.value)} ></input>\r\n                    <input placeholder='Verify New Password' onChange={e => this.handleAddText('newPassword2',e.target.value)} ></input>\r\n                    <div className='change-pass-button-flex' >\r\n                        <button onClick={() => {this.launchNewPass()}}>submit</button>\r\n                        <button onClick={() => this.setState({openNewPass:false})}>cancel</button>\r\n                    </div>\r\n                </div> : null}\r\n                {/* <section className=\"user-photo\"><img className=\"photo-properties\" src={file} /> <input id=\"fileItem\" type =\"file\" className=\"change-photo\" onChange={e => this.handlePhotoChange(e)}/> <button onClick={this.handleCancelClick}>cancel</button> </section> */}\r\n\r\n                <section className='edit-user-info-title'>\r\n                <svg onClick={() => this.props.resetView()} className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                    <h2 >edit user info</h2>\r\n                </section>\r\n                <section className=\"\">\r\n                    <div className=\"input-list\">\r\n                        {/* <input id=\"fileItem\" type =\"file\" className=\"change-photo\" accept=\"image/png,image/jpeg\"/>  */}\r\n                        <button onClick={() => this.openChangePass()}>change password</button>\r\n\r\n                        {/* <div> */}\r\n                            {/* <p className=\"list-text\">Username</p><input placeholder={user} onChange={e => this.handleAddText('user_name', e.target.value)}/> */}\r\n                        {/* </div> */}\r\n\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">First Name</p><input placeholder={name} onChange={e => this.handleAddText('first_name', e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">Last Name</p><input placeholder={last_name} onChange={e => this.handleAddText('last_name', e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">Email Address</p><input placeholder={email} onChange={e => this.handleAddText('email', e.target.value)} />\r\n                        </div>\r\n                        \r\n                        {/* <div >\r\n                            <p style={{color:'#555'}}>Profile Picture</p>\r\n                            <img className=\"photo-properties\" src={staticPhoto} /> \r\n                            <div className=\"edit-photo-line\">\r\n                                <input id=\"fileItem\" type =\"file\" className=\"change-photo\" accept=\"image/png,image/jpeg\" onChange={e => this.addPhoto(e)}/> <button onClick={this.handleCancelClick}>clear</button>\r\n                            </div>\r\n                        </div> */}\r\n\r\n                        {/* <li className=\"user-photo\"><img className=\"photo-properties\" src={photo}/><button className=\"li-button\">delete picture</button></li> */}\r\n                        <div className=\"submit-row\" ><button onClick={() => this.addToDatabase()} className=\"li-button\">submit</button></div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n     \r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateUser,loginUser} )(EditUserInfo)","\r\nimport './UserInfo.css'\r\nimport EditUserInfo from './EditUserInfo'\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nconst UserInfo = (props) => {\r\n    const { user,name,email } = props\r\n    const [editOpen,setEditOpen ] = useState(false)\r\n\r\n    function toggleEdit(){\r\n        setEditOpen(!editOpen)\r\n    }\r\n\r\n    return(\r\n        <div className=\"user-info\">\r\n            <div className=\"user-info-title\"><p ></p><h2 className=\"user-info-title-text\">My Info</h2></div>\r\n            <div className=\"user-info-h2\"><p className=\"user-info-p\" >name:</p><h2 className=\"text-element\">{name}</h2></div>\r\n            {email != null ? <div className=\"user-info-h2\"><p className=\"user-info-p\">email:</p><h2 className=\"text-element\">{email}</h2></div> : null}  \r\n            <div className=\"user-info-h2\"><p className=\"user-info-p\">username:</p><h2 className=\"text-element\" >{user}</h2></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInfo","import React, { Component } from 'react'\r\nimport './UserPage.css'\r\nimport { connect } from 'react-redux'\r\nconst Public = () => {<h3>Public</h3>}\r\nconst Protected = () => <h3>Protected</h3>\r\n\r\nclass SecurityTest extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div className=\"sec-test-container\">\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default SecurityTest","import './AdminPage.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst ShowUser = (props) => {\r\n\r\n    const { user_name,first_name,last_name,user_id } = props\r\n\r\n    return(\r\n        // <Link to={`/messages/${user_id}`}><div className=\"show-user\">\r\n        <Link to={`/viewuser/${user_id}`}><div className=\"show-user\">\r\n            <p className=\"admin-a\">{first_name + ' ' + last_name}</p>\r\n            <p className=\"admin-a\">{user_name}</p>\r\n        </div></Link>\r\n    )\r\n}\r\n\r\nexport default ShowUser","import './AdminPage.css'\r\n\r\nconst ShowTraffic = (props) => {\r\n\r\n    const { unique_id,remount,date_created,id,last_visit } = props\r\n    // const { item,content,loggedInUser,user_id,photo_url,date_created } = props\r\n\r\n    // var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    // if (last_visit != null){\r\n    //     const time = last_visit.split(\"T\")\r\n    //     return time\r\n    // }\r\n        \r\n    // find date\r\n    // const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    // const amPm = (input) => {\r\n        // if(input[0] > 12){\r\n            // return input[0]-12 + ':' + input[1] + ' pm'\r\n        // } else {return(input[0] + ':' + input[1] + ' am')}\r\n    // }\r\n    // const timeVal = time[1].split(':')\r\n    // console.log(last_visit.toString())\r\n\r\n    return(<div className='traffic-display-unit' >\r\n        <p className='traffic-text' >{date_created}</p> <p className='traffic-text' >{id}</p>  <p className='traffic-text' >{unique_id}</p><p className='traffic-text' >{remount}</p><p className='traffic-text' >{last_visit}</p>\r\n    </div>)\r\n}\r\n\r\nexport default ShowTraffic","import './Memo.css'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\n// import Notice from './../Notice/Notice'\r\n\r\nconst Memo = (props) => {\r\n\r\n    const { body,title,memo_id } = props\r\n    var [ text,setText ] = useState(body)\r\n    var [ sending,setSending ] = useState(false)\r\n    const notDefault = true\r\n    \r\n    const sendUpdate = () => {\r\n        setSending(true)\r\n        axios.post('/api/memo/update', {text,memo_id}).then(res => {\r\n            setSending(false)\r\n        })\r\n    }\r\n\r\n    return(<div className=\"text-container\" >\r\n        <input value={title} style={{width:'95%',marginBottom:'5px'}}></input>\r\n        <textarea name=\"text\" rows=\"23\" cols=\"50\" wrap=\"soft\" placeholder='text' onChange={(e) => setText(e.target.value)} value={text} className=\"admin-memo-body\" > </textarea>\r\n        {/* <button onClick={() => sendUpdate()} >submit</button> */}\r\n        <div className=\"is-saving\" >{sending === true ? <p style={{color:'#fff',fontWeight:'600'}} >sending...</p> : <p style={{color:'#fff',fontWeight:'600'}} onClick={() => sendUpdate()} >save</p>}</div>\r\n        {/* <div className='notice-placement' ><Notice notDefault={notDefault} item={'saving text'} /></div> */}\r\n    </div>)\r\n}\r\n\r\nexport default Memo","import './../AdminPage.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst UserAdminMessage = (props) => {\r\n\r\n    const { messagecontent,email } = props\r\n\r\n    return(\r\n        // <Link to={`/messages/${user_id}`}><div className=\"show-user\">\r\n        <div className=\"show-user\">\r\n            {/* <p className=\"admin-a\">{first_name + ' ' + last_name}</p> */}\r\n            <p>email{email}</p><p className=\"admin-a\">{messagecontent}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserAdminMessage","// export const socketString = `ws://165.227.102.189:8000`\r\n// export const socketString = 'wss://165.227.102.189:8000'\r\n// export const socketString = `ws://127.0.0.1:8000`\r\n// export const socketString = `wss://madmodels3d.com:8000`\r\n\r\n//  TESTING //\r\nexport const socketString = `ws://165.227.102.189:8000`","\r\nimport { Component } from 'react'\r\nimport './AdminPage.css'\r\n// import { Link } from 'react-router-dom';\r\nimport { Link, Switch, Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../ducks/userReducer';\r\nimport { getProjects } from '../../ducks/projectsReducer';\r\nimport Home from '../Home/Home';\r\nimport axios from 'axios';\r\nimport ShowUser from './ShowUser';\r\nimport ShowTraffic from './ShowTraffic'\r\nimport SVG from '../SVG';\r\n// import Prototyping from '../Prototyping/Prototyping';\r\n// import MessageBoard from '../UserMessages/MessageBoard';\r\nimport Memo from './Memo';\r\nimport './Memo.css'\r\n// import DemoScene from './Three/DemoScene';\r\n// import ViewUserV2 from './ViewUserV2';\r\nimport UserAdminMessage from './UserAdminMessage/UserAdminMessage';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../WS';\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nclass AdminPage extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            users:[],\r\n\r\n            text:'test',\r\n            generalContent:'',\r\n            displayGeneral:true,\r\n            editGeneral:false,\r\n\r\n            aboutContent:'',\r\n            displayAbout:true,\r\n            editAbout:false,\r\n\r\n            editUserInfo:false,\r\n\r\n            showMessages:false,\r\n            userMessages:[],\r\n\r\n            showMemo:false,\r\n            memos:[],\r\n\r\n            showTraffic:false,\r\n            traffic:[],\r\n\r\n            pototypeBool:false, // this is for prototyping only\r\n\r\n        }\r\n        this.handleAddText = this.handleAddText.bind(this)\r\n        this.addGeneral = this.addGeneral.bind(this)\r\n        this.addAbout = this.addAbout.bind(this)\r\n        this.hideDocAbout = this.hideDocAbout.bind(this)\r\n        this.hideDocGeneral = this.hideDocGeneral.bind(this)\r\n        this.openEditAbout = this.openEditAbout.bind(this)\r\n        this.openEditGeneral = this.openEditGeneral.bind(this)\r\n        this.openEditUserInfo = this.openEditUserInfo.bind(this)\r\n        this.hideMessages = this.hideMessages.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users/all').then(res => {\r\n            this.setState({users:res.data})\r\n        })\r\n        axios.get('/api/track/getall').then(res => {\r\n            this.setState({traffic:res.data})\r\n        })\r\n        axios.get('/api/messages/user').then(res => {\r\n            this.setState({userMessages:res.data})\r\n        })\r\n        axios.get('/api/memos/get/all').then(res => {\r\n            this.setState({memos:res.data})\r\n        })\r\n    }\r\n\r\n    handleAddText(prop, val) {\r\n        this.setState({\r\n          [prop]: val\r\n        })\r\n      }\r\n\r\n    addGeneral = () => {\r\n\r\n        const { generalContent } = this.state\r\n        const content = generalContent\r\n        const tag = 'general'\r\n\r\n        axios.post('/api/docs/post',{content,tag}).then(alert('new content has been added to General Information element')).catch(err => {\r\n            console.log('error',err)\r\n        })\r\n    }\r\n\r\n    addAbout = () => {\r\n        const { aboutContent } = this.state\r\n        const content = aboutContent\r\n        const tag = 'about'\r\n\r\n        axios.post('/api/docs/post', {content,tag}).then(alert('new content has been added to About Information element')).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    hideDocGeneral = () => {\r\n        const { displayGeneral } = this.state\r\n        const content = displayGeneral\r\n        const tag = 'general'\r\n        axios.post('/api/docs/hide' ,{content,tag}).then(alert('display changed')).catch(err => console.log(err))\r\n    }\r\n\r\n    hideMessages = () => {\r\n        this.setState({showMessages:!this.state.showMessages})\r\n    }\r\n\r\n    hideDocAbout = () => {\r\n        const { displayAbout } = this.state\r\n        const content = displayAbout\r\n        const tag = 'about'\r\n        axios.post('/api/docs/hide' ,{content,tag}).then(alert('display changed')).catch(err => console.log(err))\r\n    }\r\n\r\n    openEditAbout(){\r\n        this.setState({\r\n            editAbout:!this.state.editAbout\r\n        })\r\n    }\r\n    openEditGeneral(){\r\n        this.setState({\r\n            editGeneral:!this.state.editGeneral\r\n        })\r\n    }\r\n\r\n    openEditUserInfo(){\r\n        this.setState({editUserInfo:!this.state.editUserInfo})\r\n    }\r\n\r\n    resetView() {\r\n        this.setState({\r\n            showMemo:false,\r\n            showTraffic:false,\r\n        })\r\n    }\r\n\r\n    changeView(param) {\r\n        this.resetView()\r\n        switch(param) {\r\n            case 'showTraffic':\r\n                this.setState({showTraffic:true})\r\n                break;\r\n            case 'showMemo':\r\n                this.setState({showMemo:true})\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n    }\r\n\r\n    render(){\r\n\r\n        const { test,editAbout,editGeneral,editUserInfo,users,traffic,showMessages,userMessages,showTraffic,showMemo,memos,pototypeBool } = this.state\r\n        const { photo,auth,name,is_admin,is_sudo } = this.props.user.user\r\n\r\n        const mappedUsers = users.map(element => {\r\n            return <ShowUser user_name={element.user_name} first_name={element.first_name} last_name={element.last_name} user_id={element.user_id} />\r\n        })\r\n\r\n        const filterNull = traffic.filter(el => el.last_visit != null)\r\n\r\n        const mappedTraffic = filterNull.map(el => {\r\n            return <ShowTraffic key={el.browser_id} id={el.browser_id} date_created={el.date_created} unique_id={el.unique_id} remount={el.remount} last_visit={el.last_visit} />\r\n        })\r\n\r\n        const mappedMessages = userMessages.map(el => {\r\n            return <UserAdminMessage key={el.dum_id} messagecontent={el.messagecontent} email={el.email} />\r\n        })\r\n\r\n        const mappedMemos = memos.map(el => {\r\n            return <Memo key={el.memo_id} body={el.body} title={el.title} memo_id={el.memo_id} />\r\n        })\r\n\r\n        // const mappedTraffic = traffic.map(el => {\r\n        //     return <ShowTraffic key={el.browser_id} id={el.browser_id} date_created={el.date_created} unique_id={el.unique_id} remount={el.remount} last_visit={el.last_visit} />\r\n        // })\r\n\r\n        return(\r\n            <div className=\"admin-container\">\r\n                {!is_admin ? (<Route path=\"/\" component={Home}/>) : (\r\n                    <div>\r\n                    <ul className=\"admin-header-ul\">\r\n                    {is_sudo === true ? <li className=\"add-doc-div-closed\" onClick={() => this.changeView('showMemo')}><a>memo</a></li> : null}\r\n                    { editGeneral ?\r\n                    <li className=\"add-doc-div\" >\r\n                        <a onClick={this.openEditGeneral}>edit general info</a>\r\n                        <textarea onChange={e => this.handleAddText('generalContent', e.target.value)} className=\"input\" name=\"text\" rows=\"14\" cols=\"100\" wrap=\"soft\"> </textarea>\r\n                        <button className=\"text\" onClick={this.addGeneral}>add to general content</button>\r\n                        <div className=\"checkbox\" style={{marginTop:'20px'}}><input type=\"checkbox\" onChange={e => this.handleAddText('displayGeneral',!this.state.displayGeneral)} /><p style={{color:'#555'}}>display this document?</p><button onClick={this.hideDocGeneral}>change</button></div>\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\" onClick={this.openEditGeneral}><a>edit general info</a></li>}\r\n\r\n                    { editAbout ?\r\n                    <li className=\"add-doc-div\">\r\n                        <a  onClick={this.openEditAbout} className=\"admin-a\">edit about info</a>\r\n                        <textarea onChange={e => this.handleAddText('aboutContent', e.target.value)} className=\"input\" name=\"text\" rows=\"14\" cols=\"100\" wrap=\"soft\"> </textarea>\r\n                        <button className=\"text\" onClick={this.addAbout}>add to about content</button>\r\n                        <div className=\"checkbox\" style={{marginTop:'20px'}}><input type=\"checkbox\" onChange={e => this.handleAddText('displayAbout',!this.state.displayAbout)} /><p style={{color:'#555'}}>display this document?</p><button onClick={this.hideDocAbout}>change</button></div>\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\"><a onClick={this.openEditAbout}>edit about info</a></li>}\r\n                    <li className=\"add-doc-div-closed\"><a>notifications</a></li>\r\n                    {!showMessages ? <li className=\"add-doc-div-closed\" onClick={() => this.hideMessages()} ><a>messages</a></li>\r\n                    :\r\n                    <li className=\"add-doc-div\" onClick={() => this.hideMessages()} ><a>messages</a>\r\n                        {mappedMessages}\r\n                    </li>}\r\n                    { editUserInfo ?\r\n                    <li className=\"add-doc-div\">\r\n                        <a  onClick={this.openEditUserInfo} className=\"admin-a\">User Details</a>\r\n                        {mappedUsers}\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\"><a onClick={this.openEditUserInfo}>User Details</a></li>}\r\n                    <li className=\"add-doc-div-closed\"><a>terms</a></li>\r\n                    <li className=\"add-doc-div-closed\"><a>user project details</a></li>\r\n                   \r\n                    <li className=\"add-doc-div-closed\" onClick={() => this.changeView('showTraffic')} ><a>show traffic</a></li>\r\n                    </ul>\r\n                    <Link to={'/user'} ><a >mypage</a></Link>\r\n                    {showTraffic === true ? <div className='display-traffic' >\r\n                        <div className='traffic-display-unit' ><p className='traffic-text' >Date Created</p><p className='traffic-text' >Browser ID</p><p className='traffic-text' >Unique Id</p><p className='traffic-text' >Re-mounts</p><p className='traffic-text' >Last Visit</p></div>\r\n                        {mappedTraffic}\r\n                    </div> : null}\r\n                    \r\n                    {/* <div className='text-container' ></div> */}\r\n                    {/* <Memo /> */}\r\n                    {showMemo === true && is_sudo === true ? mappedMemos : null}\r\n                    {/* <ViewUserV2 /> */}\r\n                    {/* <Prototyping /> */}\r\n                    {/* <MessageBoard/> */}\r\n                    <section style={{height:'400px',width:'400px',backgroundColor:'#fff'}} >\r\n                        <SVG params={'large_heart'} />\r\n                        {/* <button onClick={() => this.setState({proto})} >click</button> */}\r\n                    </section>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser,getProjects})(AdminPage)","import styled from \"styled-components\";\r\n\r\nexport const Err = styled.div`\r\n    position:absolute;\r\n    min-height:50px;\r\n    width:100%;\r\n    background-color:yellow;\r\n    z-index:4;\r\n    top:0px;\r\n`","import { Err } from \"./error.styles\"\r\n\r\nexport const ErrorMsg = () => {\r\n\r\n    return(\r\n        <Err>\r\n\r\n        </Err>\r\n    )\r\n}","\r\n// -- looks for and executes available attacks -- //\r\nexport const attackLogic = async (enemyX,enemyY,currentPiece,state,checkPieceLocations) => {\r\n    const { matrix } = state\r\n    const { player,isKing,id,x,y } = currentPiece[0]\r\n    var currentX = x\r\n    var currentY = y\r\n    var newCoords = null\r\n\r\n    // -- LOWER LEFT ATTACK -- //\r\n    if(currentX-1 === enemyX && currentY+1 === enemyY){\r\n        // console.log('lower left')\r\n        // -- non-kings can only attack one direction on the y-axis -- //\r\n        if(player === 'bad' && isKing === false){return}\r\n\r\n        // -- check if location is available -- //\r\n        if(await checkPieceLocations(enemyX-1,enemyY+1,null) === undefined) {\r\n\r\n            // -- is location on the board? -- //\r\n            if(enemyX-1 >= 0 && enemyY+1 <= matrix.length-1){\r\n\r\n                // -- Update pieces -- //\r\n                const nextX = enemyX-1\r\n                const nextY = enemyY+1\r\n                const newCoords = {enemyX,enemyY,id,nextX,nextY}\r\n                return newCoords\r\n                \r\n            }\r\n        }\r\n\r\n    // -- UPPER LEFT ATTACK -- //\r\n    } else if (currentX-1 === enemyX && currentY-1 === enemyY) {\r\n        // console.log('upper left')\r\n        // -- non-kings can only attack one direction on the y-axis -- //\r\n        if(player === 'good' && isKing === false){return}\r\n\r\n        // -- check if location is available -- //\r\n        if( await checkPieceLocations(enemyX-1,enemyY-1,null) === undefined) {\r\n\r\n            // -- is location on the board? -- //\r\n            if(enemyX-1 >= 0 && enemyY-1 >= 0) {\r\n\r\n                // -- Update piece -- //\r\n                const nextX = enemyX-1\r\n                const nextY = enemyY-1\r\n                const newCoords = {enemyX,enemyY,id,nextX,nextY}\r\n                return newCoords\r\n            }\r\n            \r\n        }\r\n\r\n    // -- UPPER RIGHT ATTACK -- /\r\n    } else if (currentX+1 === enemyX && currentY === enemyY+1) {\r\n        // console.log('upper right')\r\n\r\n        // -- non-kings can only attack one direction on the y-axis -- //\r\n        if(player === 'good' && isKing === false){return}\r\n\r\n        // -- check if location is available -- //\r\n        if(await checkPieceLocations(enemyX+1,enemyY-1,null) === undefined) {\r\n            \r\n            // -- is location on the board? -- //\r\n            if(enemyX+1 <= matrix.length-1 && enemyY-1 >= 0){\r\n\r\n                // -- update pieces -- //\r\n                const nextX = enemyX+1\r\n                const nextY = enemyY-1\r\n                const newCoords = {enemyX,enemyY,id,nextX,nextY}\r\n                return newCoords\r\n            }\r\n            \r\n        }\r\n\r\n    // -- LOWER RIGHT ATTACK -- //\r\n    } else if (currentX+1 === enemyX && currentY+1 === enemyY) {\r\n        // console.log('lower right')\r\n        // -- non-kings can only attack one direction on the y-axis -- //\r\n        if(player === 'bad' && isKing === false){return}\r\n        \r\n        // -- check if location is available -- //\r\n        if(await checkPieceLocations(enemyX+1,enemyY+1,null) === undefined) {\r\n        \r\n            // -- is location on the board? -- //\r\n            if(enemyX+1 <= matrix.length-1 && enemyY+1 <= matrix.length-1) {\r\n\r\n                // -- Update pieces -- //\r\n                const nextX = enemyX+1\r\n                const nextY = enemyY+1\r\n                const newCoords = {enemyX,enemyY,id,nextX,nextY}\r\n                return newCoords\r\n            }\r\n\r\n        }\r\n    }\r\n    return newCoords\r\n}","import { css } from \"styled-components\"\r\n\r\nexport const colors = {\r\n    secondaryColor:'coral',\r\n    baseColor:'wheat',\r\n}\r\nexport const size  = {\r\n    multiplier:1\r\n}\r\n\r\nexport const  menuStyling = css`\r\n    position:absolute;\r\n    height:100px;\r\n    width:100px;\r\n`\r\n\r\nexport const openMenu = css`\r\n    top:${-50 * (size.multiplier)}px;\r\n`\r\n\r\nexport const boardPlacement = css`\r\n    margin-top: ${70 * size.multiplier}px;\r\n`\r\n\r\nexport const playerStatusPlacement = css`\r\n    top: ${450 * size.multiplier}px;\r\n`","import styled from \"styled-components\"\r\nimport {size,boardPlacement} from '../../rowz.plugin'\r\n\r\nconst { multiplier } = size\r\nconst dimensions = 350\r\n \r\nexport const CheckerTable = styled.main`\r\n    ${boardPlacement}\r\n    position: absolute;\r\n    height: ${dimensions*multiplier}px;\r\n    width: ${dimensions*multiplier}px;\r\n    padding-top:10px;\r\n    background-color: rgb(240, 240, 240);\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    align-content: stretch;\r\n    box-shadow: 0px 5px 20px -7px #000000;\r\n    z-index: 0;\r\n\r\n    @media (max-width:400px) {\r\n        -webkit-transform: scale(.8);\r\n        -ms-transform: scale(.8);\r\n        transform: scale(.8);\r\n        margin-left:-30px;\r\n    }\r\n`\r\n\r\nexport const Rowz = styled.span`\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    align-content: stretch;\r\n`\r\n","import styled from 'styled-components'\r\nimport { colors,size,menuStyling,openMenu } from '../../rowz.plugin'\r\nconst { baseColor } = colors\r\nconst { multiplier } = size\r\n\r\nexport const CheckerMenu = styled.header`\r\n    position:absolute;\r\n    height: ${50 * multiplier}px;\r\n    width: ${350 * multiplier}px;\r\n    display:flex;\r\n    justify-content:center;\r\n    z-index:10;\r\n    \r\n    button {\r\n        margin:5px;\r\n    }\r\n    \r\n    ${openMenu}\r\n`\r\n\r\nexport const ConfirmNewGame = styled.div`\r\n\r\n\r\n    background-color:${baseColor};\r\n    z-index:100000;\r\n    border-radius:2px;\r\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\r\n\r\n    button {\r\n        z-index:1;\r\n    }\r\n\r\n    ${menuStyling}\r\n    \r\n    // position:absolute;\r\n    // height:100px;\r\n    // width:100px;\r\n    // background-color:${baseColor};\r\n    // z-index:100000;\r\n    // border-radius:2px;\r\n    // box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\r\n\r\n    // button {\r\n    //     z-index:1;\r\n    // }\r\n`","import { CheckerMenu,ConfirmNewGame } from \"./menu.styles\"\r\nimport { useState } from \"react\"\r\n\r\nexport const Menu = ({newGame}) => {\r\n\r\n    const [confirmNewGame,setConfirmNewGame] = useState(false)\r\n\r\n    return (\r\n        <CheckerMenu>\r\n            <button onClick={() => setConfirmNewGame(!confirmNewGame)}>New Game</button>\r\n\r\n            {confirmNewGame && <ConfirmNewGame>\r\n\r\n                <h6>are you sure?</h6>\r\n\r\n                <button \r\n                    onClick={() => {\r\n                        newGame()\r\n                        setConfirmNewGame(!confirmNewGame)}\r\n                    }\r\n                    >yes\r\n                </button>\r\n                    \r\n                \r\n                <button\r\n                    onClick={() => setConfirmNewGame(!confirmNewGame)}\r\n                    >no\r\n                </button>\r\n\r\n            </ConfirmNewGame>}\r\n        </CheckerMenu>\r\n    )\r\n}","import styled, { css } from \"styled-components\";\r\nimport { colors,size } from '../../rowz.plugin'\r\n\r\nconst { baseColor,secondaryColor } = colors\r\nconst { multiplier } = size\r\n\r\nexport const TilePlate = styled.main`\r\n\r\n    position: relative;\r\n    height: ${42 * multiplier}px;\r\n    width: ${42 * multiplier}px;\r\n    margin: none;\r\n    // margin-top:10px;\r\n    \r\n`\r\n\r\nconst displayOpac = css`\r\n    opacity: .4;\r\n    transition: visibility 0s .25s, opacity .25s linear;\r\n`\r\n\r\nconst hideOpac = css`\r\n    opacity: 1;\r\n    transition: visibility 0s .25s, opacity .25s linear;\r\n`\r\nconst tileColor = (color) => {\r\n    return (color ? `black` : 'white')\r\n}\r\nexport const TileStyles = styled.div`\r\n    position: relative;\r\n    height: ${40 * multiplier}px;\r\n    width: ${40 * multiplier}px;\r\n    background-color: coral;\r\n    background-color:${({color}) => (color === -1 ? `${secondaryColor}` : `${baseColor}`)};\r\n    ${({color}) => tileColor(color === -1)}\r\n    margin: ${1 * multiplier}px;\r\n    ${({activeLocation}) => (!activeLocation[1] ? hideOpac : displayOpac) }\r\n`","export const SadFace = (color) => {\r\n    return(\r\n        <svg style={{color:color}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" className=\"w-6 h-6\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.182 16.318A4.486 4.486 0 0012.016 15a4.486 4.486 0 00-3.198 1.318M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z\" />\r\n        </svg>\r\n\r\n    )\r\n}\r\n\r\nexport const SmileFace = (color) => {\r\n    return (\r\n        <svg style={{color:color}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" className=\"w-6 h-6\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75zm-.375 0h.008v.015h-.008V9.75zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-.375 0h.008v.015h-.008V9.75z\" />\r\n        </svg>\r\n\r\n    )\r\n}\r\n\r\nexport const CloseButton = (color) => {\r\n    return (\r\n        <svg style={{color:color}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n    )\r\n}","import styled from \"styled-components\";\r\nimport { size } from '../../../rowz.plugin'\r\n\r\nconst { multiplier } = size\r\n\r\nexport const ControlBox = styled.main`\r\n    position: absolute;\r\n    height: ${150 * multiplier}px;\r\n    width: ${150 * multiplier}px;\r\n    right: ${-55 * multiplier}px;\r\n    top: ${-55 * multiplier}px;\r\n    z-index: 99;\r\n    pointer-events: auto;\r\n`;\r\n\r\nexport const ArrowButton = styled.span`\r\n    position: absolute;\r\n    height: ${20 * multiplier}px;\r\n    width: ${20 * multiplier}px;\r\n    border: solid green;\r\n    border-width: 0 ${6 * multiplier}px ${6 * multiplier}px 0;\r\n    display: inline-block;\r\n    z-index: 1000;\r\n    pointer-events: auto;\r\n    z-index:1;\r\n`;\r\n\r\nexport const LowRight = styled(ArrowButton)`\r\n    left:${105 * multiplier}px;\r\n    top: ${105 * multiplier}px;\r\n`;\r\n\r\nexport const LowLeft = styled(ArrowButton)`\r\n    left:${20 * multiplier}px;\r\n    top: ${105 * multiplier}px;\r\n    transform: rotate(90deg); /* Equal to rotateZ(45deg) */\r\n`;\r\n\r\nexport const TopLeft = styled(ArrowButton)`\r\n    left: ${20 * multiplier}px;\r\n    top: ${20 * multiplier}px;\r\n    transform: rotate(180deg);\r\n`;\r\n\r\nexport const TopRight = styled(ArrowButton)`\r\n    left:${105 * multiplier}px;\r\n    top: ${20 * multiplier}px;\r\n    transform: rotate(270deg);\r\n`;\r\n\r\nexport const CloseController = styled.span`\r\n    position: absolute;\r\n    height: ${40 * multiplier}px;\r\n    width: ${40 * multiplier}px;\r\n    border-radius: 50%;\r\n    background-color: red;\r\n    top: ${55 * multiplier}px;\r\n    left: ${55 * multiplier}px;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    flex-wrap: nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    align-content: center;\r\n    pointer-events: auto;\r\n`;","import { CloseButton } from \"../Piece/SVG\"\r\nimport {\r\n    ControlBox,\r\n    LowRight,\r\n    LowLeft,\r\n    TopLeft,\r\n    TopRight,\r\n    CloseController,\r\n} from \"./controls.styles\"\r\n\r\nexport const Controller = (props) => {\r\n\r\n    const {\r\n        unselectTile,\r\n        setMoves,\r\n        activeLocation,\r\n        currentPiece,\r\n        x,y,\r\n        chainKillAvailable,\r\n        moveOptions,\r\n        previousPiece,\r\n    } = props\r\n\r\n    const selectionConstraint = (coords) => {\r\n        if (activeLocation[2] !== undefined && previousPiece !== null) {\r\n            if (currentPiece[0].id === previousPiece.id && moveOptions[0] !== undefined) {\r\n                if (coords[0] === x+1 && coords[1] === y-1) {\r\n                    return 'top_right'\r\n                } else if (coords[0] === x+1 && coords[1] === y+1) {\r\n                    return 'low_right'\r\n                } else if (coords[0] === x-1 && coords[1] === y+1) {\r\n                    return 'low_left'\r\n                } else if (coords[0] === x-1 && coords[1] === y-1) {\r\n                    return 'top_left'\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const actuator = (x,y) => {\r\n        setMoves(x,y,currentPiece)\r\n    };\r\n\r\n    return (\r\n        <ControlBox>\r\n            \r\n            <CloseController onClick={() => unselectTile()}>\r\n                {CloseButton('#fff')}\r\n            </CloseController>\r\n\r\n            {!chainKillAvailable || selectionConstraint(moveOptions) === 'low_right' ?\r\n            <LowRight onClick={() => actuator(x+1,y+1)} />:null}\r\n\r\n            {!chainKillAvailable || selectionConstraint(moveOptions) === 'low_left' ?\r\n            <LowLeft onClick={() => actuator(x-1,y+1)} />:null}\r\n\r\n            {!chainKillAvailable || selectionConstraint(moveOptions) === 'top_left' ?\r\n            <TopLeft onClick={() => actuator(x-1,y-1)} />:null}\r\n\r\n            {!chainKillAvailable || selectionConstraint(moveOptions) === 'top_right' ?\r\n            <TopRight onClick={() => actuator(x+1,y-1)} />:null}\r\n\r\n        </ControlBox>\r\n    )\r\n};\r\n\r\nexport default Controller","import './tile.styles.css'\r\nimport { TilePlate,TileStyles } from './tile.styles'\r\nimport Controller from './ControlPanel/controls.component'\r\n\r\nconst Tile = (props) => {\r\n\r\n    \r\n    const {\r\n        x,\r\n        y,\r\n        color,\r\n        currentPiece,\r\n        activeLocation,\r\n        currentPlayer,\r\n        chainKillAvailable,\r\n        moveOptions,\r\n        pieces,\r\n        previousPiece,\r\n   \r\n        setMoves\r\n    } = props\r\n    \r\n    const getCurrent = (params) => {\r\n        if(currentPiece[0] !== undefined) {\r\n            switch (params) {\r\n                case 'id':\r\n                    return currentPiece[0].id;\r\n                case 'isKing':\r\n                    return currentPiece[0].isKing;\r\n                case 'pendingDeath':\r\n                    return currentPiece[0].pendingDeath\r\n                case 'isInGame':\r\n                    return currentPiece[0].isInGame\r\n                case 'player':\r\n                    return currentPiece[0].player\r\n                default:\r\n                    return\r\n            }\r\n   \r\n        }\r\n    }\r\n    \r\n    return(\r\n        <TilePlate\r\n            activeLocation={activeLocation}\r\n            color={color}\r\n        >\r\n\r\n            <TileStyles\r\n                onClick={() => props.selectTile(x,y,currentPiece)}\r\n                activeLocation={activeLocation}\r\n                color={color}\r\n            />\r\n            \r\n            {activeLocation[0] === x && activeLocation[1] === y ? \r\n            <Controller\r\n                getCurrent={getCurrent}\r\n                setMoves={setMoves}\r\n                x={x}\r\n                y={y}\r\n                currentPiece={currentPiece}\r\n                currentPlayer={currentPlayer}\r\n                pieces={pieces}\r\n                activeLocation={activeLocation}\r\n                unselectTile={props.unselectTile}\r\n                chainKillAvailable={chainKillAvailable}\r\n                moveOptions={moveOptions}\r\n                previousPiece={previousPiece}\r\n            />\r\n            :\r\n            null\r\n            }\r\n        \r\n        </TilePlate>\r\n    )\r\n}\r\n\r\nexport default Tile","import styled, { css } from \"styled-components\";\r\nimport { size } from \"../../../rowz.plugin\";\r\n\r\nconst { multiplier } = size\r\n\r\nconst Player = css`\r\n    position: absolute;\r\n    height: ${35 * multiplier}px;\r\n    width: ${35 * multiplier}px;\r\n    border-radius: 50%;\r\n    background: linear-gradient(0turn,#555,rgb(143, 143, 143));\r\n    box-shadow: 5px 5px 20px -7px #000000;\r\n    border: .1px solid #fff;\r\n    visibility: visible;\r\n    opacity: 1;\r\n    transition: opacity .2s linear;\r\n    z-index: 3;\r\n    pointer-events: none;\r\n`\r\n\r\nexport const GoodPlayer = styled.div`${Player}`\r\nexport const BadPlayer = styled(GoodPlayer)`\r\n    background: linear-gradient(0turn,rgb(160, 158, 158),rgb(226, 226, 226));\r\n    border: .1px solid #555;\r\n`","// const sass = require('sass');\r\nimport './crown.styles.scss'\r\n\r\nconst Crown = () => {\r\n\r\n    return(\r\n        <div className=\"crown\">\r\n            <div className=\"point\"></div>\r\n            <div className=\"point\"></div>\r\n            <div className=\"point\"></div>\r\n            <div className=\"point\"></div>\r\n            <div className=\"point\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Crown","import { SadFace, SmileFace } from './SVG'\r\nimport { GoodPlayer,BadPlayer } from './piece.styles'\r\nimport { size } from '../../../rowz.plugin'\r\nimport Crown from '../Crown/crown.component'\r\nimport '../tile.styles.css'\r\n\r\nconst { multiplier } = size\r\n\r\nconst Piece = ({items}) => {    \r\n\r\n    const {isKing,player,x,y,pendingDeath} = items\r\n\r\n    const engine = {\r\n        left:`${5+(x*(43 * multiplier))}px`,\r\n        top:`${10+(y*(42 * multiplier))}px`,\r\n        position:'absolute',\r\n        transition: \"all 1000ms\",\r\n    }\r\n\r\n    return (\r\n        <div style={engine}>\r\n\r\n            {player ==='good' ? \r\n            <GoodPlayer>\r\n                {isKing && <Crown />}\r\n                {pendingDeath && SadFace('#fff')}\r\n                {isKing && !pendingDeath ? SmileFace('#fff') : null}\r\n            </GoodPlayer>\r\n            :\r\n            <BadPlayer>\r\n                {pendingDeath && SadFace('#555')}\r\n                {isKing && <Crown />}\r\n                {isKing && !pendingDeath ? SmileFace('#555') : null}\r\n            </BadPlayer>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Piece","\r\n\r\nconst pieces = [\r\n    {\r\n        id:1,\r\n        player:'good',\r\n        x:1,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:2,\r\n        player:'good',\r\n        x:3,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:3,\r\n        player:'good',\r\n        x:5,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:4,\r\n        player:'good',\r\n        x:7,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---2\r\n    {\r\n        id:5,\r\n        player:'good',\r\n        x:5,\r\n        y:2,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:6,\r\n        player:'good',\r\n        x:4,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:7,\r\n        player:'good',\r\n        x:2,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:8,\r\n        player:'good',\r\n        x:0,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---- 3\r\n    {\r\n        id:9,\r\n        player:'good',\r\n        x:1,\r\n        y:2,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:10,\r\n        player:'good',\r\n        x:3,\r\n        y:2,\r\n        // y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:11,\r\n        player:'good',\r\n        x:6,\r\n        y:1,\r\n        // y:4, \r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:12,\r\n        player:'good',\r\n        x:7,\r\n        y:2 ,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    // bad pieces\r\n\r\n    {\r\n        id:13,\r\n        player:'bad',\r\n        x:0,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:14,\r\n        player:'bad',\r\n        x:2,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:15,\r\n        player:'bad',\r\n        x:4,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:16,\r\n        player:'bad',\r\n        x:6,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---2\r\n    {\r\n        id:17,\r\n        player:'bad',\r\n        x:7,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:18,\r\n        player:'bad',\r\n        x:5,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:19,\r\n        player:'bad',\r\n        x:3,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:20,\r\n        player:'bad',\r\n        x:1,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    // // ---- 3\r\n    {\r\n        id:21,\r\n        player:'bad',\r\n        x:0,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:22,\r\n        player:'bad',\r\n        x:2,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:23,\r\n        player:'bad',\r\n        x:4,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:24,\r\n        player:'bad',\r\n        x:6,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n]\r\n\r\nexport default pieces","import styled from 'styled-components'\r\nimport { size,playerStatusPlacement } from '../../rowz.plugin'\r\n\r\nconst {multiplier } = size\r\n\r\nexport const TurnIndicator = styled.main`\r\n    position: absolute;\r\n    color: #555;\r\n    z-index: 100000;\r\n    height: ${50 * multiplier}px;\r\n    width: ${180 * multiplier}px;\r\n    margin-left: ${20 * multiplier}px;\r\n    display: flex;\r\n    align-items: center;\r\n    background: rgba(165, 165, 165, 0.116);\r\n    box-shadow: 5px 5px 20px -7px #000000;\r\n    backdrop-filter: blur(12px);\r\n    border-radius: 10px;\r\n    ${playerStatusPlacement}\r\n`\r\nexport const TurnIndicatorText = styled.i`\r\n    margin-left: ${50 * multiplier}px;\r\n    font-size:${15 * multiplier}px;\r\n    font-weight: 800;\r\n    font-family: 'Poppins', sans-serif;\r\n    opacity: .6;\r\n`\r\n","import { GoodPlayer,BadPlayer } from '../Tile/Piece/piece.styles'\r\nimport { TurnIndicator,TurnIndicatorText } from './current.styles'\r\n\r\nconst CurrentPlayer = (props) => {\r\n\r\n    const { currentPlayer } = props\r\n\r\n    return(\r\n        <TurnIndicator>\r\n            {currentPlayer === 'good' ?<GoodPlayer/>:<BadPlayer/>}\r\n            <TurnIndicatorText>Current Player</TurnIndicatorText>\r\n        </TurnIndicator>\r\n        )\r\n        \r\n    }\r\n    export default CurrentPlayer","import { ErrorMsg } from '../Error/error.component'\r\nimport { attackLogic } from './attack.logic'\r\nimport { CheckerTable,Rowz } from './board.styles'\r\nimport { Menu } from '../Menu/menu.component'\r\nimport React, { Component } from 'react'\r\nimport Tile from '../Tile/tile.component'\r\nimport Piece from '../Tile/Piece/piece.component'\r\nimport pieces from '../pieces'\r\nimport CurrentPlayer from '../TurnIndicator/current.component'\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../../../WS'\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8003`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nconst upLeft = [-1,-1]\r\nconst upRight = [1,-1]\r\nconst downLeft = [-1,1]\r\nconst downRight = [1,1]\r\nconst moves = [upLeft,upRight,downLeft,downRight]\r\n\r\nclass CheckerBoard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            previousPiece:null,\r\n            activeLocation:[null,null], // --- Player selects tile\r\n            pieces:[],\r\n            matrix:[],\r\n            currentPlayer:'bad',\r\n            chainKillAvailable:false,\r\n            moveOptions:null,\r\n            errorMessage:null,\r\n        }\r\n        this.selectTile = this.selectTile.bind(this)\r\n        this.boardFactory = this.boardFactory.bind(this)\r\n        this.getConnected = this.getConnected.bind(this)\r\n        this.sendToSocketsSwitch = this.sendToSocketsSwitch.bind(this)\r\n        this.setMoves = this.setMoves.bind(this)\r\n        this.executeMovePiece = this.executeMovePiece.bind(this)\r\n        this.killPiece = this.killPiece.bind(this)\r\n        this.checkPieceLocations = this.checkPieceLocations.bind(this)\r\n        this.switchPlayer = this.switchPlayer.bind(this)\r\n        this.unselectTile = this.unselectTile.bind(this)\r\n        this.handleInput = this.handleInput.bind(this)\r\n        this.kingAll = this.kingAll.bind(this)\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.boardFactory()\r\n        this.getConnected()\r\n        this.loadGame()\r\n    };\r\n    getConnected = () => {\r\n        client.onopen = () => {\r\n            console.log('client connected')\r\n        }\r\n        client.onmessage = (message) => {\r\n            const { currentGame } = this.props\r\n            const dataFromServer = JSON.parse(message.data);\r\n            const { gameID,input,type } = dataFromServer\r\n\r\n            if (type === 'checkerTurn' && gameID === currentGame ) {\r\n                console.log(dataFromServer)\r\n                // --- Save game on browsers --- //\r\n                this.saveGame(message.data)\r\n                // ----------------------- //\r\n                const { previousPiece,newPieces,currentPlayer,autoTurn } = input\r\n                newPieces.forEach(el => el.pendingDeath = false)\r\n                this.setState({\r\n                    pieces:newPieces,\r\n                    previousPiece:previousPiece,\r\n                    currentPlayer:currentPlayer\r\n                })\r\n\r\n                this.switchPlayer(currentPlayer)\r\n\r\n                if (this.state.chainKillAvailable === true) {\r\n                    const { x,y } = previousPiece\r\n                    this.setState({\r\n                        activeLocation:[x,y,previousPiece],\r\n                    })\r\n                } else {\r\n                    if (!autoTurn) {this.mandatoryAttack()}\r\n                }           \r\n            }\r\n        }\r\n    };\r\n\r\n    // --- this function makes all pieces king - it's purpose is strictly for testing moves in all direction --- //\r\n    kingAll = () => {\r\n        const { pieces } = this.state\r\n        var updatePieces = []\r\n        pieces.forEach(el => {\r\n            el.isKing = true\r\n            updatePieces.push(el)\r\n        })\r\n        this.setState({pieces:updatePieces})\r\n        \r\n    };\r\n\r\n    saveGame = (items) => {\r\n            localStorage.setItem('savedGame',items)\r\n    }\r\n\r\n    loadGame = () => {\r\n        const pieces = localStorage.getItem('savedGame')\r\n        try {if (pieces !== undefined) {\r\n            const data = JSON.parse(pieces)\r\n            const { input } = data\r\n            const { currentPlayer,previousPiece } = input\r\n            this.switchPlayer(currentPlayer)\r\n            this.setState({\r\n                pieces:data.input.newPieces,\r\n                previousPiece:previousPiece,\r\n            })\r\n        }} catch (err) {this.newGame()}\r\n    }\r\n\r\n    newGame = () => {\r\n        this.setState({pieces:pieces})\r\n        this.saveGame('')\r\n    }\r\n\r\n    sendToSocketsSwitch = (input) => {\r\n        // this.kingAll()\r\n        const { currentGame } = this.props\r\n        this.setState({activeLocation:[null,null]})\r\n        var gameObject = {\r\n            type:\"checkerTurn\",\r\n            input,\r\n            gameID:currentGame\r\n        }\r\n        gameObject = JSON.stringify(gameObject)\r\n        client.send(gameObject)\r\n    };\r\n\r\n    boardFactory = () => {\r\n        var matrix = []\r\n        var numOfTiles = 8\r\n        var M = Array.from(Array(numOfTiles)) // rows\r\n\r\n        for(let i = 0; i < numOfTiles; i++){matrix.push(M)} // columns \r\n\r\n        this.setState({matrix:matrix})\r\n    }\r\n\r\n    smile = (x,y) => { // Display frown on piece when it's about to be attacked\r\n        const { pieces } = this.state\r\n        pieces.forEach(el => {if (el.x === x && el.y === y) {el.pendingDeath = true}})\r\n        this.setState({\r\n            pieces:pieces,\r\n            moveOptions:[x,y]\r\n        })\r\n    }\r\n\r\n    garbageRemoval = async (param) => {\r\n        const { nextX,nextY,id,enemyX,enemyY } = param\r\n        const updatedPieces = await this.killPiece(enemyX,enemyY)\r\n        const pieceIndex = await updatedPieces.findIndex(el => el.id === id)\r\n        updatedPieces[pieceIndex].x = nextX\r\n        updatedPieces[pieceIndex].y = nextY\r\n        this.chainKills(updatedPieces,updatedPieces[pieceIndex],true)\r\n        \r\n        const sendInfo = {\r\n            newPieces:updatedPieces,\r\n            currentPlayer:this.state.currentPlayer,\r\n            previousPiece:updatedPieces[pieceIndex],\r\n            autoTurn:true\r\n        }\r\n        return this.sendToSocketsSwitch(sendInfo)\r\n    }\r\n\r\n    mandatoryAttack = async () => {\r\n        const { pieces,currentPlayer } = this.state\r\n        pieces.forEach(el => el.pendingDeath = false)\r\n        var currentPieces = pieces.filter((el) => el.player === currentPlayer)\r\n        var enemyPieces = pieces.filter((el) => el.player !== currentPlayer)\r\n\r\n        await currentPieces.forEach(el => {\r\n            enemyPieces.forEach(enemy => {\r\n                attackLogic(enemy.x,enemy.y,[el],this.state,this.checkPieceLocations).then(res => {\r\n                    if (res != null) {\r\n                        // this.garbageRemoval(res) // Still working out bugs\r\n                        return this.smile(res.enemyX,res.enemyY)\r\n                    }\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    // --- Checks for chained attacks\r\n    chainKills = (updatedPieces,currentPiece) => {\r\n        const { matrix } = this.state\r\n        const { player,x,y,isKing } = currentPiece\r\n        var moveOptions = null\r\n\r\n        moves.forEach(e => {\r\n            var locatePiece = this.checkPieceLocations(x+e[0],y+e[1],updatedPieces)\r\n            \r\n            // --- check for adjacent pieces / is piece friend of foe? --- //\r\n            if(locatePiece !== undefined && locatePiece.player !== player){\r\n                \r\n                // --- if it is a foe, is the next location over available? --- //\r\n                var nextX = parseInt(e[0]) + locatePiece.x // potential jump to x\r\n                var nextY = parseInt(e[1]) + locatePiece.y // potential jump to y\r\n                var availMove = this.checkPieceLocations(nextX,nextY,updatedPieces) // are available \"jump to\" coordinates available\r\n\r\n                if(availMove === undefined) {\r\n                    \r\n                    // -- is location on the board -- //\r\n                    if(nextX >= 0 && nextX <= matrix.length-1){\r\n                        if(nextY >= 0 && nextY <= matrix.length-1) {\r\n\r\n                            // --- can move be made if isKing === false ? --- //\r\n                            // --- \"good\" non-kings\r\n                            if(player === \"good\" && nextY < y){\r\n                                if(isKing === false){return}\r\n                            }\r\n                            \r\n                            // --- \"bad\" non-kings\r\n                            if(player === \"bad\" && nextY > y){\r\n                                if(isKing === false){return}\r\n                            }\r\n\r\n                            moveOptions = [locatePiece.x,locatePiece.y]\r\n\r\n                            this.setState({\r\n                                moveOptions:moveOptions,\r\n                                chainKillAvailable:true,\r\n                            })\r\n                            this.switchPlayer(player)\r\n                            return\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                \r\n            }\r\n            return\r\n        })\r\n    }\r\n\r\n    setMoves = async (x,y,currentPiece) => { // gets all move options based on active location\r\n        const { matrix,pieces,currentPlayer } = this.state\r\n        const { isKing,id } = currentPiece[0]\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n        this.setState({\r\n            chainKillAvailable:false,\r\n            previousPiece:null,\r\n            moveOptions:null\r\n        })\r\n\r\n        if(currentPlayer !== pieces[pieceIndex].player){\r\n            return\r\n        }\r\n\r\n        // --- this checks all pieces on board for available locations/moves --- //\r\n        for (let key in pieces){\r\n            if(pieces[key].x === x && pieces[key].y === y){\r\n                if(pieces[key].player !== currentPlayer){\r\n                    \r\n                    // if the chosen move already contains a piece, check if friend or foe\r\n                    const attackCoordinates = await attackLogic(pieces[key].x,pieces[key].y,currentPiece,this.state,this.checkPieceLocations)\r\n                    if (!attackCoordinates) {return console.log('This move is not allowed')}\r\n                    const { nextX,nextY,enemyX,enemyY,id } = attackCoordinates\r\n\r\n                    // --- Make attack --- //\r\n                    const updatedPieces = await this.killPiece(enemyX,enemyY)\r\n                    pieceIndex = updatedPieces.findIndex((el) => el.id === id)\r\n                    updatedPieces[pieceIndex].x = nextX\r\n                    updatedPieces[pieceIndex].y = nextY\r\n\r\n                    // -- piece becomes king if \"good\" AND at max-y location -- //\r\n                    if (updatedPieces[pieceIndex].player === 'good' && updatedPieces[pieceIndex].y === matrix.length-1) {\r\n                        updatedPieces[pieceIndex].isKing = true\r\n                    }\r\n\r\n                    // -- piece becomes king if \"bad\" AND at min-y location -- //\r\n                    if(updatedPieces[pieceIndex].player === 'bad' && updatedPieces[pieceIndex].y === 0 ){\r\n                        updatedPieces[pieceIndex].isKing = true\r\n                    }\r\n    \r\n                    // -- make chain attack if available -- //\r\n                    this.chainKills(updatedPieces,updatedPieces[pieceIndex],true)\r\n                    var sendInfo = {\r\n                        newPieces:updatedPieces,\r\n                        currentPlayer:this.state.currentPlayer,\r\n                        previousPiece:updatedPieces[pieceIndex]\r\n                    }\r\n                    this.sendToSocketsSwitch(sendInfo)\r\n                    return \r\n                    } else {return}\r\n            }\r\n        }\r\n        return await this.executeMovePiece(x,y,id,currentPlayer,isKing)\r\n    }\r\n\r\n    // --- makes actual movements --- //\r\n    executeMovePiece = (x,y,id,currentPlayer,isKing) => {\r\n        const { pieces,matrix,activeLocation } = this.state\r\n        const landingY = activeLocation[1]\r\n        var updatePieces = [...pieces]\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n\r\n        // --- Is location on the board? --- //\r\n        if (x >= 0 && x <= matrix.length-1) {\r\n            if (y >= 0 && 7 <= matrix.length-1) {\r\n                \r\n                // --- non-kings can only move one direction --- //\r\n                if (landingY > y && currentPlayer === 'good'){\r\n                    if(!isKing){\r\n                        return console.log('this move is not allowed')\r\n                    }\r\n                };\r\n                if (landingY < y && currentPlayer === 'bad'){\r\n                    if(!isKing){\r\n                        return console.log('this move is not allowed')\r\n                    } \r\n                };\r\n                updatePieces[pieceIndex].x = x\r\n                updatePieces[pieceIndex].y = y\r\n                \r\n                // --- becomes king --- //\r\n                if(updatePieces[pieceIndex].player === 'bad' && updatePieces[pieceIndex].y === 0 ){\r\n                    updatePieces[pieceIndex].isKing = true\r\n                } else if (updatePieces[pieceIndex].player === 'good' && updatePieces[pieceIndex].y === matrix.length-1) {\r\n                    updatePieces[pieceIndex].isKing = true\r\n                };\r\n        \r\n                var sendInfo = {\r\n                    newPieces:updatePieces,\r\n                    currentPlayer:this.state.currentPlayer,\r\n                    previousPiece:updatePieces[pieceIndex],\r\n                }\r\n                this.sendToSocketsSwitch(sendInfo)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    // --- attacks and removes piece from play --- //\r\n    killPiece = async (enemyX,enemyY,id) => {\r\n        const { pieces } = this.state\r\n        var updatedPieces = [...pieces]\r\n        // var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n        var pieceId = await this.checkPieceLocations(enemyX,enemyY).id\r\n        var killIndex = pieces.findIndex((el) => el.id === pieceId)\r\n        updatedPieces.splice(killIndex,1)\r\n        \r\n        return updatedPieces\r\n    }\r\n\r\n    // -- checks location for availability -- //\r\n    checkPieceLocations = (x,y,updatedPieces) => {\r\n        const { pieces } = this.state\r\n\r\n        // -- this is for chain kills -- //\r\n        if(updatedPieces != null){\r\n            for (let key in updatedPieces){\r\n                if(updatedPieces[key].x === x && updatedPieces[key].y === y){\r\n                    return updatedPieces[key]\r\n                }\r\n            }\r\n            // -- this is for manual kills -- //\r\n        } else {\r\n            for (let key in pieces){\r\n                if(pieces[key].x === x && pieces[key].y === y){\r\n                    return pieces[key]\r\n                }\r\n            }\r\n        }   \r\n    };\r\n\r\n    switchPlayer = async (input) => {\r\n        switch (input) {\r\n            case 'good':\r\n                this.setState({currentPlayer:'bad'})\r\n                break;\r\n            case 'bad':\r\n                this.setState({currentPlayer:'good'})\r\n                break;\r\n            default:\r\n                return\r\n        };\r\n    };\r\n\r\n    selectTile = (x,y,piece) => {\r\n        const newActiveLocation = [x,y,piece]\r\n        if(piece[0] !== undefined) {\r\n            this.handleInput('activeLocation',newActiveLocation)\r\n        }\r\n        return\r\n    };\r\n    \r\n    unselectTile = () => {\r\n        this.handleInput('activeLocation',[null,null])\r\n    };\r\n\r\n    handleInput = (prop,val) => {\r\n        this.setState({[prop]:val})\r\n        return\r\n    };\r\n\r\n    render() {\r\n\r\n        const {\r\n            matrix,\r\n            pieces,\r\n            activeLocation,\r\n            currentPlayer,\r\n            tileIsSelected,\r\n            moveOptions,\r\n            chainKillAvailable,\r\n            previousPiece,\r\n            errorMessage\r\n        } = this.state\r\n\r\n        const mappedMatrix = matrix.map((row,id) => {\r\n            return row.map((col,id2) => {\r\n                const currentPiece = pieces.filter(e => e.x === id2 && e.y === id)\r\n                return (\r\n                <Tile\r\n                    key={[id2,id]}\r\n                    x={id2}\r\n                    y={id}\r\n                    color={(-1)**(id+id2)}\r\n                    selectTile={this.selectTile}\r\n                    unselectTile={this.unselectTile}\r\n                    setMoves={this.setMoves}\r\n                    currentPiece={currentPiece}\r\n                    currentPlayer={currentPlayer}\r\n                    activeLocation={activeLocation}\r\n                    tileIsSelected={tileIsSelected}\r\n                    pieces={pieces}\r\n                    moveOptions={moveOptions}\r\n                    chainKillAvailable={chainKillAvailable}\r\n                    previousPiece={previousPiece}\r\n                />\r\n                )\r\n            })\r\n        });\r\n\r\n        const mappedPieces = pieces.map(el => {\r\n            return (\r\n                <Piece key={el.id} items={el} />\r\n            )\r\n        });\r\n\r\n        return(\r\n            <div>\r\n                <CheckerTable>\r\n                    <Menu\r\n                        newGame={this.newGame}\r\n                    />\r\n                    {errorMessage && <ErrorMsg />}\r\n                    <Rowz>\r\n                        {mappedPieces}\r\n                        {mappedMatrix}\r\n                    </Rowz>\r\n                </CheckerTable>\r\n                <CurrentPlayer currentPlayer={currentPlayer} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CheckerBoard","import { useState } from 'react'\r\nimport './GameInvite.css'\r\n\r\n\r\nconst GameInvite = (props) => {\r\n\r\n    const { isAccepted,photo,gameID } = props.challengeUser.gameInformation\r\n\r\n    const [isConfirmed,setIsConfirmed] = useState(false)\r\n\r\n    const [openAccept,setOpenAccept] = useState(false)\r\n    // console.log(props)\r\n\r\n    const handleAccept= (confirm,val) => {\r\n        // if(isConfirmed === false){\r\n        props.changeGameID(confirm,val)\r\n        setOpenAccept(!openAccept)\r\n        // }\r\n        if(confirm === true) {setIsConfirmed(true)}\r\n    }\r\n\r\n    return(<div>\r\n        {openAccept === false ? <div className={`invite`} >\r\n            <img src={photo} className='invite-photo' onClick={() => {\r\n                if(isConfirmed === false){setOpenAccept(!openAccept)} else {props.hideView('showGames')} // once challenge is accepted, photo will be used to open game\r\n                }\r\n            } />\r\n            {/* <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"game-invite-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg> */}\r\n            {/* <div className='choose-accept'><p className='choose-accept-text'>accept</p></div> */}\r\n            \r\n            {isAccepted === false && isConfirmed === false ? <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"game-invite-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n            </svg> : null}\r\n        </div> :\r\n        <div className='invite choose-accept'>\r\n            <div className='game-invite-title' >\r\n                <p className='game-invite-title-text' >Accept Challenge?</p>\r\n            </div>\r\n            <div className='invite-yes-no' ><p className='choose-accept-text' onClick={() => handleAccept(true,gameID)} >yes</p><p className='choose-accept-text' onClick={() => handleAccept(false)} >no</p></div>\r\n        </div>}\r\n    </div>)\r\n}\r\n\r\nexport default GameInvite","import styled from 'styled-components'\r\n\r\nexport const GameTable = styled.main`\r\n    height: 450px;\r\n    width: 390px;\r\n    border-radius: 3%;\r\n    background-color: #fff;\r\n    color: #555;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    align-content: center;\r\n    top: 5vh;\r\n    position: fixed;\r\n    z-index:1;\r\n    box-shadow:10px 5px 60px 10px rgba(36, 36, 36, 1);\r\n    margin: none;\r\n    overflow:hidden;\r\n\r\n    @media(max-width:400px) {\r\n        width:100%;\r\n    }\r\n`","import { useState,useEffect } from \"react\"\r\n// import CheckerBoard from \"./checkers/CheckerBoard\"\r\nimport CheckerBoard from './Rowz/CheckerBoard/CheckerBoard'\r\nimport GameInvite from \"../UserPage/Friends/GameInvite\"\r\nimport './Table.css'\r\nimport { GameTable } from \"./table.styles\"\r\n// import { loginUser,registerUser,updateUser } from '../../../ducks/userReducer'\r\n// import { connect } from 'react-redux'\r\n\r\nconst Table = (props) => {\r\n\r\n    const { challengeUser,currentGame,client,user } = props\r\n\r\n// const [ openTable,setOpenTable ] = useState(false)\r\n\r\n    return(\r\n        <GameTable>\r\n            <section className=\"game-title\">\r\n                <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" onClick={() => props.hideView(null)} >\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n            </section>\r\n            {challengeUser != null ? <img className=\"foe-photo\" src={challengeUser.gameInformation.photo} /> : null}\r\n            <CheckerBoard currentGame={currentGame} client={props.client} user={user}/>\r\n        </GameTable>\r\n    )\r\n}\r\n\r\n// function mapStateToProps(reduxState) {\r\n//     return reduxState\r\n// }\r\n\r\n// export default connect({mapStateToProps,updateUser})(Table)\r\n\r\nexport default Table","import './MyConnection.css'\r\nimport axios from 'axios'\r\nimport { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst MyConnection = (props) => {\r\n\r\n    const { photo_url,user_name,user_id,my_id } = props \r\n\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n    const [remove,setRemove] = useState(false)\r\n\r\n    useEffect(() => {\r\n        // props.getUserID(user_id)\r\n        // axios.get('/api/users/all').then(res => {\r\n        //     setUsers(res.data)\r\n        // })\r\n        // axios.get('/api/products/all').then((res) => {\r\n        //     setProducts(res.data)\r\n        // })\r\n        // axios.get('/api/orders/join').then((res) => {\r\n        //     // console.log('this is res',res.data)\r\n        //     setOrders(res.data)\r\n        // }).catch((err) => {\r\n        //     console.log('this is from joins',err)\r\n        // })\r\n\r\n    }, [])\r\n\r\n    const handleRemove = (user_id,my_id) => {\r\n        props.removeConnection(user_id,my_id)\r\n        setRemove(true)\r\n    }\r\n\r\n    return(<div>{remove === false ? <div className=\"connection-container\">\r\n\r\n        <div className='photo-name-flex' ><Link to={`viewuser/${user_id}`} ><img src={photo_url} className='connection-photo' /></Link><p className='connection-name' >{user_name}</p></div>\r\n\r\n        {menuOpen === true ? <ul className={`friend-options`} >\r\n            {/* <div className='friend-menu-row'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className='friend-menu-icon' fill=\"none\"  stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                </svg>\r\n                <p className='friend-menu-text' >message</p>\r\n            </div> */}\r\n            {/* <p>content</p> */}\r\n\r\n            <div className='friend-menu-row' onClick={() => props.getUserID(user_id)} >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n                <p className='friend-menu-text' >Game invite</p>\r\n            </div>\r\n            {/* <p>content</p> */}\r\n\r\n            <div className='friend-menu-row' >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n            </svg>\r\n                <p className='friend-menu-text' onClick={() => handleRemove(user_id,my_id)} >remove friend</p>\r\n            </div>\r\n            {/* <p>content</p> */}\r\n        </ul> : null}\r\n        <svg onClick={() => setMenuOpen(!menuOpen)} xmlns=\"http://www.w3.org/2000/svg\" className='small-icon' style={{marginBottom:'10px',marginRight:'0px', height:'40px',width:'40px',opacity:'60%'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n        </svg>\r\n\r\n\r\n    </div> : null}</div>)\r\n}\r\n\r\nexport default MyConnection","import './MyConnection.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\nconst ConnectRequests = (props) => {\r\n\r\n    const [remove,setRemove] = useState(false)\r\n\r\n    const { photo_url,user_name,user_id,my_id } = props \r\n\r\n    const handleConfirm = (user_id,my_id) => {\r\n        props.acceptRequest(user_id,my_id,photo_url,user_name)\r\n        setRemove(true)\r\n    }\r\n\r\n    const handleRemove = (user_id,my_id) => {\r\n        props.removeConnection(user_id,my_id)\r\n        setRemove(true)\r\n    }\r\n\r\n    \r\n\r\n    return(<div>{remove === false ? <div className={`connection-container`}>\r\n        <div className='photo-name-flex' ><Link to={`viewuser/${user_id}`} ><img src={photo_url} className='connection-photo' /></Link><p className='connection-name' >{user_name}</p></div>\r\n        {/* <button>confirm</button> */}\r\n        {/* <div className='connection-buttons-full'><p>Confirm</p></div> */}\r\n        <div className='button-row' >\r\n            <p className='connection-buttons' style={{marginBottom:'10px'}} onClick={() => handleRemove(user_id,my_id)} >Remove</p>\r\n            <p className='connection-buttons-full' style={{marginBottom:'10px',marginRight:'10px'}} onClick={() => handleConfirm(user_id,my_id)} >Confirm</p>\r\n        </div>\r\n    </div> : null}</div>)\r\n}\r\n\r\nexport default ConnectRequests","import { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport './DisplayFriends.css'\r\nimport ConnectRequests from \"./ConnectRequests\";\r\nimport MyConnection from \"./MyConnections\";\r\nimport Loading from \"../../Loading/Loading\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from \"../../WS\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nclass DisplayFriends extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            requests:[],\r\n            friends:[],\r\n            isLoading:false,\r\n\r\n    // - new friend from websocket - pending accept - //\r\n            newFriends:[],\r\n    // - new friend from websocket - confirmed - //\r\n            justAdded:[],\r\n        }\r\n        this.getMyFriends = this.getMyFriends.bind(this)\r\n        this.acceptRequest = this.acceptRequest.bind(this)\r\n        this.startLoading = this.startLoading.bind(this)\r\n        this.removeConnection = this.removeConnection.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.sockets()\r\n        this.getMyFriends()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.sockets()\r\n    }\r\n\r\n    // --- websocket --- //\r\n    sockets = (input) => {\r\n        const { id } = this.props\r\n        client.onopen = () => {\r\n        }\r\n        client.onmessage = (message) => {\r\n            const dataFromServer = JSON.parse(message.data)\r\n            const { fromUser,friendObj } = dataFromServer\r\n            const { newFriends,friends } = this.state\r\n            if (dataFromServer.type === 'new_friend' && parseInt(fromUser.toUser) === id) {\r\n                newFriends.push(fromUser)\r\n                this.setState({newFriends:newFriends})\r\n            }\r\n            if (dataFromServer.type === 'acceptedFriend'){\r\n                if(parseInt(friendObj.my_id) === id || parseInt(friendObj.user_id) === id){\r\n                    var updateFriends = [...friends]\r\n                    updateFriends.push(friendObj)\r\n                    this.setState({friends:updateFriends})\r\n                }\r\n            }\r\n        }\r\n    }\r\n    newFriendToSocked = (friendObj) => {\r\n        client.send(JSON.stringify({type:\"acceptedFriend\",friendObj}))\r\n    }\r\n    // ---------------------------------------- //\r\n\r\n    getMyFriends = async () => {\r\n        const { id } = this.props\r\n        // --- requests this user has sent --- //\r\n        await axios.get(`/api/join/friends/${id}`).then(res => this.setState({friends:res.data})).catch(err => console.log(err))\r\n\r\n        // --- unconfirmed request this user has recieved --- //\r\n        await axios.get(`/api/get/pending/friends/${id}`).then(res2 => this.setState({requests:res2.data})).catch((err2 )=> console.log('No pending requests',err2)).\r\n\r\n        return\r\n    }\r\n\r\n    startLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    acceptRequest = async (from,to,photo_url,user_name) => {\r\n        const { friends } = this.state\r\n        const yes = true\r\n        var friendObj = {\r\n            photo_url:photo_url,\r\n            user_id:from,\r\n            my_id:to,\r\n            user_name:user_name\r\n        }\r\n        var updateFriends = [...friends]\r\n        updateFriends.push(friendObj)\r\n        this.newFriendToSocked(friendObj)\r\n        const newFriend = await axios.post('/api/accept/connection',{from,to,yes})\r\n    }\r\n\r\n    removeConnection = async (from,to) => {\r\n        console.log('hit remove', from,to)\r\n        axios.post('/api/remove/connection',{from,to})\r\n    }\r\n\r\n    pleaeLogin(){\r\n        alert('please log in')\r\n    }\r\n\r\n    render() {\r\n\r\n        const { requests,friends,isLoading,newFriends } = this.state\r\n        const { id } = this.props\r\n\r\n        const mappedConnections = friends.map(el => {\r\n            return <MyConnection key={el.user_id} photo_url={el.photo_url} user_id={el.user_id} user_name={el.user_name} my_id={id} removeConnection={this.removeConnection} getUserID={this.props.getUserID} />\r\n        })\r\n\r\n        const mappedRequests = requests.map(el => {\r\n            return <ConnectRequests key={el.user_id} photo_url={el.photo_url} user_name={el.user_name} user_id={el.user_id} my_id={id} removeConnection={this.removeConnection}  acceptRequest={this.acceptRequest} />\r\n        })\r\n\r\n        const mappedNewRequestes = newFriends.map(el => {\r\n            return <ConnectRequests key={el.id} photo_url={el.photo} user_name={el.user} user_id={el.id} my_id={id} removeConnection={this.removeConnection}  acceptRequest={this.acceptRequest}/>\r\n        })\r\n\r\n        return(<div className=\"friend-container\">\r\n            {isLoading === true ? <Loading /> : null}\r\n            {mappedNewRequestes}\r\n            {mappedRequests}\r\n            {mappedConnections}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default DisplayFriends","import './SelectedPhoto.css'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst SelectedImage = (props) => {\r\n\r\n    const { image_url,user_id } = props\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n\r\n    const clickHandler = async (params) => {\r\n        await setMenuOpen(!menuOpen)\r\n        await props.setCurrentImg(null)\r\n       \r\n        switch (params) {\r\n            case 'delete':\r\n                await props.removingPhoto(image_url)\r\n                await props.getPhotos(user_id)\r\n                break;\r\n            case 'update_photo':\r\n                await axios.post('/api/users/update/photo/',{image_url,user_id})\r\n                break;\r\n            case 'update_background_img':\r\n                await axios.post('/api/user/update/background',{image_url,user_id})\r\n                break;\r\n        }\r\n        // await props.getPhotos(user_id)\r\n    }\r\n\r\n    return(<div className=\"selected-img\">\r\n        {/* <p>X</p> */}\r\n        <header className='selected-img-head'>\r\n        <svg onClick={() => setMenuOpen(!menuOpen)} xmlns=\"http://www.w3.org/2000/svg\" className='friend-menu-icon' style={{position:'absolute',left:'0px'}}  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            {menuOpen === false ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />:\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />}\r\n        </svg>\r\n\r\n        {menuOpen === true ? <ul className='friend-options' style={{width:'200px',height:'130px',left:'0px',top:'30px'}}>\r\n            <li className='friend-menu-row' style={{width:'200px'}} onClick={() => clickHandler('update_photo')} >Use as Profile Picture</li>\r\n            <li onClick={() => clickHandler('update_background_img')} className='friend-menu-row' style={{width:'200px'}} >Use as Background</li>\r\n            <li onClick={() => clickHandler('delete')} className='friend-menu-row' style={{width:'200px'}} >Delete Photo</li>\r\n        </ul> : null}\r\n\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',right:'0px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => props.setCurrentImg(null)} >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n        </header>\r\n        <img  src={image_url} className=\"prev-im-size\" />\r\n    </div>)\r\n}\r\n\r\nexport default SelectedImage\r\n\r\n\r\n// <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n//   <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n// </svg>","import './PhotoAlbum.css'\r\nimport axios from 'axios'\r\nimport { useState,useEffect } from 'react'\r\nimport SelectedImage from './SelectedImage'\r\nimport Resizer from 'react-image-file-resizer'\r\n// import { get } from 'http'\r\nimport { addNewModel } from '../../../ducks/firebaseReducer'\r\nimport { connect } from 'react-redux'\r\nimport ImagePreview from '../../ProjectDetails/ProjectPhotos/ImagePreview/preview.component';\r\nimport {app} from '../../../base'\r\nconst db = app.firestore()\r\n\r\n\r\nconst PhotoAlbum = (props) => {\r\n    \r\n    const newPhotoEndpoint = '/api/photos/add/new'\r\n    const [albums, setAlbums] = useState([])\r\n    const [photos,setPhotos] = useState([])\r\n    const [view,setView] = useState('photos')\r\n    const [create,setCreate] = useState(false)\r\n    const [currentImg,setCurrentImg] = useState(null)\r\n    // const [previewImageFile,setPreviewImage] = useState(null)\r\n    const [photoUrl,setPhotoUrl] = useState(null)\r\n    const [state,setState] = useState({\r\n        previewImageFile:null\r\n    })\r\n\r\n    const { id } = props\r\n    const user_id = id\r\n\r\n    useEffect(() => {\r\n        axios.get(`/api/photos/albums/${user_id}`).then(res => {\r\n            setAlbums(res.data)\r\n        })\r\n        getPhotos(user_id)\r\n    },[])\r\n\r\n    const handleInput = (prop,val) => {\r\n        setState({[prop]:val})\r\n    }\r\n\r\n    // --- editing / adding / removing user photos with firebase --- //\r\n// --- add file to state / resize / show preview --- //\r\n    const addAndUpdate = async (e) => {\r\n        await handlePhoto(e)\r\n        await getPhotos(user_id)\r\n    }\r\n\r\n        // --- get user photos -- //\r\n    const getPhotos = async (user_id) => {\r\n        await axios.get(`/api/user/photos/get/${user_id}`).then(res => {\r\n            setPhotos(res.data)\r\n        })\r\n    }\r\n\r\n    const handlePhoto = async (e) => {\r\n        // const photo = e.target.files[0]\r\n        var fileInput = false;\r\n\r\n        if (e.target.files[0]) {\r\n            fileInput = true\r\n        }\r\n\r\n        if (fileInput) {\r\n            try {\r\n                Resizer.imageFileResizer(\r\n                    e.target.files[0],\r\n                    400,\r\n                    267,\r\n                    \"JPEG\",\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                        console.log(uri,'uri')\r\n                        const objUrl = URL.createObjectURL(uri)\r\n                        // setPreviewImage(URL.createObjectURL(uri))\r\n                        setState({previewImageFile:objUrl})\r\n                        setPhotoUrl(uri)\r\n                    },\r\n                    \"file\",\r\n                    298,\r\n                    191\r\n                );\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    const addingPhoto = async () => {\r\n        const photo_url = photoUrl\r\n        const { id,user } = props.user.user\r\n        var album_id = null\r\n        // this.setState({previewImageFile:null})\r\n        // setPreviewImage(null)\r\n        \r\n        props.setIsLoading()\r\n        // get firebase ref\r\n        const cloud = await props.addNewModel(photo_url,`${user}/photos`)\r\n\r\n        // get dl url\r\n        const image_url = await cloud.action.payload.ref.getDownloadURL()\r\n\r\n        // add to photo db\r\n        await axios.post(newPhotoEndpoint,{album_id,id,image_url})\r\n        await getPhotos(id)\r\n        await props.setIsLoading()\r\n    }\r\n\r\n    const removingPhoto = async (image_url) => {\r\n\r\n        await deletePhotoFromFirebase(image_url)\r\n        // await axios.post(`${deletePhotoEndpoint}${photo_id}`)\r\n        // console.log(' here is url ',image_url)\r\n        await axios.post(`/api/photos/delete/`,{image_url})\r\n    }\r\n\r\n    const deletePhotoFromFirebase = async (url) => {\r\n        const storageRef = app.storage().refFromURL(url)\r\n        storageRef.delete().then(function deleted(params) {\r\n            console.log('image deleted')\r\n        }).catch(function (error) {\r\n            console.log('there was an error')\r\n        })\r\n    }\r\n    // -------------------------------------------------------------//\r\n\r\n        const mappedAlbums = albums.map(el => {\r\n            return <p key={el.album_id} >{el.title}</p>\r\n        })\r\n\r\n        const mappedPhotos = photos.map(el => {\r\n            return <img key={el.photo_id} src={el.image_url} style={{height:'75px',width:'75px'}} onClick={() => setCurrentImg(el.image_url)}/>\r\n        })\r\n\r\n    return(<div className=\"album-container\">\r\n\r\n            {view === 'photos' ? <header className='album-title-row'>\r\n                <p style={{float:'left',fontWeight:'700'}}>Photos</p>\r\n\r\n                    <input className='user-photo-file-input'\r\n                    style={{position:'absolute',top:'5px',right:'10px',width:'20px',height:'20px'}}\r\n                    type=\"file\"\r\n                    accept=\"image/png,image/jpeg\"\r\n                    onChange={e => addAndUpdate(e)} \r\n                    />\r\n                    \r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',top:'4px',right:'0px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                        {/* <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /> */}\r\n                    </svg>\r\n\r\n            </header>\r\n            :\r\n            <header className='album-title-row'>\r\n                <p style={{float:'left',fontWeight:'700'}}>Albums</p>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{float:'right',marginTop:'5px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => setCreate(!create)} >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\" />\r\n                </svg>\r\n            </header>\r\n            }\r\n\r\n        <header className='album-title-row-bottom'>\r\n            {/*  ---- not functional yet --------- */}\r\n            {/* <p className={`photo-selector`} onClick={() => switchView('albums')} >Albums</p> */}\r\n\r\n            <p className={`photo-selector`} onClick={() => setView('photos')} >Photos</p>\r\n        </header>\r\n\r\n        {currentImg ? <SelectedImage image_url={currentImg} setCurrentImg={setCurrentImg} removingPhoto={props.removingPhoto} getPhotos={getPhotos} user_id={user_id} /> : null}\r\n        {view === 'albums' ? mappedAlbums : null}\r\n        {view === 'photos' ? mappedPhotos : null}\r\n        {state.previewImageFile != null ? <ImagePreview previewImageFile={state.previewImageFile} photo_url={photoUrl} addPhoto={addingPhoto} handleInput={handleInput} /> : null}\r\n    </div>)\r\n}\r\n\r\n// export default PhotoAlbum\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{addNewModel})(PhotoAlbum)\r\n\r\n{/* <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n</svg> */}","import axios from 'axios';\r\nimport Home from '../Home/Home'\r\n// import CreateProject from './CreateProject';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Project from '../Project/Project'\r\nimport { Component, lazy } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport './UserPage.css'\r\nimport { connect } from 'react-redux'\r\nimport { getProjects } from '../../ducks/projectsReducer';\r\nimport { updateUser } from '../../ducks/userReducer'\r\nimport Collections from './Collections'\r\nimport UserInfo from './UserInfo'\r\nimport {app} from '../../base'\r\nimport { addNewModel } from './../../ducks/firebaseReducer'\r\nimport SecurityTest from './SecurityTest'\r\nimport MobileLogin from '../MobileLogin/MobileLogin'\r\nimport Loading from '../Loading/Loading';\r\nimport AdminPage from '../AdminPage/AdminPage';\r\nimport EditUserInfo from './EditUserInfo';\r\nimport Table from './../Games/Table'\r\nimport MyConnection from './Friends/MyConnections';\r\nimport ConnectRequests from './Friends/ConnectRequests';\r\nimport DisplayFriends from './Friends/DisplayFriends';\r\nimport GameInvite from './Friends/GameInvite'; // notice to indicate invite to play game\r\nimport PhotoAlbum from './PhotoAlbum/PhotoAlbum';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../WS';\r\n// import ImagePreview from '../FeaturedProjects/EditProject/ImagePreview';\r\nimport Resizer from 'react-image-file-resizer'\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nconst db = app.firestore()\r\nconst newPhotoEndpoint = '/api/photos/add/new'\r\nconst deletePhotoEndpoint = '/api/photos/delete/'\r\nconst deletePhotoByUrlEndpoint = '/api/photos/delete/'\r\n\r\n\r\nclass UserPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state ={\r\n\r\n            // -- this will change when new photo is added -- //\r\n            previewImageFile:null,\r\n            photo_url:null,\r\n            photos:[],\r\n\r\n            showPhotos:false,\r\n\r\n            items:[],\r\n            user:{},\r\n\r\n            friends:[],\r\n            \r\n            requests:[],\r\n            showUserInfo:true,\r\n            showCollections:true,\r\n            showAdminPage:false,\r\n            showCreateProject:false,\r\n            showEditUserInto:false,\r\n            showGames:false,\r\n            showFriends:false,\r\n            profilePic:null,\r\n            userName:null,\r\n            isLoading:false,\r\n            setPermission:true,\r\n            challengeUser:null, // challenge this your to game\r\n            currentGame:null,\r\n        }\r\n        this.handleCollections = this.handleCollections.bind(this)\r\n        this.hideView = this.hideView.bind(this)\r\n        this.resetView = this.resetView.bind(this)\r\n        this.pleaseLogin = this.pleaeLogin.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.deleteFromFirebase = this.deleteFromFirebase.bind(this)\r\n        this.getUserID = this.getUserID.bind(this)\r\n        this.receiveInvite = this.receiveInvite.bind(this)\r\n        // this.handlePhoto = this.handlePhoto.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.receiveInvite()\r\n        // this.getPhotos()\r\n        this.setState({currentGame:this.getUniqueID()})\r\n    }\r\n\r\n    // --- get user photos -- //\r\n    // getPhotos = async (user_id) => {\r\n    //     await axios.get(`/api/user/photos/get/${user_id}`).then(res => {\r\n    //         this.setState({photos:res.data})\r\n    //     })\r\n    // }\r\n\r\n    componentDidUpdate() {\r\n        const { id,photo } = this.props.user.user\r\n        // this.props.updateUser()\r\n        // this.getPhotos(id)\r\n        if(this.state.friends.length < 1 && id != undefined){\r\n            axios.get(`/api/join/friends/${id}`).then(res => this.setState({friends:res.data}))   \r\n            // axios.get(`/api/user/photos/get/${id}`).then(res => this.setState({photos:res.data}))\r\n            // this.getPhotos(id)\r\n        }\r\n    }\r\n\r\n    // // --- editing / adding / removing user photos with firebase --- //\r\n    // // --- add file to state / resize / show preview --- //\r\n\r\n\r\n    // handlePhoto = async (e) => {\r\n    //     var fileInput = false;\r\n\r\n    //     if (e.target.files[0]) {\r\n    //         fileInput = true\r\n    //     }\r\n\r\n    //     if (fileInput) {\r\n    //         try {\r\n    //             Resizer.imageFileResizer(\r\n    //                 e.target.files[0],\r\n    //                 400,\r\n    //                 267,\r\n    //                 \"JPEG\",\r\n    //                 100,\r\n    //                 0,\r\n    //                 (uri) => {\r\n    //                     console.log(uri,'uri')\r\n    //                     this.setState({\r\n    //                         previewImageFile:URL.createObjectURL(uri),\r\n    //                         photo_url:uri\r\n    //                     })\r\n    //                 },\r\n    //                 \"file\",\r\n    //                 298,\r\n    //                 191\r\n    //             );\r\n    //         } catch (err) {\r\n    //             console.log(err)\r\n    //         }\r\n    //     }\r\n    //     return\r\n    // }\r\n\r\n    // addingPhoto = async () => {\r\n    //     const { photo_url } = this.state\r\n    //     const { id,user } = this.props.user.user\r\n    //     var album_id = null\r\n    //     this.setState({previewImageFile:null})\r\n        \r\n    //     this.setIsLoading()\r\n    //     // get firebase ref\r\n    //     const cloud = await this.props.addNewModel(photo_url,`${user}/photos`)\r\n\r\n    //     // get dl url\r\n    //     const image_url = await cloud.action.payload.ref.getDownloadURL()\r\n\r\n    //     // add to photo db\r\n    //     await axios.post(newPhotoEndpoint,{album_id,id,image_url})\r\n    //     // await this.getPhotos(id)\r\n    //     this.setIsLoading()\r\n    // }\r\n\r\n    removingPhoto = async (image_url) => {\r\n        await this.deleteFromFirebase(image_url)\r\n        // await axios.post(`${deletePhotoEndpoint}${photo_id}`)\r\n        console.log(' here is url ',image_url)\r\n        await axios.post(`/api/photos/delete/`,{image_url})\r\n    }\r\n    // // -------------------------------------------------------------//\r\n\r\n    changeGameID = (confirm,val) => {\r\n        if(confirm === true){this.setState({currentGame:val})} else {this.setState({challengeUser:null})}\r\n        \r\n    }\r\n\r\n    receiveInvite = () => {\r\n        client.onopen = () => {\r\n        }\r\n        client.onmessage = (message) => {\r\n            const dataFromServer = JSON.parse(message.data)\r\n            const { id } = this.props.user.user\r\n            \r\n            if(dataFromServer.type === 'gameInvite' && dataFromServer.gameInformation.to === id) {\r\n                this.setState({challengeUser:dataFromServer})\r\n            }\r\n        }\r\n    }\r\n\r\n    sendInvite = (gameInformation) => {\r\n        client.send(JSON.stringify({type: 'gameInvite',gameInformation:gameInformation}))\r\n    }\r\n    \r\n    // --- get user_id from props. this is used to invite other users to join an activity --- //\r\n    getUniqueID = () => {\r\n        const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n        return s4() + s4() + '-' + s4();\r\n    };\r\n    \r\n    getUserID = (to) => {\r\n        const { id,photo } = this.props.user.user\r\n        var { currentGame } = this.state\r\n        // var newChallenge = [...challengeUser]\r\n        // const gameID = this.getUniqueID()\r\n        var gameInformation = {\r\n            to:to,\r\n            from:id,\r\n            isAccepted:false,\r\n            photo:photo,\r\n            gameID:currentGame\r\n\r\n        }\r\n        // this.setState({currentGame:gameID})\r\n        this.sendInvite(gameInformation)\r\n    }\r\n\r\n    handleInput = (prop,val) => {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    resetView(){\r\n        this.setState({\r\n            showCollections:true,\r\n            showUserInfo:false,\r\n            showEditUserInto:false,\r\n            showCreateProject:false,\r\n            showGames:false,\r\n            showFriends:false,\r\n            showPhotos:false,\r\n        })\r\n    }\r\n\r\n    handleCollections(){\r\n        this.setState({isView:'isCollections'})\r\n    }\r\n    \r\n    \r\n    hideView(params) {\r\n        this.receiveInvite()\r\n        this.resetView()\r\n        switch (params) {\r\n            case 'showUserInfo':\r\n                this.setState({ showUserInfo : !this.state.showUserInfo })\r\n                break;\r\n            case 'showCollections':\r\n                this.setState({ showCollections : true })\r\n                break;\r\n            case 'showAdminPage':\r\n                this.setState({ showAdminPage : !this.state.showAdminPage})\r\n                break;\r\n            case 'showEditUserInfo':\r\n                this.setState({ showEditUserInto : true})\r\n                break;\r\n            case 'showCreateProject':\r\n                this.setState({showCreateProject : true})\r\n                break;\r\n            case 'showGames':\r\n                this.setState({showGames:true})\r\n                break;\r\n            case 'showFriends':\r\n                this.setState({ showFriends : true, showCollections:false})\r\n            case 'showPhotos':\r\n                this.setState({showPhotos:true,showCollections:false})\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    deleteFromFirebase(url){\r\n        const storageRef = app.storage().refFromURL(url)\r\n        storageRef.delete().then(function deleted(params) {\r\n            console.log('image deleted')\r\n        }).catch(function (error) {\r\n            console.log('there was an error')\r\n        })\r\n    }\r\n\r\n    handleFriends(){\r\n        this.setState({isView:'isFriends'})\r\n    }\r\n\r\n    pleaeLogin(){\r\n        alert('please log in')\r\n    }\r\n\r\n    render(){\r\n        const {\r\n            photos,\r\n            previewImageFile,\r\n            photoUrl,\r\n            showCollections,\r\n            showUserInfo,\r\n            items,\r\n            isLoading,\r\n            showCreateProject,\r\n            showEditUserInto,\r\n            showGames,\r\n            showFriends,\r\n            friends,\r\n            requests,\r\n            challengeUser,\r\n            currentGame,\r\n            currentPhoto,\r\n            showPhotos\r\n        } = this.state\r\n\r\n        const { isLoggedIn } = this.props.user\r\n\r\n        const {\r\n            photo,\r\n            auth,\r\n            name,\r\n            is_admin,\r\n            background_url,\r\n            user,\r\n            email,\r\n            id\r\n        } = this.props.user.user\r\n\r\n    return(\r\n        <div>\r\n            {!isLoggedIn ? (<Route path=\"/\" component={Home}/>) : (\r\n            <div className=\"user-page\">\r\n            {isLoading ? <Loading/> : null}\r\n            <section className=\"column1\">\r\n                <img src={background_url} className='background-photo' onClick={() => this.hideView('showPhotos')} />\r\n                   {challengeUser === null ? null: <GameInvite challengeUser={challengeUser} changeGameID={this.changeGameID} hideView={this.hideView} /> }\r\n\r\n                <div className=\"portrait\">\r\n                    <img className=\"profile-photo\" \r\n                    src={photo}\r\n                    alt=\"photo\"\r\n                    onClick={() => this.hideView('showPhotos')}\r\n                    />\r\n\r\n                    <h4 className=\"portrait-row\" style={{textTransform:'none'}} >{this.props.user.user.user}</h4>\r\n                    <div className='portrait-row' style={{flexWrap:'wrap',justifyContent:'center',width:'300px'}}>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showEditUserInfo')}><p style={{marginTop:'5px'}}  >My Info</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showCreateProject')} ><p style={{marginTop:'5px'}} >Create</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showGames')} ><p style={{marginTop:'5px'}} >Games</p></div>\r\n\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showPhotos')} ><p style={{marginTop:'5px'}} >Photos</p></div>\r\n\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showFriends')} ><p style={{marginTop:'5px'}} >Friends</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showCollections')} ><p style={{marginTop:'5px'}} >Collections</p></div>\r\n                    </div>\r\n \r\n                    <div className='portrait-row' >{is_admin ? (<Link to={'/admin'} style={{ textDecoration:'none' }}><p className='go-to-admin'>admin</p></Link>) : null}  </div>\r\n\r\n                </div>\r\n                <UserInfo user={user} name={name} email={email} id={id} setIsLoading={this.setIsLoading} deleteFromFirebase={this.deleteFromFirebase} />\r\n\r\n            </section>\r\n\r\n            <section className=\"column2\">\r\n\r\n                {showGames &&\r\n                    <Table\r\n                        hideView={this.hideView}\r\n                        challengeUser={challengeUser}\r\n                        client={client}\r\n                        currentGame={currentGame}\r\n                />}\r\n\r\n                {showEditUserInto &&\r\n                    <EditUserInfo\r\n                        setIsLoading={this.setIsLoading}\r\n                        resetView={this.resetView}\r\n                        updateUser={this.props.updateUser}\r\n                />}\r\n\r\n                {showCollections &&\r\n                    <Collections \r\n                        setIsLoading={this.setIsLoading}\r\n                        photo_url={photo}\r\n                        resetView={this.resetView}\r\n                        showCreateProject={showCreateProject}\r\n                />} \r\n\r\n                {showFriends && \r\n                    <DisplayFriends\r\n                        id={id}\r\n                        getUserID={this.getUserID}\r\n                />}\r\n                \r\n                {showPhotos &&\r\n                    <PhotoAlbum\r\n                        id={id}\r\n                        handlePhoto={this.handlePhoto}\r\n                        removingPhoto={this.removingPhoto}\r\n                        setIsLoading={this.setIsLoading}\r\n                    />}\r\n\r\n                {/* {previewImageFile != null ? <ImagePreview previewImageFile={previewImageFile} photo_url={photoUrl} addPhoto={this.addingPhoto} handleInput={this.handleInput} /> : null} */}\r\n            </section>\r\n        </div>\r\n        )}\r\n        </div>\r\n        )}\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{getProjects,updateUser,addNewModel})(UserPage)\r\n\r\n\r\n/*\r\nuserinfo\r\nmodels/colections\r\nfriends\r\nedit\r\ngroups\r\n*/","import React, { Component } from 'react'\r\nimport './Explore.css'\r\nimport Project from '../Project/Project'\r\nimport VideoPlayer from '../VideoPlayer/VideoPlayer'\r\nimport Loading from '../Loading/Loading'\r\nimport { loginUser,updateUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport axios from 'axios'\r\n\r\nclass Explore extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data:[],\r\n            names:[],\r\n            videos:[],\r\n            userId:null,\r\n            likes:[],\r\n            projectSearch:\"\",\r\n            openSearchBar:false,\r\n            isLoading:false,\r\n\r\n    // --- select items to view --- //\r\n            viewModels:true,\r\n            viewVideos:false,\r\n        }\r\n        this.addLike = this.addLike.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.updateState = this.updateState.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n        this.handleText = this.handleText.bind(this)\r\n        this.openSearch = this.openSearch.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.updateState()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.props.updateUser()\r\n    }\r\n\r\n    setIsLoading() {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    async updateState(){\r\n        await this.setIsLoading()\r\n        await axios.get('/api/project/join').then(res =>\r\n            this.setState({ ...this.state,data:res.data}))\r\n\r\n        await axios.get('/api/videos/get').then(res2 => {\r\n            this.setState({videos:res2.data})\r\n        })\r\n        await this.setIsLoading()\r\n    }\r\n\r\n    addLike(params_id){\r\n        const { data } = this.state\r\n        const { id } = this.props.user.user\r\n        const user_id = id\r\n        console.log('this is add like()',user_id)\r\n        \r\n        const { userId } = this.state\r\n        if(user_id != undefined){\r\n            axios.post('/api/projects/like', { user_id, params_id }).then(res => {\r\n            })\r\n                for(let key in data){\r\n                    if (data[key].model_id === params_id) {\r\n                    console.log(key,data[key],data[key].likes)\r\n                    }\r\n                }\r\n        } else {\r\n            alert('please sign in')\r\n        }\r\n    }\r\n\r\n    handleClick(){\r\n        this.addLike()\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    handleText = (prop,val) => {\r\n        this.setState({\r\n            [prop]:val,\r\n        })\r\n    }\r\n\r\n    openSearch = () => {\r\n        this.setState({openSearchBar:!this.state.openSearchBar})\r\n    }\r\n\r\n    changeView = (param) => {\r\n        this.resetView()\r\n        switch(param) {\r\n            case '3D Models':\r\n                this.setState({viewModels:true})\r\n                break;\r\n            case 'Videos':\r\n                this.setState({viewVideos:true})\r\n                break;\r\n        }\r\n    }\r\n    resetView = () => {\r\n        this.setState({\r\n            viewModels:false,\r\n            viewVideos:false,\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        const { data,projectSearch,openSearchBar,videos,isLoading } = this.state\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_likes,model_likes,id } = this.props.user.user\r\n\r\n        const filterProjects = data.filter(element => element.name.toString().includes(projectSearch))\r\n\r\n        const mappedData = filterProjects.map(element => {\r\n            return <Project data={element} key={element.model_id} projectIsLiked={this.projectIsLiked} handleClick={this.handleClick} isLoggedIn={isLoggedIn} likes={element.likes} id={id} user_likes={user_likes} />\r\n        })\r\n\r\n        const mappedVideos = videos.map(el => {\r\n            return <VideoPlayer key={el.video_id} video_url={el.video_url} category={el.category} tag={el.tag} firebase_url={el.firebase_url} photo_url={el.photo_url} user_name={el.user_name} name={el.name} video_name={el.video_name}  />\r\n        })\r\n\r\n        return(\r\n            <div >\r\n                {isLoading === true ? <Loading /> : null}\r\n                <header className=\"sub-header\">\r\n                    <a onClick={() => this.changeView('3D Models')} className={`null ${!this.state.viewModels ? true : 'selected'}`} >3D Models</a>\r\n                    <a onClick={() => this.changeView(\"Videos\")} className={`null ${!this.state.viewVideos ? true : 'selected'}`} >Videos</a>\r\n                </header>\r\n                <div className=\"explore-container\" style={{paddingTop:'25px'}}>\r\n                    <div className={`search-menu ${!isLoggedIn ? true : 'slide-over'} ${openSearchBar ? true : `search-menu-closed ${!isLoggedIn ? true : 'slide-over'}`}`} >\r\n\r\n                        <svg onClick={() => this.openSearch()} style={{width:'25px',opacity:'.5'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                        </svg>\r\n                        <div className={`show-bar ${openSearchBar ? false : `dont-show-bar`}`}>\r\n                            <input placeholder=\"search\" type=\"text\" style={{height:'25px',width:'100px',borderRadius:'10px',color:'#fff',marginLeft:'10px'}} onChange={e => this.handleText(\"projectSearch\",e.target.value)} ></input>\r\n                        </div>\r\n                    </div>\r\n                    {this.state.viewModels === true ? mappedData : null}\r\n                    {this.state.viewVideos === true ? mappedVideos : null}\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser })(Explore)","\r\nconst Document = (props) => {\r\n\r\n    const { content,tag,display } = props.data\r\n\r\n    return(\r\n    <div>\r\n        {display ? <div className=\"doc-containers\">\r\n            {/* <h4 className=\"about-h4\">about</h4> */}\r\n            <h4 className=\"about-h4\">{tag}</h4>\r\n            <span className=\"h4-border\"></span>\r\n            <p className=\"long-text\">\r\n                {content}\r\n            </p>\r\n        </div> : null}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Document","import { Color } from \"three\"\r\n\r\nconst OneLink = (props) => {\r\n\r\n    const { link_text, link_to, description } = props\r\n\r\n    return(\r\n        <div>\r\n            <a href={`${link_to}` } style={{textDecoration:'none'}}><h4 style={{textDecoration:'none',color:'blue'}}>{link_text}</h4></a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneLink","\r\nimport axios from 'axios';\r\nimport { Component } from 'react'\r\nimport OneLink from './OneLink'\r\n// import './About.css'\r\n\r\nexport default class Links extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state ={\r\n            link:'blender.org',\r\n            linkText:'Blender',\r\n            links:[],\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/links/get').then(res => {\r\n            this.setState({\r\n                links:res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        \r\n        const { links } = this.state\r\n\r\n        const mappedLinks = links.map(element => {\r\n            return <OneLink link_to={element.link_to} link_id={element.link_id} link_text={element.link_text} description={element.description} />\r\n        })\r\n \r\n        return(\r\n            <div className=\"doc-containers\">\r\n                {mappedLinks}\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport './About.css'\r\nimport Document from './../Document'\r\nimport axios from 'axios'\r\nimport data from '../../data';\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../ducks/userReducer';\r\nimport UserPage from '../UserPage/UserPage';\r\nimport Links from './Links/Links';\r\nimport Notice from '../Notice/Notice';\r\n\r\nclass About extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            currentView:'main',\r\n            about:[],\r\n            general:[],\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/documents/about').then(res => {\r\n            this.setState({\r\n                about:res.data\r\n            })\r\n        })\r\n        axios.get('/api/documents/general').then(res => {\r\n            this.setState({general:res.data})\r\n        })\r\n    }\r\n\r\n    changeView = (params) => {\r\n        this.setState({currentView:params})\r\n    }\r\n\r\n        render(){\r\n\r\n            const { about,general,currentView } = this.state\r\n\r\n            const mappedAbout = about.map(element => {\r\n                return <Document data={element} key={element.doc_id} />\r\n            })\r\n\r\n            const mappedGeneral = general.map(element => {\r\n                return <Document data={element} key={element.doc_id} />\r\n            })\r\n\r\n            return(\r\n                <div className='about-container' >\r\n                    <header className=\"sub-header\" style={{position:'relative'}} >\r\n                        <a onClick={() => this.changeView('main')} className={`${currentView === 'main' ? 'selected' : null}`} >main</a>\r\n                        <a onClick={() => this.changeView('links')} className={`${currentView === 'links' ? 'selected' : null}`}>links</a>\r\n                        {/* <Notice item={'about-links'} content={'Resources'} /> */}\r\n                    </header>\r\n                    <section>   \r\n\r\n                        {currentView === 'main' ? <div>{mappedAbout}</div> : null}\r\n                        {currentView === 'main' ? <div>{mappedGeneral}</div> : null}\r\n                        {currentView === 'links' ? <Links /> : null}\r\n\r\n                    </section>\r\n                </div>\r\n            )\r\n        }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser})(About)","import { useState, useEffect } from 'react'\r\n\r\nconst Sites = (props) => {\r\n\r\n    return(\r\n        <div>\r\n            <h3>{}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sites","import { useState, useEffect } from 'react'\r\nimport './Register.css'\r\nimport { registerUser } from '../../ducks/userReducer'\r\nimport {connect} from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Agreement from './Agreement'\r\n\r\nconst Register = (props) => {\r\n\r\n    const [ user_name, setUserName ] = useState('')\r\n    const [ password, setPassword ] = useState('')\r\n    const [ email, setEmail ] = useState('')\r\n    const [ first_name, setFirstName] = useState('')\r\n    const [ last_name, setLastName ] = useState('')\r\n    const [ photo_url, setPhoto ] = useState('')\r\n    const [ is_admin ] = useState(false)\r\n    const [ is_sudo ] = useState(false)\r\n    const [ iAgree, setIAgree ] = useState(false)\r\n    const [ openIAgree, setOpenIAgree ] = useState(false)\r\n    \r\n\r\n    useEffect(() => {\r\n        console.log('props from Register',props)\r\n    },[])\r\n\r\n    // function handlePhotoInput(params){\r\n    //     setPhoto(params)\r\n    // }\r\n\r\n    function plsAgree() {\r\n        alert('please agree to conditions')\r\n    }\r\n\r\n    function handleOpenIAgree() {\r\n        setOpenIAgree(!openIAgree)\r\n    }\r\n\r\n    function executeRegister(){\r\n        props.registerUser(user_name, password, email, first_name, is_admin, is_sudo)\r\n    }\r\n\r\n    return(\r\n        <div className=\"signup-menu\">\r\n\r\n            {!openIAgree ? <div><h2 style={{color:'#555'}}>Register</h2>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Username</p>\r\n                <input value={user_name}  onChange={e => setUserName(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Password</p>\r\n                <input className=\"text-bar\" value={password} onChange={e => setPassword(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Email</p>\r\n                <input  value={email} onChange={e => setEmail(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">First Name</p>\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Last Name</p>\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)}></input>\r\n            </div>\r\n\r\n            <div className=\"agreement-check\">\r\n                <input type=\"checkbox\" style={{marginRight:'20px',marginTop:'5px'}} onChange={e => setIAgree(!iAgree)}/>\r\n                \r\n                <h5 style={{color:'blue',fontWeight:'200'}} onClick={handleOpenIAgree}>terms of use</h5>\r\n                {/* {!openIAgree ? (<Agreement/>) : (null)} */}\r\n                {/* <Link to={'/agreement'}><h5 style={{color:'blue'}}>terms of use</h5></Link> */}\r\n            </div>\r\n            \r\n\r\n            { iAgree ? <div className=\"register-link\" onClick={executeRegister}>\r\n                <h4>signup now</h4>\r\n            </div>\r\n            :\r\n            <div className=\"register-link\" onClick={plsAgree}>\r\n                <h4>signup now</h4>\r\n            </div>}</div> : <Agreement handleOpenIAgree={handleOpenIAgree} />}\r\n\r\n        </div>\r\n    )\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\nexport default connect(mapStateToProps,{registerUser})(Register)\r\n","const Dots = () => {\r\n    return (\r\n        <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n    )\r\n}\r\n\r\nconst X = () => {\r\n    return (\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n    )\r\n}\r\n\r\nexport const MenuSVG = ({openMenu,setOpenMenu}) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"edit-photo-button\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => setOpenMenu(!openMenu)} >\r\n            {openMenu === false ? <X />:<Dots />}\r\n        </svg>\r\n    )\r\n}","import styled from \"styled-components\";\r\n\r\nexport const MainPhotoContainer = styled.section`\r\n    position:relative;\r\n`\r\n\r\nexport const PhotoMenu = styled.div`\r\n    position: absolute;\r\n    height: 90px;\r\n    width: 150px;\r\n    right: 0px;\r\n    top: 50px;\r\n    border-radius: 5px;\r\n    background-color: #6495ed;\r\n    z-index: 1;\r\n    text-align: left;\r\n`\r\n\r\nexport const PhotoMenuRow = styled.div`\r\n    height: 40px;\r\n    width: 250px;\r\n    margin: 5px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-start;\r\n\r\n    p {font-size:16px;}\r\n`\r\n\r\nexport const MainImage = styled.img`\r\n    width:100%;\r\n    \r\n    @media (max-width:680px) {\r\n        margin-left:auto;\r\n        margin-right:auto;\r\n        width:280px;\r\n    }\r\n`","import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { deleteFile } from '../../../ducks/firebaseReducer'\r\nimport { MenuSVG } from './PhotosSVG/MenuSVG'\r\nimport { GarbageCan,ImageIcon } from '../../SVG2'\r\nimport { \r\n    PhotoMenu,\r\n    PhotoMenuRow,\r\n    MainImage,\r\n    MainPhotoContainer\r\n } from './projectphotos.styles'\r\n// import {app} from '../../base'\r\n// const db = app.firestore()\r\n// import logo from './../../assets/logo.png'\r\n\r\nconst ProjectPhotos = (props) => {\r\n\r\n    const { \r\n        url,\r\n        maker_id,\r\n        id,\r\n        model_id,\r\n        getImages,\r\n        main_image_url,\r\n        stateHandler,\r\n    } = props\r\n    \r\n    // -- Delete individual / selected photo from FB and DB -- //\r\n    const deletePhotoFromDB = async (url) => {\r\n        try {\r\n            await deleteFile(url)\r\n        } catch (err) {\r\n            const gone = null\r\n            axios.post('/api/projects/photos/change/main/',{model_id,gone})\r\n        }\r\n        const deleted = await axios.post(`/api/projects/photos/delete/`,{url,main_image_url,model_id}).then(res => {\r\n            stateHandler('selectedPhoto',null)\r\n        })\r\n        await getImages()\r\n        setOpenMenu(!openMenu)\r\n        return deleted\r\n    }\r\n\r\n    // -- Displays selected photo as main photo for this project -- //\r\n    const makeMainPhoto = () => {\r\n        setOpenMenu(!openMenu)\r\n        axios.post('/api/projects/photos/change/main/',{model_id,url})\r\n    }\r\n\r\n    const [ openMenu,setOpenMenu ] = useState(false)\r\n\r\n    return(\r\n        <MainPhotoContainer>\r\n\r\n            {/* Open photo options menu */}\r\n            {maker_id === id && url != null &&\r\n            <MenuSVG \r\n                openMenu={openMenu} \r\n                setOpenMenu={setOpenMenu} \r\n            />}\r\n\r\n            {/*  Photo options menu */}\r\n            {openMenu === true && maker_id === id ? \r\n            <PhotoMenu style={{top:'30px',left:'15px',height:'85px',width:'210px'}}>\r\n\r\n                <PhotoMenuRow onClick={() => makeMainPhoto()} >\r\n                    <ImageIcon />\r\n                    <p>Display As Main Photo</p>\r\n                </PhotoMenuRow>\r\n\r\n                <PhotoMenuRow onClick={() => deletePhotoFromDB(url)} >\r\n                    <GarbageCan />\r\n                    <p >Delete This Photo</p>\r\n                </PhotoMenuRow>\r\n\r\n            </PhotoMenu> : null}\r\n\r\n            {/* Actual photo */}\r\n            <MainImage src={url} />\r\n\r\n        </MainPhotoContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (reduxState) => {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProjectPhotos)","import styled from \"styled-components\";\r\n\r\nexport const CommentContainer = styled.div`\r\n    position: relative;\r\n    height: 120px;\r\n    width: 90%;\r\n    margin: 5px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    align-content: stretch;\r\n    border-bottom: solid 1px #95b3ec;\r\n`\r\n\r\nexport const AuthorPic = styled.img`\r\n    height: 50px;\r\n    width: 50px;\r\n    margin-bottom: 50px;\r\n    margin-left: 10px;\r\n    border-radius: 5px;\r\n`\r\n\r\nexport const RightColumn = styled.section`\r\n    width: 500px;\r\n    height: 100%;\r\n    margin-left: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n    align-items: baseline;\r\n    overflow: scroll;\r\n`\r\n\r\nexport const CommentTextContainer = styled.div`\r\n    height: 85%;\r\n    width: 100%;\r\n    text-align: left;\r\n    color: #555;\r\n    font-size: 18px;\r\n    font-weight: 200;\r\n    letter-spacing: 1px;\r\n    line-height: calc(1ex / 0.32);\r\n    text-shadow:0 0 0 #000, 0 0 1px transparent;\r\n`","import React, { Component } from 'react'\r\nimport './Comments.css'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../../ducks/userReducer'\r\nimport axios from 'axios'\r\nimport { useState } from 'react'\r\n\r\nimport { \r\n    MenuDots,\r\n    GarbageCan\r\n } from '../../SVG2'\r\n\r\nimport { \r\n    CommentContainer,\r\n    RightColumn,\r\n    AuthorPic,\r\n    CommentTextContainer,\r\n} from './comments.styles'\r\n\r\nconst Comments = (props) => {\r\n\r\n    const { content,photo_url,user_id,comment_id } = props\r\n    const { id } = props.user.user\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n\r\n    const deletePost = async () => {\r\n        // match logged in user id with comment author id\r\n        if(user_id === id) {\r\n            await axios.delete(`/api/comments/user/delete/${comment_id}`).then(() => {props.getComments()})\r\n        }\r\n    }\r\n\r\n    return(\r\n        <CommentContainer>\r\n            <AuthorPic src={photo_url}/>\r\n            <RightColumn>\r\n\r\n                <CommentTextContainer>\r\n                    <p >{content}</p>\r\n                </CommentTextContainer>\r\n\r\n                {id != undefined && id === user_id && <MenuDots onClick={() => setMenuOpen(!menuOpen)}/>}\r\n\r\n                {menuOpen && \r\n                    <ul className='friend-options' style={{width:'130px',height:'40px'}}>\r\n                        <li className='friend-menu-row' onClick={() => deletePost()} >\r\n                            <GarbageCan />\r\n                            <p className='friend-menu-text' >Delete post</p>\r\n                        </li>\r\n                    </ul>\r\n                }\r\n\r\n            </RightColumn>\r\n        </CommentContainer>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateUser })(Comments)\r\n\r\n// export default Comments","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport './Comments.css'\r\n\r\n\r\nexport default class CreateComment extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            text:\"\"\r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.sendPost = this.sendPost.bind(this)\r\n    }\r\n\r\n    sendPost(isLoggedIn) {\r\n        const { text } = this.state\r\n        const { id,model_id,user } = this.props\r\n        if (isLoggedIn === true) {\r\n            axios.post('/api/comments/create',{id,model_id,user,text}).then(this.props.getComments)\r\n        } else {this.props.plsSignIn()}\r\n    }\r\n\r\n    \r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isLoggedIn } = this.props\r\n \r\n        return(\r\n            <div className=\"create-post\" style={{minHeight:'100px'}}>\r\n\r\n                <textarea className='comment-text-input post-input' value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                 <a className='add-button' onClick={() => this.sendPost(isLoggedIn)} style={{marginLeft:'200px'}} >send</a>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nconst DlUrl = (props) => {\r\n\r\n    const { url,isLoggedIn } = props\r\n\r\n    return(\r\n        <div>\r\n           { isLoggedIn ? <a className=\"dark-text\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">Download</a> : <a className=\"dark-text\" onClick={props.plsSignIn} >Download</a>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DlUrl","import '../Project/Project.css'\r\nimport './TheMaker.css'\r\n\r\nconst TheMaker = (props) => {\r\n\r\n    const { info,userInfo } = props\r\n    const { user_name, photo_url } = userInfo\r\n    \r\n    return(\r\n        <div className=\"maker\" style={{margin:'auto',marginTop:'5px'}}>\r\n                <img src={photo_url} className=\"project-user-photo\" style={{marginRight:'20px'}} />\r\n                <h4 style={{paddingBottom:'0px',paddingTop:'15px'}}>{info.name}<br style={{paddingBottom:'10px'}}/><i  >by {user_name}</i></h4>          \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TheMaker","import styled from \"styled-components\";\r\n\r\nexport const OptionsH4 = styled.h4`\r\n    padding-top: 15px;\r\n    padding-bottom: 5px;\r\n    color: ${({viewFiles}) => viewFiles ? '#fff' : '#555'};\r\n    margin-left: 10px;\r\n`\r\n\r\nexport const OptionsText = styled.p`\r\n    margin:auto;\r\n    margin-left:0px;\r\n    color:${({condition}) => condition ? '#fff' : '#555'};\r\n`","import SVG from \"../../SVG\"\r\nimport { \r\n    LargeLightHeart,\r\n    LargeDarkHeart\r\n } from \"../../SVG2\"\r\n\r\nimport { \r\n    OptionsH4,\r\n    OptionsText\r\n } from \"./options.styles\"\r\n\r\nconst selected = {backgroundColor:'#3c598e'}\r\nconst icon ={\r\n    margin: 'auto',\r\n    marginLeft: '10px',\r\n    marginRight: '10px',\r\n    height: '40px',\r\n    width: '40px',\r\n    opacity: '60%',\r\n    color: '#6495ed',\r\n    paddingTop: '10px',\r\n}\r\n\r\nconst OptionsMenu = (props) => {\r\n\r\n    const { \r\n        state,\r\n        isLoggedIn,\r\n        authorized,\r\n        clickLike,\r\n        changeView\r\n    } = props\r\n\r\n    const {\r\n        viewFiles,\r\n        myLike,viewComments,\r\n        viewEditProject,\r\n        addedToFavorites,\r\n        viewInfo\r\n    } = state\r\n\r\n    return (\r\n    <ul>\r\n        <li style={viewFiles ? selected : null} onClick={() => changeView('viewFiles')} >\r\n            <OptionsH4\r\n                viewFiles={viewFiles}\r\n            >\r\n                Download Files\r\n            </OptionsH4>\r\n        </li>\r\n\r\n        <li onClick={clickLike}>\r\n            {isLoggedIn === true && myLike === true ? <LargeLightHeart />:<LargeDarkHeart />}\r\n            <OptionsText>Like</OptionsText>\r\n        </li>\r\n\r\n        <li style={viewComments ? selected : null} onClick={() => changeView('viewComments')} >\r\n            <SVG params={'comments'} />\r\n            <OptionsText condition={viewComments} >Comments</OptionsText>\r\n        </li>\r\n\r\n        <li style={viewEditProject || addedToFavorites ? selected : null} onClick={() => changeView(authorized() === true ? 'viewEditProject' : 'viewInfo')}>\r\n            {authorized() === true ? \r\n            <SVG params={'edit_project'} fill={'none'} stroke={'currentColor'}/> : \r\n            <SVG params={'folder'} fill={'none'} stroke={'currentColor'} />}\r\n            <OptionsText condition={viewEditProject || addedToFavorites}>{authorized() ? 'Edit Project' : 'Add to Favorites'}</OptionsText>\r\n        </li>\r\n\r\n        <li style={viewInfo ? selected : null} onClick={() => changeView('viewInfo')}>\r\n            <SVG params={'info'} fill={'none'} stroke={'currentColor'}/>\r\n            <OptionsText condition={viewInfo} >Info</OptionsText>\r\n        </li>\r\n    </ul>\r\n    )\r\n}\r\n\r\nexport default OptionsMenu","import styled from \"styled-components\";\r\n// import background from './src/assets/white-backround1.jpg'\r\n\r\n// background-image: linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0)),url(${background});\r\nexport const DetailsView = styled.section`\r\n    margin: none;\r\n    min-height: 90vh;\r\n    min-width: 100vw;\r\n    background-size: cover; \r\n    background-position: center bottom;\r\n    background-attachment: fixed;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-image: linear-gradient(120deg,#ffffff 20%,rgba(150, 150, 150, .6));\r\n    background-repeat: no-repeat;\r\n    background-position: right top;\r\n`\r\n\r\nexport const ThumbnailViewer = styled.section`\r\n    height: 75px;\r\n    width: 645px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n    margin: auto;\r\n    margin-bottom: 4px;\r\n    margin-top: 4px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    overflow: hidden;\r\n    border: solid 1px rgb(85, 85, 85,.3);\r\n\r\n    @media (max-width:680px) {\r\n        width: 300px;\r\n    }\r\n`\r\n\r\nexport const DetailContainer = styled.section`\r\n    margin: auto;\r\n    margin-bottom: 0px;\r\n    margin-top: 5px;\r\n    height: 312px;\r\n    width: 660px;\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    section {\r\n        width: 440px;\r\n        min-height: 100px;\r\n        margin: 2px;\r\n        display: flex;\r\n\r\n        @media (max-width:680px) {\r\n            width:300px;\r\n        }\r\n    }\r\n\r\n    ul {\r\n        width: 220px;\r\n\r\n        li {\r\n            background-color: #fff;\r\n            display: flex;\r\n            height: 59px;\r\n            width: 100%;\r\n            margin-left: 2px;\r\n            margin-top: auto;\r\n            margin-bottom: auto;\r\n            border-bottom: solid 1px rgb(85, 85, 85,.3) ;\r\n            border-left:solid 1px rgb(85, 85, 85,.3)  ;\r\n            border-right:solid 1px rgb(85, 85, 85,.3) ;\r\n        }\r\n    }\r\n\r\n    @media (max-width:680px) {\r\n        min-height: 500px;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        width: 300px;\r\n        \r\n        img {\r\n        }\r\n    }\r\n`\r\n\r\nexport const CommentBox = styled.section`\r\n    margin: auto;\r\n    margin-top: 10px;\r\n    min-height: 300px;\r\n    width: 645px;\r\n    border-radius: .1%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    @media (max-width:680px) {\r\n        width:300px;\r\n    }\r\n`\r\n\r\nexport const CommentBoxHeader = styled.header`\r\n    background-color: #6495ed;\r\n    opacity: .8;\r\n    height: 32px;\r\n    width: 100%;\r\n\r\n    @media (max-width:680px) {\r\n        width:300px;\r\n    }\r\n`\r\n\r\nexport const DescriptionText = styled.p`\r\n    padding: 10px;\r\n    padding-left: 25px;\r\n    margin: 15px;\r\n    min-height: 30px;\r\n    width: 400px;\r\n    background-color: white;\r\n    border-radius: 5px;\r\n    box-shadow: 1px #d1d1d1;\r\n    color: #555;\r\n    text-align: left;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    @media (max-width: 700px) {\r\n        width: 300px;\r\n    }\r\n`","import { Component } from 'react'\r\nimport { Switch,Route,Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n// import '../Project/Project.css'\r\nimport './ProjectDetail.css'\r\nimport ProjectPhotos from './ProjectPhotos/ProjectPhotos'\r\nimport Comments from './Comments/Comments'\r\nimport { loginUser, updateUser, remoteLogin } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport CreateComment from './Comments/CreateComment'\r\nimport DlUrl from './DlUrl'\r\nimport TheMaker from './TheMaker'\r\nimport EditModel from './EditProject/EditModel'\r\nimport UserPage from '../UserPage/UserPage'\r\nimport Home from '../Home/Home'\r\nimport SVG from '../SVG'\r\nimport '../SVG.css'\r\nimport OptionsMenu from './Options/options.component'\r\n\r\nimport { \r\n    DetailsView,\r\n    DetailContainer,\r\n    ThumbnailViewer,\r\n    CommentBox,\r\n    CommentBoxHeader,\r\n    DescriptionText\r\n} from './projectdetail.styles'\r\n\r\n// const selected = {backgroundColor:'#3c598e'}\r\n// const cfff = {color:'#fff'} // -- light\r\n// const icon ={\r\n//     margin: 'auto',\r\n//     marginLeft: '10px',\r\n//     marginRight: '10px',\r\n//     height: '40px',\r\n//     width: '40px',\r\n//     opacity: '60%',\r\n//     color: '#6495ed',\r\n//     paddingTop: '10px',\r\n// }\r\n\r\nclass ProjectDetail extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            maker_id:null,\r\n            model_id:null,\r\n            dlUrl:\"\",\r\n            info:[],\r\n            userInfo:[],\r\n            comments:[],\r\n            files:[],\r\n            // -- views -- //\r\n            viewFiles:true,\r\n            viewComments:false,\r\n            viewDetails:false,\r\n            viewEditProject:false,\r\n            viewInfo:false,\r\n            addedToFavorites:false,\r\n            // -- likes -- //\r\n            myLike:false,\r\n            allLikes:[],\r\n            // -- images -- //\r\n            modelImages:[],\r\n            isDeleted:false,\r\n            selectedPhoto:null,\r\n        }\r\n        this.changeView = this.changeView.bind(this)\r\n        this.getDetails = this.getDetails.bind(this)\r\n        this.plsSignIn = this.plsSignIn.bind(this)\r\n        this.getComments = this.getComments.bind(this)\r\n        this.likeFunc = this.likeFunc.bind(this)\r\n        this.clickLike = this.clickLike.bind(this)\r\n        this.setIsDeleted = this.setIsDeleted.bind(this)\r\n        this.getImages = this.getImages.bind(this)\r\n        this.highLightedPhoto = this.highLightedPhoto.bind(this)\r\n        this.stateHandler = this.stateHandler.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        // ---get project info by model_id --- //\r\n        this.getDetails().then((val) => console.log(val)) // original/working function\r\n        // --- get project images by model_is --- //\r\n        this.getImages()\r\n        // ---get project comments by model_id --- //\r\n        this.getComments()\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        const { model_id } = this.props.match.params\r\n        if (prevProps.match.params.model_id !== model_id) {\r\n            this.getDetails() // original / working function // --- make sure to use this if using getDetails() \r\n            this.getImages()\r\n        }\r\n    \r\n    }\r\n\r\n    async getImages() {\r\n        const { model_id } = this.props.match.params\r\n        axios.get(`/api/project/photos/get/${model_id}`).then((res) => {\r\n            this.setState({\r\n                modelImages:res.data\r\n            })\r\n        })\r\n    }\r\n\r\n\r\n    async getDetails(){\r\n\r\n        const { model_id } = this.props.match.params\r\n\r\n        await (\r\n            axios\r\n            .get(`/api/projects/id/${model_id}`)\r\n            .then((res) => {\r\n                const { user_id, } = res.data[0]\r\n                axios.get(`/api/users/${user_id}`).then((res2) => {\r\n                    const { id } = this.props.user.user\r\n                    const { isLoggedIn } = this.props.user\r\n                    axios\r\n                    .get(`/api/project/photos/get/${model_id}`)\r\n                    .then((res3) => {\r\n                        this.setState({\r\n                            maker_id:user_id,\r\n                            model_id:model_id,\r\n                            dlUrl:res.data.firebase_url,\r\n                            info:res.data[0],\r\n                            userInfo:res2.data[0],\r\n                            modelImages:res3.data,\r\n                            selectedPhoto:res.data[0].firebase_url01,\r\n                        })\r\n                    })\r\n                    if(isLoggedIn === true) {\r\n                        axios.post(`/api/project/getLike`, {id,model_id}).then((res4) => {\r\n                        if(res4.data.user_id != null) {\r\n                        this.setState({\r\n                            myLike:true\r\n                        })}\r\n                        } )\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch((err) => {\r\n                this.props.history.push('/404')\r\n            })\r\n        )\r\n        await axios.get('')\r\n\r\n    }\r\n\r\n    async getComments() {\r\n        const { model_id } = this.props.match.params\r\n        axios\r\n        .get(`/api/comments/id/${model_id}`)\r\n        .then((res) => {\r\n            this.setState({ comments : res.data})\r\n        })\r\n    }\r\n\r\n    resetView() {\r\n        this.setState({\r\n            viewFiles:false,\r\n            viewComments:false,\r\n            viewDetails:false,\r\n            viewEditProject:false,\r\n            viewInfo:false,\r\n            addedToFavorites:false,            \r\n        })\r\n    }\r\n\r\n    changeView = (prop) => {\r\n        window.scrollTo({\r\n            top: 1200,\r\n            behavior: 'smooth'\r\n        });\r\n        this.resetView()\r\n        this.setState({\r\n            [prop]:true\r\n        })\r\n    }\r\n\r\n    plsSignIn = () => {\r\n        window.scrollTo(0, 0)\r\n        this.props.remoteLogin(true)\r\n    }\r\n\r\n    likeFunc = async () => {\r\n        const { id } = this.props.user.user\r\n        const { model_id } = this.state\r\n        const user_id = id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        this.setState({myLike:!this.state.myLike})\r\n    }\r\n\r\n    clickLike = () => {\r\n        const { isLoggedIn,loginOpen } = this.props.user\r\n        if (isLoggedIn === true) {\r\n            this.likeFunc()\r\n        } else {\r\n            window.scrollTo(0, 0)\r\n            this.props.remoteLogin(!loginOpen)\r\n        }\r\n    }\r\n\r\n    setIsDeleted = () => {\r\n        this.setState({isDeleted:!this.state.isDeleted})\r\n    }\r\n\r\n    stateHandler = (prop,val) => {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    } \r\n\r\n    highLightedPhoto = (url) => {\r\n        this.setState({\r\n            selectedPhoto:url\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { comments,model_id,maker_id,myLike } = this.state\r\n\r\n        const { \r\n            info,\r\n            userInfo,\r\n            viewComments,\r\n            viewFiles,\r\n            viewInfo,\r\n            viewEditProject,\r\n            modelImages,\r\n            isDeleted,\r\n            selectedPhoto,\r\n            addedToFavorites,\r\n         } = this.state\r\n\r\n        const { isLoggedIn } = this.props.user\r\n        const { user,id } = this.props.user.user\r\n\r\n        // -- If logged in user is also the owner of this project - authorize privileges -- //\r\n        const authorized = () => {\r\n            if(isLoggedIn) {\r\n                if(id === maker_id) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        \r\n        const mappedComments = comments.map(element => {\r\n            return (\r\n                <Comments \r\n                    content={element.text} \r\n                    key={element.comment_id} \r\n                    model_id={element.model_id} \r\n                    date_created={element.date_created} \r\n                    photo_url={element.photo_url} \r\n                    comment_id={element.comment_id} \r\n                    user_id={element.user_id} \r\n                    user_name={element.user_name} \r\n                    getComments={this.getComments} \r\n                />\r\n            )\r\n        })\r\n\r\n        const mappedThumbNails = modelImages.map((el) => {\r\n            return <div key={el.image_id} onClick={() => this.highLightedPhoto(el.photo_url)} ><img className='thumbnail-image' src={el.photo_url}/></div>\r\n        })\r\n\r\n        return(\r\n            <>\r\n            {isDeleted ? (<Route path=\"/\" component={Home}/>) :\r\n                (<DetailsView>\r\n                    \r\n                    <section \r\n                       onClick={() => this.props.history.push(`/viewuser/${maker_id}`)} \r\n                    >\r\n                        <TheMaker\r\n                            userInfo={userInfo} \r\n                            info={info} \r\n                            maker_id={maker_id}\r\n                        />\r\n                    </section>\r\n\r\n                    <ThumbnailViewer>{mappedThumbNails}</ThumbnailViewer>\r\n\r\n                    <DetailContainer>\r\n\r\n                        <ProjectPhotos\r\n                            model_id={model_id} \r\n                            url={selectedPhoto} \r\n                            maker_id={maker_id} \r\n                            id={id}\r\n                            getImages={this.getImages}\r\n                            main_image_url={this.state.info.firebase_url01}\r\n                            stateHandler={this.stateHandler}\r\n                        />\r\n\r\n                        <OptionsMenu\r\n                            state={this.state}\r\n                            authorized={authorized}\r\n                            isLoggedIn={isLoggedIn}\r\n                            clickLike={this.clickLike}\r\n                            changeView={this.changeView}\r\n                        />\r\n\r\n                    </DetailContainer>\r\n                    \r\n                    <CommentBox>\r\n\r\n                        <CommentBoxHeader >\r\n                            <h3>\r\n                                {viewComments && 'Comments'}\r\n                                {viewFiles && 'Download File'}\r\n                                {viewInfo && 'Information'}\r\n                                {viewEditProject && 'Edit Project'}\r\n                            </h3>\r\n                        </CommentBoxHeader>\r\n\r\n                        {/* ---------- */}\r\n                        {/* COMMENTS */}\r\n                        {/* ---------- */}\r\n                        {viewComments &&\r\n                            <CreateComment \r\n                                user={user} \r\n                                key={id} \r\n                                id={id} \r\n                                isLoggedIn={isLoggedIn} \r\n                                model_id={model_id} \r\n                                plsSignIn={this.plsSignIn} \r\n                                getComments={this.getComments} \r\n                            />\r\n                        }\r\n\r\n                        {viewComments && mappedComments}\r\n                        {/* -------------- */}\r\n\r\n                        {viewFiles && \r\n                            <DlUrl \r\n                                url={info.firebase_url}\r\n                                isLoggedIn={isLoggedIn}\r\n                                plsSignIn={this.plsSignIn}\r\n                            />\r\n                        }   \r\n\r\n                        {viewEditProject && authorized() && \r\n                            <EditModel \r\n                                key={model_id} \r\n                                info={info} \r\n                                model_id={model_id} \r\n                                user_id={id} \r\n                                user_name={user} \r\n                                modelImages={modelImages} \r\n                                getDetails={this.getDetails} \r\n                                setIsDeleted={this.setIsDeleted} \r\n                                getImages={this.getImages} \r\n                            />}\r\n\r\n                        {viewInfo && \r\n                            <DescriptionText>\r\n                                    {info.description}\r\n                            </DescriptionText>}\r\n\r\n                    </CommentBox>\r\n                </DetailsView>)}\r\n            </>\r\n        )}\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser,remoteLogin })(ProjectDetail)","import './ViewUser.css'\r\nimport React, { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { getModels } from '../../ducks/modelsReducer'\r\nimport { updateUser } from '../../ducks/userReducer'\r\n// import { addLike } from '../../../server/controllers/projectsController'\r\n\r\nconst UserProject = (props) => {\r\n    // const { category, img, firebase_url,firebase_url01, name, description, user_name, model_likes, model_id, photo_url, user_id, likes } = props.data\r\n    const { category, img, firebase_url,firebase_url01, name, description, user_name, model_likes, model_id,photo_url, user_id, likes } = props.data\r\n    const { handleClick,id,user_likes } = props.user.user\r\n    const { isLoggedIn } = props.user\r\n\r\n    const [numOfLikes, setNumOfLikes] = useState(0)\r\n    const [heart,setHeart] = useState(false) // for highlighting hearts if current user has already like this project\r\n\r\n    useEffect(() => {\r\n        setNumOfLikes(likes)\r\n        props.updateUser()\r\n    },[])\r\n\r\n    const plsSignIn = () => {\r\n        alert('please sign in')\r\n    }\r\n\r\n    const likeFunc = async (id,m_id) => {\r\n        const user_id = id\r\n        const model_id = m_id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        await updateLikes(model_id)\r\n        await setHeart(!heart)\r\n        await checkIfLiked(heart)\r\n    }\r\n\r\n    const updateLikes = async (params) => {\r\n        console.log('params',params)\r\n        axios.get(`/api/like/update/${params}`).then(res => {\r\n            const { likes } = res.data[0]\r\n            console.log(likes)\r\n            setNumOfLikes(likes)\r\n        })\r\n    }\r\n\r\n    const clickedLike = () => {\r\n       if (isLoggedIn === true && id != undefined) {likeFunc(id,model_id)} else {plsSignIn()}\r\n    }\r\n\r\n    const checkIfLiked = (params) => {\r\n        // console.log('clicked check if likeds',params)\r\n        if (props.projectIsLiked(model_id,user_likes) === true){ return(true) } else { return(false) } \r\n    }\r\n\r\n    const getPhotoUrl = () => {\r\n        const { user_photo_url } = props\r\n        if (photo_url != undefined) {\r\n            return(photo_url)\r\n        } else return(user_photo_url)\r\n    }\r\n\r\n    const getUserName = () => {\r\n        const { current_user_name } = props\r\n        if (user_name != undefined) {\r\n            return(user_name)\r\n        } else return(current_user_name)\r\n    }\r\n\r\n    return(\r\n        <div className='project-container'>\r\n            {checkIfLiked()}\r\n            <div>\r\n                <div className=\"photo-title-border\"><img src={getPhotoUrl()} className=\"project-user-photo\"/>\r\n\r\n                <p className=\"dark-text\">{name}<br/><p className='usr-nm-txt'>by {getUserName()}</p></p></div>\r\n\r\n                <div className=\"image-div\" ><Link to={`/projectdetails/${model_id}`}><img className=\"model-photo\" src={firebase_url01}/></Link></div>\r\n            </div>\r\n            <div>\r\n                <div className=\"download-container\">\r\n\r\n                    { isLoggedIn ? \r\n                    <a href={`${firebase_url}`} >\r\n                        <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                        </svg>\r\n                    </a> \r\n                    : \r\n                    <a onClick={plsSignIn} >\r\n                        <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                        </svg>\r\n                    </a>}\r\n                    \r\n                    { isLoggedIn ? <a className=\"project-text\" href={`${firebase_url}`}>download</a> : <a className=\"project-text\" onClick={plsSignIn}>download</a>}\r\n\r\n                    <div className=\"like-share\">\r\n                        <div>\r\n                            <div className=\"like-share-box\" style={{borderBottom:'1px solid #555'}}>\r\n                                {checkIfLiked() === false ? <svg className=\"small-icon small-icon-tweaks\" onClick={() => clickedLike()} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"  />\r\n                                </svg>\r\n                                :\r\n                                <svg className=\"small-icon small-icon-tweaks\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                    <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                                </svg>}\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>{numOfLikes}</p>\r\n                            </div>\r\n\r\n                            <div className=\"like-share-box\">\r\n                                <svg className=\"small-icon small-icon-tweaks\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                                </svg>\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>share</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { getModels,updateUser })(UserProject)","\r\nimport '../UserMessages/MessageBoard.css'\r\nimport './OneMessage.css'\r\nimport { useState,useEffect } from 'react'\r\n\r\nconst OneMessage = (props) => {\r\n\r\n    useEffect(() => {\r\n        // setShowNotice(false)\r\n        if(loggedInUser === user_id){setIsUser(true)}\r\n    },[])\r\n\r\n    const [isUser,setIsUser] = useState(false)\r\n\r\n    const testFunc = () => {\r\n        alert('does it work')\r\n    }\r\n    var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    const { content,loggedInUser,user_id,photo_url,date_created } = props\r\n    const time = date_created.split(\"T\")\r\n    // find date\r\n    const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    const amPm = (input) => {\r\n        if(input[0] > 12){\r\n            return input[0]-12 + ':' + input[1] + ' pm'\r\n        } else {return(input[0] + ':' + input[1] + ' am')}\r\n    }\r\n    const timeVal = time[1].split(':')\r\n    \r\n    // console.log(loggedInUser === user_id)\r\n    return (\r\n        // <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`}>\r\n        <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`} style={{}} >\r\n        \r\n        <div className={`my-message-container ${loggedInUser === user_id ? true : 'user-message-container'}`}>\r\n            <p className='time-stamp'style={{textTransform:'none',fontSize:'xx-small'}}>{months[parseInt(dateVal[1])-1]+' '+dateVal[2]+' '+dateVal[0]}</p>\r\n        {/* <div className={`my-message-container`}> */}\r\n            <p style={{textTransform:'none'}}>{content}</p>\r\n            <p style={{textTransform:'none',fontSize:'xx-small'}}>{amPm(timeVal)}</p>\r\n            {/* <p className={`my-time-format ${isUser ? true : 'user-time-format'}`} >{amPm(timeVal)}</p> */}\r\n        </div>\r\n            <div>\r\n                <img src={photo_url} className={`my-message-photo ${isUser ? true : 'my-message-photo'}`} />\r\n                    {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n            </div>\r\n            {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default OneMessage","import { Component } from 'react'\r\nimport './CreateNewMessage.css'\r\nimport '../UserMessages/CreateMessage.css'\r\nimport '../UserMessages/MessageBoard.css'\r\n// import CreateMessage from '../UserMessages/CreateMessage'\r\n// import MyMessage from '../UserMessages/MyMessage'\r\nimport OneMessage from './OneMessage'\r\nimport SVG from '../SVG'\r\nimport { connect } from 'react-redux'\r\nimport { loginUser,registerUser,updateUser } from '../../ducks/userReducer'\r\nimport axios from 'axios'\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../WS'\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nclass CreateNewMessage extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            currentConversationId:null,\r\n            newMessages:[],\r\n            text:'',\r\n           \r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.executeSendMessage = this.executeSendMessage.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { currentUserMessage } = this.props\r\n        this.getConnected()\r\n    }\r\n\r\n        // --- sockets --- //\r\n    getConnected = async (input) => {\r\n\r\n        const { user_id,conversation_id } = this.props\r\n        const { id } = this.props.user.user\r\n\r\n       client.onopen = () => {\r\n        console.log('WebSocket Client Connected');\r\n       };\r\n   \r\n         client.onmessage = (message) => {\r\n             \r\n            const dataFromServer = JSON.parse(message.data);\r\n            const { from,to } = dataFromServer\r\n        \r\n            if (dataFromServer.type === 'message' && dataFromServer.conversation_id === conversation_id ) {\r\n                this.props.checkForExistingMessage(id,user_id)\r\n            }\r\n         }\r\n   }\r\n\r\n   sendToSockets = (text,conversation_id,toUser) => {\r\n        const { messages,loggedInUser } = this.state\r\n        const { user,photo,id } = this.props.user.user\r\n        client.send(JSON.stringify({\r\n            type:\"message\",\r\n            conversation_id:conversation_id,\r\n            msg:text,\r\n            to:toUser,\r\n            user:user,\r\n            from:id,\r\n            photo:photo\r\n        }))\r\n    }; \r\n\r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    executeSendMessage = async () => {\r\n        const { text } = this.state\r\n        const { id,photo } = this.props.user.user\r\n        const to_user = this.props.user_id\r\n        const user_id = id\r\n        const { isLoggedIn } = this.props.user\r\n        const { currentUserMessage } =  this.props\r\n        if (isLoggedIn != false && id != undefined) {\r\n            if (currentUserMessage === null ){\r\n                await axios.post('/api/conversation/new',{user_id,to_user,text}).then(res => {\r\n                this.sendToSockets(text,res.data.conversation_id,to_user)\r\n                })\r\n            } else {\r\n                const conversation_id = currentUserMessage[0].conversation_id\r\n                await axios.post('/api/conversation/user/new',{conversation_id,user_id,text,to_user})\r\n                this.sendToSockets(text,conversation_id,to_user,user_id)\r\n                this.setState({text:''})\r\n            }\r\n        }\r\n    }\r\n\r\n    processMessages = () => {\r\n        const { currentUserMessage,user_id } = this.props\r\n        if (currentUserMessage != null) {\r\n            const mappedMessages = currentUserMessage.map(el => {\r\n                return <OneMessage key={el.message_id} loggedInUser={user_id} content={el.content} user_id={el.user_id} photo_url={el.photo_url} user_name={el.user_name} date_created={el.date_created} />\r\n            })\r\n            return(mappedMessages)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const { user_name } = this.props\r\n\r\n        return(<div className='create-message-container'>\r\n                    <h4 className='message-board-title' style={{width:'105%',left:'-5px',textTransform:'none'}} >\r\n                        {user_name}\r\n                        <div style={{position:'absolute',right:'0px',top:'0px'}} onClick={() => this.props.openMessageBox()} >\r\n                            <SVG params={'largeX'} fill={'#fff'} />\r\n                        </div>\r\n                    </h4>\r\n                 \r\n                    <section className=\"create-message-input\" >\r\n                        <textarea className='message-input' style={{width:'250px',marginLeft:'10px',maxHeight:'50px'}} value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                        <button style={{position:'relative',width:'50px'}} onClick={() => this.executeSendMessage()} >\r\n                            <div><SVG params={'send'} fill={'none'} stroke={'#fff'} style={{position:'absolute',top:'-10',left:'-10'}} /></div>\r\n                        </button>\r\n                        {/* <svg onClick={() => this.executeSendMessage()} xmlns=\"http://www.w3.org/2000/svg\" className=\"send-message-button\" style={{marginRight:'10px',marginLeft:'5px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg> */}\r\n                    </section>\r\n\r\n                    <section className='thread-layout'>\r\n                        <div>{this.processMessages()}</div>\r\n                    </section>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateUser})(CreateNewMessage)","import axios from 'axios';\r\nimport UserProject from './UserProject'\r\nimport Project from '../Project/Project';\r\nimport { Component } from 'react'\r\nimport '../UserPage/UserPage.css'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser,remoteLogin } from '../../ducks/userReducer'\r\nimport UserInfo from '../UserPage/UserInfo';\r\nimport Loading from '../Loading/Loading';\r\nimport CreateNewMessage from './CreateNewMessage';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../WS';\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\nconst client = new W3CWebSocket(socketString); // production\r\n\r\nclass ViewUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state ={\r\n            currentUserMessage:null,\r\n            conversation_id:null,\r\n            items:[],\r\n            user:[],\r\n            showUserInfo:true,\r\n            showCollections:false,\r\n            showAdminPage:false,\r\n            showCreateProject:false,\r\n            showEditUserInto:false,\r\n            profilePic:null,\r\n            userName:null,\r\n            user_id:null,\r\n            isLoading:false,\r\n            setPermission:true,\r\n            openMessageBox:false,\r\n            friendShipInfo:null,\r\n        }\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.openMessageBox = this.openMessageBox.bind(this)\r\n        this.checkForExistingMessage = this.checkForExistingMessage.bind(this)\r\n        this.getUserAndProjects = this.getUserAndProjects.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { user_id } = this.props.match.params\r\n        this.props.updateUser()\r\n        this.getUserAndProjects(user_id)\r\n        axios.get(`/api/users/${user_id}`).then(res => \r\n            this.setState({user:res.data})\r\n        )\r\n    }\r\n        \r\n    componentDidUpdate() {\r\n        // --- Clear all logged in user info upon logout --- //\r\n        if(this.props.user.isLoggedIn === false && this.state.conversation_id != null){\r\n            this.setState({\r\n                currentUserMessage:null,\r\n                conversation_id:null,\r\n                friendShipInfo:null,\r\n            })\r\n        }\r\n        // --- Fetch friendship info and messages upon login/mount --- //\r\n        if(this.state.friendShipInfo === null){this.getConnectionStatus()}\r\n    }\r\n\r\n    // -- check if loggedin user is already connected to this user -- /\r\n    getConnectionStatus = async () => {\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_id } = this.props.match.params\r\n        if(id != undefined && isLoggedIn === true) {\r\n            await axios.post('/api/get/friend/status',{id,user_id}).then(res => this.setState({friendShipInfo:res.data})).catch(err => {console.log('no connection yet',err)})\r\n            this.checkForExistingMessage(id,user_id)\r\n        }\r\n    }\r\n\r\n    // --- Check for messages - Fetch if they exist --- //\r\n    checkForExistingMessage = async (id,user_id) => {\r\n        await axios.post('/api/conversation/exists',{id,user_id}).then(res => {\r\n            const { messages, conversation_id } = res.data\r\n            this.setState({\r\n                currentUserMessage:messages,\r\n                conversation_id:conversation_id\r\n            })\r\n        }).catch(err => console.log('there are no conversations yet',err))\r\n    }\r\n\r\n    // --- Logged in users can send/recieve messages from this voew --- //\r\n    openMessageBox = () => {\r\n        const { isLoggedIn } = this.props.user\r\n        const { id } = this.props.user.user\r\n        \r\n        if(id != undefined && isLoggedIn === true){\r\n            this.setState({openMessageBox:!this.state.openMessageBox})\r\n        } else {this.props.remoteLogin(true)}\r\n    }\r\n\r\n    // --- This is for sending connection requests --- //\r\n    sendConnectInvite = () => {\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_id } = this.state.user[0]\r\n        const friend_id = user_id\r\n        const no = false\r\n        this.setState({friendShipInfo:true})\r\n        if(id != undefined && isLoggedIn === true){\r\n            axios.post('/api/friends/add',{id,friend_id,no}).then().catch(err => console.log(err))\r\n            this.sendToSocket()\r\n        } else {this.props.remoteLogin()}\r\n    }\r\n\r\n    // --- Realtime connection request updates --- // \r\n    sendToSocket = () => {\r\n        const { user_id } = this.props.match.params\r\n        const { id,photo,user} = this.props.user.user\r\n        const fromUser = {\r\n            toUser:user_id,\r\n            id:id,\r\n            photo:photo,\r\n            user:user\r\n        }\r\n        client.send(JSON.stringify({type:\"new_friend\",fromUser}))\r\n    }\r\n\r\n    getUserAndProjects(user_id) {\r\n        axios.get(`/api/user/projects/get/${user_id}`).then(res => {\r\n            this.setState({...this.state,items:res.data})\r\n        })\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n        } catch (error) {}\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    handleFriends(){\r\n        this.setState({isView:'isFriends'})\r\n    }\r\n\r\n    render(){\r\n        const { items,isLoading,user,currentUserMessage,conversation_id } = this.state\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_id } = this.props.match.params\r\n\r\n        const mappedNewMessage = user.map(el => {\r\n            return <CreateNewMessage key={el.user_id} user_id={el.user_id} user_name={el.user_name} conversation_id={conversation_id} currentUserMessage={currentUserMessage} pleaeLogin={this.pleaseLogin} openMessageBox={this.openMessageBox} sendToSocket={this.sendToSocket} checkForExistingMessage={this.checkForExistingMessage} />\r\n        })\r\n\r\n        const mappedUserName = user.map(el => {\r\n            return <h4 className=\"portrait-row\" style={{textTransform:'none'}} key={el.user_id} >{el.user_name}</h4>\r\n        })\r\n\r\n        const mappedBackground = user.map(el => {\r\n           return <img src={el.background_url} key={el.user_id} className='background-photo' />\r\n        })\r\n\r\n        const mappedProfilePhoto = user.map(el => {\r\n            return <img className=\"profile-photo\" src={el.photo_url} key={el.user_id} alt=\"photo\"/>\r\n        })\r\n\r\n        const mappedProjects = items.map(el => {\r\n            return <Project key={el.model_id} model_id={el.model_id} data={el} projectIsLiked={this.projectIsLiked} />\r\n        })\r\n\r\n    return(\r\n        \r\n        <div className=\"user-page\">\r\n\r\n            {this.state.openMessageBox && isLoggedIn ? mappedNewMessage : null}\r\n\r\n            {isLoading ? <Loading/> : null}\r\n\r\n            <section className=\"column1\">\r\n                {mappedBackground}\r\n                \r\n                <div className=\"portrait\">\r\n\r\n                    {mappedProfilePhoto}\r\n                    {mappedUserName}\r\n \r\n                    <div className='portrait-row'>\r\n\r\n                        {/* --- Users cannot message themselves --- */}\r\n                        {parseInt(user_id) === id ? true : <p className='user-buttons' style={{marginTop:'30px',paddingTop:'3px'}} onClick={() => this.openMessageBox()} >Message</p>}\r\n                        \r\n                        \r\n                        {/* --- Connection requests can only be send by logged in users who are not currently connected --- */}\r\n                        {this.props.user.isLoggedIn === true && this.state.friendShipInfo != true ? \r\n                            <p className='user-buttons' style={{marginTop:'30px',paddingTop:'3px'}} onClick={() => this.sendConnectInvite()} >Connect</p>\r\n                       : null}\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n            </section>\r\n\r\n            <section className=\"column2\" >\r\n\r\n                <div className='collections'>\r\n                    {mappedProjects}\r\n                </div>\r\n\r\n            </section>\r\n        </div>\r\n        \r\n        )}\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser,remoteLogin})(ViewUser)","\r\nimport './MessageBoard.css'\r\nimport { useState,useEffect } from 'react'\r\n\r\nconst MyMessage = (props) => {\r\n\r\n    useEffect(() => {\r\n        // setShowNotice(false)\r\n        if(loggedInUser === user_id){setIsUser(true)}\r\n    },[])\r\n\r\n    const [isUser,setIsUser] = useState(false)\r\n\r\n    const testFunc = () => {\r\n        alert('does it work')\r\n    }\r\n    var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    const { content,loggedInUser,user_id,photo_url,date_created } = props\r\n    const time = date_created.split(\"T\")\r\n    // find date\r\n    const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    const amPm = (input) => {\r\n        if(input[0] > 12){\r\n            return input[0]-12 + ':' + input[1] + ' pm'\r\n        } else {return(input[0] + ':' + input[1] + ' am')}\r\n    }\r\n    const timeVal = time[1].split(':')\r\n    \r\n    // console.log(loggedInUser === user_id)\r\n    return (\r\n        <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`}>\r\n        <div className={`my-message-container ${loggedInUser === user_id ? true : 'user-message-container'}`}>\r\n            <p className='time-stamp'style={{textTransform:'none',fontSize:'xx-small'}}>{months[parseInt(dateVal[1])-1]+' '+dateVal[2]+' '+dateVal[0]}</p>\r\n        {/* <div className={`my-message-container`}> */}\r\n            <p style={{textTransform:'none'}}>{content}</p>\r\n            <p style={{textTransform:'none',fontSize:'xx-small'}}>{amPm(timeVal)}</p>\r\n            {/* <p className={`my-time-format ${isUser ? true : 'user-time-format'}`} >{amPm(timeVal)}</p> */}\r\n        </div>\r\n            <div>\r\n                <img src={photo_url} className={`my-message-photo ${isUser ? true : 'my-message-photo'}`} />\r\n                    {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n            </div>\r\n            {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default MyMessage","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\n// import '../../Components/FeaturedProjects/Comments/Comments'\r\nimport './CreateMessage.css'\r\n// import { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket('ws://127.0.0.1:8000');\r\n\r\n\r\nexport default class CreateMessage extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            text:\"\",\r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.executeSendMessage = this.executeSendMessage.bind(this)\r\n    }\r\n\r\n    executeSendMessage = async () => {\r\n        const { text } = this.state\r\n        const { user_id,conversation_id,to_user } = this.props\r\n\r\n        await axios.post('/api/conversation/user/new',{conversation_id,user_id,text,to_user})\r\n        await this.props.sendToSockets(text,conversation_id,to_user)\r\n        // this.props.openMessage(conversation_id) \r\n        this.setState({text:''})\r\n    }\r\n\r\n    \r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isLoggedIn,conversation_id } = this.props\r\n \r\n        return(\r\n            <div>\r\n            {conversation_id != null ? <div className=\"input-background\" style={{maxHeight:'50px'}}>\r\n                <textarea className=' message-input' style={{minHeight:'45px'}} value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                <div className='send-message-button' onClick={() => this.executeSendMessage()} style={{position:'absolute',height:'30px',width:'30px'}} >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                </div> \r\n            </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}","import './SelectedMessage.css'\r\nimport { useState,useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst SelectedMessage = (props) => {\r\n\r\n    const { photo_url,conversation_id,selectedMessage,user_name,read_by,id,to_user } = props\r\n    const [isSelected,setIsSelected] = useState(false)\r\n    \r\n    useEffect(() => {\r\n\r\n    },[])\r\n\r\n    const gotClicked = (id) => {\r\n        props.openMessage(id,to_user)\r\n        const cancel = null\r\n        axios.post(`api/messages/read/`,{cancel,conversation_id})\r\n        setIsSelected(true)\r\n    }\r\n\r\n    return(\r\n        <div className={`selected-message-container ${selectedMessage!=conversation_id ? true : 'selected-message-selected'}`} onClick={() => gotClicked(conversation_id)} >\r\n            <img className='senders-photo' src={photo_url} />\r\n            {read_by === id && isSelected === false ? <p className='new-message' >new!</p> : null}\r\n            <p className='display-name-message'>{user_name}</p>\r\n        </div>\r\n          )\r\n}\r\n\r\nexport default SelectedMessage","\r\nimport './MessageBoard.css'\r\nimport { loginUser,registerUser,updateUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Route } from 'react-router-dom'\r\nimport Home from '../Home/Home'\r\nimport axios from 'axios'\r\nimport { Component } from 'react'\r\nimport MyMessage from './MyMessage'\r\nimport CreateMessage from './CreateMessage'\r\nimport SelectedMessage from './SelectedMessage'\r\n// import EndOfMessages from './EndOfMessages' // pending removal\r\nimport React from 'react'\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { socketString } from '../WS'\r\n// const client = new W3CWebSocket(`wss://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(socketString); // production\r\n// const client = new W3CWebSocket(`wss://165.227.102.189:8000`); // build\r\n\r\n class MessageBoard extends Component {\r\n     constructor() {\r\n         super()\r\n         \r\n         this.state = {\r\n             messages:[],\r\n             newMessages:[],\r\n             thread:[],\r\n             conversation_id:null,\r\n             gotMessages:false,\r\n             expand:false,\r\n             openContacts:true,\r\n             challengeUser:null, // adding game challenge notifications to messageBoard\r\n             gotNewMessage:false\r\n            }\r\n            this.getMessages = this.getMessages.bind(this)\r\n            this.openMessage = this.openMessage.bind(this)\r\n            this.expandMessageBoard = this.expandMessageBoard.bind(this)\r\n            this.setOpenContacts = this.setOpenContacts.bind(this)\r\n            this.sendToSockets = this.sendToSockets.bind(this)\r\n            this.getConnected = this.getConnected.bind(this)\r\n        }\r\n\r\n    componentDidMount() {\r\n        this.props.updateUser()\r\n        this.getConnected()\r\n     }\r\n\r\n     componentDidUpdate(prevProps,prevState) {\r\n         const { gotMessages } = this.state\r\n         const { id } = this.props.user.user\r\n         const { isLoggedIn } = this.props.user\r\n         if(gotMessages === false && id != undefined){\r\n             this.setState({gotMessages:true})\r\n             this.getMessages()\r\n         }\r\n         if(isLoggedIn === false && gotMessages === true){\r\n            this.setState({\r\n                messages:[],\r\n                thread:[],\r\n                conversation_id:null,\r\n                gotMessages:false,\r\n                expand:false,\r\n            })\r\n        }\r\n     }\r\n\r\n     // --- sockets --- //\r\n     getConnected = (input) => {\r\n         const { conversation_id } = this.state\r\n        //  console.log(`got connected to ${input}`,input === conversation_id)\r\n        // const contentDefaultMessage = \"default message as string\"\r\n        client.onopen = () => {\r\n        //  console.log('WebSocket Client Connected');\r\n        };\r\n    \r\n          client.onmessage = (message) => {\r\n              \r\n            const dataFromServer = JSON.parse(message.data);\r\n            if(dataFromServer.to === this.state.loggedInUser){this.setState({gotNewMessage:true})}\r\n            // console.log('got reply',dataFromServer.to === this.state.loggedInUser)\r\n            // this.setState({testSockIntfo:dataFromServer.to})\r\n          if (dataFromServer.type === 'message' && input === conversation_id ) {\r\n            this.openMessage(conversation_id)\r\n            this.setState((State) =>\r\n            ({newMessages:[...this.state.newMessages,\r\n            {\r\n              msg: dataFromServer.msg,\r\n              user:dataFromServer.user\r\n            }]\r\n    \r\n          }))\r\n            // console.log('is messaged')\r\n          }\r\n          }\r\n    }\r\n    sendToSockets = (text,conversation_id,toUser) => {\r\n        const { messages,loggedInUser } = this.state\r\n        const { user } = this.props.user.user\r\n        // client.send(JSON.stringify({type: \"message\",msg:text,user:user, conversation_id:conversation_id}))\r\n        client.send(JSON.stringify({type: \"message\",conversation_id:conversation_id,msg:text,to:toUser}))\r\n    };\r\n    //     // --------------- //\r\n                \r\n\r\n     getMessages = () => {\r\n        const { id } = this.props.user.user\r\n        const user_id = id\r\n        axios.get(`/api/conversations/${user_id}`).then(res => {\r\n            this.setState({\r\n                messages:res.data,\r\n                loggedInUser:id\r\n            })\r\n        })\r\n     }\r\n\r\n     openMessage = async (conversation_id,to_user) => {\r\n        // this.getConnected(conversation_id)\r\n        await axios.get(`/api/conversation/messages/get/${conversation_id}`).then(res => {\r\n            this.setState({\r\n                thread:res.data,\r\n                conversation_id:conversation_id,\r\n                openContacts:false,\r\n                to_user:to_user\r\n            })\r\n        })\r\n        await this.getConnected(conversation_id)\r\n     }\r\n\r\n     expandMessageBoard = () => {\r\n         this.setState({\r\n            expand:!this.state.expand,\r\n            gotNewMessage:false\r\n        })\r\n     }\r\n\r\n     setOpenContacts = () => {\r\n         this.setState({openContacts:!this.state.openContacts})\r\n     }\r\n\r\n     render() {\r\n\r\n        const { messages,thread,selectedMessage,conversation_id,expand,gotMessages,openContacts,newMessages,to_user } = this.state\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const user_id = id\r\n        \r\n        const mappedMessageUsers = messages.map(el => {\r\n            return <SelectedMessage key={el.conversation_id} selectedMessage={conversation_id} conversation_name={el.conversation_name} conversation_id={el.conversation_id} to_user={el.to_user} openMessage={this.openMessage} photo_url={el.photo_url} user_name={el.user_name} read_by={el.read_by} id={id} getConnected={this.getConnected} />\r\n        })\r\n\r\n        const mappedThread = thread.map(el => {\r\n            return <MyMessage key={el.message_id} loggedInUser={user_id} content={el.content} user_id={el.user_id} photo_url={el.photo_url} user_name={el.user_name} date_created={el.date_created} />\r\n        })\r\n\r\n        // ---- load new message view socket for performance ---- //\r\n        // const mappedNewMessages = newMessages.map(el => {\r\n        //     const { counter } = this.state\r\n        //     return <p style={{color:'#555'}}>{el.msg} </p>\r\n        // })\r\n\r\n        // if(isLoggedIn === false && gotMessages === true){\r\n        //     this.setState({\r\n        //         messages:[],\r\n        //         thread:[],\r\n        //         conversation_id:null,\r\n        //         gotMessages:false,\r\n        //         expand:false,\r\n        //     })\r\n        // }\r\n\r\n        return(<div>\r\n            {isLoggedIn ?  (!expand ? <div className='message-board-closed' onClick={() => this.expandMessageBoard()} >\r\n            {this.state.gotNewMessage === true ? <p className='new-message'>new!</p> : null}\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" style={{width:'25px',opacity:'.5'}} className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n            </svg>\r\n\r\n            </div> :\r\n            <div className='message-board ' >\r\n            <div className='message-board-title'>\r\n\r\n            <svg className=\"close-message-box\" onClick={() => this.expandMessageBoard()} style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n\r\n\r\n            <h2 className='hide-message-h2' style={{textTransform:'none'}} >Messages</h2>\r\n\r\n            <svg className={`toggle-contacts ${openContacts ? true : 'toggle-contacts-rotated'}`} style={{ height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" onClick={() => this.setOpenContacts()}>\r\n                <path d=\"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z\" />\r\n            </svg>\r\n\r\n            </div>\r\n            \r\n            <section>\r\n                <div className='dash' >{mappedMessageUsers}</div>\r\n            </section>\r\n\r\n            <section className={`mobile-dash ${openContacts ? false : 'mobile-dash-closed'}`}>\r\n                <div >{openContacts === true ? mappedMessageUsers : null }</div>\r\n            </section>\r\n\r\n            <section className=' board'>\r\n                <div >\r\n                    {mappedThread}\r\n                {/* {mappedNewMessages} */}\r\n                </div>\r\n                \r\n            </section>\r\n            <section>\r\n                <div className='text-input-container'><CreateMessage id='EndOfMessages' conversation_id={this.state.conversation_id} user_id={user_id} to_user={to_user} openMessage={this.openMessage} sendToSockets={this.sendToSockets} /></div>\r\n                {/* <div className='text-input-container'><CreateMessage id='EndOfMessages' conversation_id={this.state.conversation_id} user_id={user_id} openMessage={this.openMessage} /></div> */}\r\n\r\n            </section>\r\n        </div>) : null}\r\n        </div>)\r\n     }\r\n }\r\n\r\n function mapStateToProps(reduxState) {\r\n     return reduxState\r\n }\r\n\r\n export default connect(mapStateToProps, {updateUser})(MessageBoard)","import { Switch, Route } from 'react-router-dom'\r\nimport Home from './Components/Home/Home'\r\n// import Home from './Components/Home/Home'\r\nimport GroupPage from './Components/GroupPage/GroupPage'\r\nimport UserPage from './Components/UserPage/UserPage'\r\nimport Header from './Components/Header/Header'\r\nimport Explore from './Components/Explore/Explore'\r\nimport About from './Components/About/About'\r\nimport Sites from './Components/SiteLinks/Sites'\r\nimport Register from './Components/Register/Register'\r\nimport ProjectDetail from './Components/ProjectDetails/ProjectDetail'\r\nimport SecurityTest from './Components/UserPage/SecurityTest'\r\nimport Agreement from './Components/Register/Agreement'\r\nimport AdminPage from './Components/AdminPage/AdminPage'\r\nimport Messages from './Components/Messages/Messages'\r\nimport ViewUser from './Components/ViewUser/ViewUser'\r\nimport MessageBoard from './Components/UserMessages/MessageBoard'\r\n\r\nexport default (\r\n    <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route path=\"/viewuser/:user_id\" component={ViewUser} />\r\n        <Route path=\"/explore\" component={Explore} />\r\n        <Route path=\"/group\" component={GroupPage} />\r\n        <Route path=\"/user\" component={UserPage} />\r\n        <Route path=\"/about\" component={About} />\r\n        <Route path=\"/sites\" component={Sites} />\r\n        <Route path=\"/register\" component={Register} />\r\n        <Route path=\"/projectdetails/:model_id\" component={ProjectDetail} />\r\n        <Route path=\"/securitytest\" component={SecurityTest} />\r\n        <Route path=\"/header\" component={Header} />\r\n        <Route path=\"/agreement\" component={Agreement} />\r\n        <Route path=\"/admin\" component={AdminPage} />\r\n        <Route path=\"/messages/:user_id\" component={Messages} />\r\n        <Route path=\"/usermessages\" component={MessageBoard} />\r\n    </Switch>\r\n)","\r\nimport './App.css';\r\nimport firebase from 'firebase'\r\n\r\nimport Header from './Components/Header/Header'\r\nimport routes from './routes'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport MessageBoard from './Components/UserMessages/MessageBoard';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <HashRouter>\r\n    <div className=\"App\">\r\n        <Header/>\r\n        <MessageBoard />\r\n\r\n        {/* MOVED TO SAVE REAL ESTATE */}\r\n        {/* <Message /> */}\r\n\r\n        {routes}\r\n    </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport reduxPromiseMiddleware from 'redux-promise-middleware'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport userReducer from './userReducer'\r\nimport modelsReducer from './modelsReducer'\r\nimport firebaseReducer from './firebaseReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  // characters: breakingBadReducer,\r\n  user: userReducer,\r\n  // projects: projectsReducer,\r\n  models: modelsReducer,\r\n  firebase: firebaseReducer\r\n\r\n})\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(reduxPromiseMiddleware))\r\n)\r\n\r\n// composeWithDev\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux'\r\nimport store from './ducks/store'\r\nimport { HashRouter, BrowserRouter } from 'react-router-dom';\r\nconst Router = process.env.NODE_ENV === 'development' ? HashRouter : BrowserRouter;\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n    <Provider store={store}>\r\n    <App />\r\n    </Provider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}