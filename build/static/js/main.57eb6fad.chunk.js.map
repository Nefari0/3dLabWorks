{"version":3,"sources":["ducks/userReducer.js","ducks/modelsReducer.js","Components/Home/Icons/Icon.js","Components/Loading/Loading.js","Components/SVG.js","Components/FeaturedProjects/Project.js","Components/VideoPlayer/VideoPlayer.js","Components/Home/Home.js","Components/Register/Agreement.js","Components/MobileLogin/MobileLogin.js","ducks/projectsReducer.js","base.js","ducks/firebaseReducer.js","Components/FeaturedProjects/EditProject/ImagePreview.js","Components/FeaturedProjects/EditProject/EditModel.js","Components/UserPage/CreateProject.js","Components/UserPage/Collections.js","Components/UserPage/EditUserInfo.js","Components/UserPage/UserInfo.js","Components/UserPage/SecurityTest.js","Components/AdminPage/ShowUser.js","Components/AdminPage/ShowTraffic.js","Components/AdminPage/Memo.js","Components/AdminPage/UserAdminMessage/UserAdminMessage.js","Components/AdminPage/AdminPage.js","Components/Games/checkers/Tile/Piece.js","Components/Games/checkers/Tile/Tile.js","Components/Games/checkers/pieces.js","Components/Games/checkers/CurrentPlayer.js","Components/Games/checkers/CheckerBoard.js","Components/UserPage/Friends/GameInvite.js","Components/Games/Table.js","Components/UserPage/Friends/MyConnections.js","Components/UserPage/Friends/ConnectRequests.js","Components/UserPage/Friends/DisplayFriends.js","Components/UserPage/PhotoAlbum/SelectedImage.js","Components/UserPage/PhotoAlbum/PhotoAlbum.js","Components/UserPage/UserPage.js","assets/cdLabs-logo-1-alpha.png","assets/MM3D2333x50orthofff.png","assets/CDinits.png","Components/Header/Header.js","Components/FeaturedProjects/FeaturedProjects.js","Components/GroupPage/GroupPage.js","Components/Document.js","Components/About/Links/OneLink.js","Components/About/Links/Links.js","Components/Notice/Notice.js","Components/About/About.js","Components/Explore/Explore.js","Components/SiteLinks/Sites.js","Components/Register/Register.js","Components/FeaturedProjects/ProjectPhotos.js","Components/FeaturedProjects/Comments/Comments.js","Components/FeaturedProjects/Comments/CreateComment.js","Components/FeaturedProjects/DlUrl.js","Components/FeaturedProjects/Description.js","Components/FeaturedProjects/TheMaker.js","Components/FeaturedProjects/ProjectDetail.js","Components/ViewUser/UserProject.js","Components/ViewUser/OneMessage.js","Components/ViewUser/CreateNewMessage.js","Components/ViewUser/ViewUser.js","Components/UserMessages/MyMessage.js","Components/UserMessages/CreateMessage.js","Components/UserMessages/SelectedMessage.js","Components/UserMessages/MessageBoard.js","routes.js","Components/Messages/admin_photo1.jpg","Components/Messages/Message.js","App.js","reportWebVitals.js","ducks/store.js","index.js"],"names":["inititialState","user","isLoggedIn","isLoading","loginError","loginOpen","LOGIN_USER","LOGOUT_USER","REGISTER_USER","UPDATE_USER","AUTO_LOGIN","OPEN_LOGIN","remoteLogin","val","type","payload","loginUser","user_name","password","last_visit","visited","axios","post","registerUser","email","first_name","is_admin","is_sudo","updateUser","initialState","models","featured","isloading","GET_MODELS","GET_FEATURED","getModels","get","Loading","className","Component","SVG","params","console","log","link","largeHeart","dark","stroke-linecap","stroke-linejoin","stroke-width","d","style","margin","marginLeft","marginRight","height","width","opacity","xmlns","fill","viewBox","stroke","param","strokeLinecap","strokeLinejoin","strokeWidth","icon","connect","reduxState","props","data","firebase_url","category","img","firebase_url01","name","description","model_id","model_likes","photo_url","user_id","likes","handleClick","id","user_likes","useState","numOfLikes","setNumOfLikes","heart","setHeart","useEffect","checkIfLiked","plsSignIn","window","scrollTo","likeFunc","m_id","a","updateLikes","then","res","clickedLike","undefined","projectIsLiked","to","src","user_photo_url","getPhotoUrl","current_user_name","getUserName","onClick","open","href","target","rel","borderBottom","fillRule","clipRule","VideoPlayer","video_url","tag","video_name","marginTop","url","Home","getFeaturedVideos","setLoading","getFeatured","res2","setState","videos","loading","state","projects","userLikes","handleUserName","bind","handlePassword","this","value","projectId","userLike","filter","el","error","mappedModels","map","element","mappedVideos","video_id","Agreement","saveSession","current_user","setUsername","setPassword","saveInfo","setSaveInfo","signup","setSignup","setEmail","setFirstName","last_name","setLastName","iAgree","setIAgree","openIAgree","setOpenIAgree","selectSignUp","executeIAgree","getLoggedIn","execute","color","marginBottom","exit","textTransform","onChange","e","placeholder","fontSize","alert","fontWeight","logout","GET_PROJECTS","getProjects","app","firebase","initializeApp","apiKey","authDomain","storageBucket","messagingSenderId","appId","measurementId","firestore","DELETE_FILE","ADD_TO_FIREBASE","REF_FROM_URL","deleteFile","storageRef","storage","refFromURL","delete","addNewModel","file","path","ref","child","put","ImagePreview","previewImageFile","addNewHandler","addPhoto","clearState","handleInput","right","EditModel","removeFileFromSpace","info","setIsLoading","deleteAllImages","setIsDeleted","confirm","modelImages","strings","replaceModelFile","getRefFromUrl","newModel","action","getDownloadURL","modelUrl","newModelToDB","fileHandler","preview","files","URL","createObjectURL","handlePhoto","fileInput","Resizer","imageFileResizer","uri","err","passNewPhotoToFB","getImages","cloud","executeChange","getDetails","confirmDelete","openDeleteConfirm","file_url","imageUr1","prop","hideButtons","backgroundColor","accept","rows","cols","wrap","position","fullPath","split","slice","join","CreateProject","getFileName","previewModelFile","resetView","handleFile","borderRadius","handleAddText","createNewProject","Collections","imageFile","fileUrl","imageUrl","projectDescription","projectName","cloudFile","photoUrl","cloudPhoto","addToDatabase","setFileUrl","setImageUrl","addFile","photo","sendIntoSpace","fileHandlerRemove","handleDelete","username","getFileUrl","theFile","getImUrl","theImage","input","fileRef","catch","storageRef2","is_hidden","status","openEditModel","newItem","openAddProject","addNewProject","showCreateProject","mappedProjects","deleteModel","openEdidModel","EditUserInfo","userInfoFromProps","background_url","launchNewPass","setPermission","newPassword1","newPassword2","oldPassword","openChangePass","hideView","openNewPass","staticPhoto","UserInfo","SecurityTest","ShowUser","ShowTraffic","unique_id","remount","date_created","Memo","body","title","memo_id","text","setText","sending","setSending","UserAdminMessage","messagecontent","AdminPage","W3CWebSocket","addGeneral","content","generalContent","addAbout","aboutContent","hideDocGeneral","displayGeneral","hideMessages","showMessages","hideDocAbout","displayAbout","users","editGeneral","editAbout","editUserInfo","userMessages","showMemo","memos","showTraffic","traffic","openEditAbout","openEditGeneral","openEditUserInfo","test","auth","mappedUsers","mappedTraffic","browser_id","mappedMessages","dum_id","mappedMemos","changeView","component","Piece","getCurrent","Tile","x","y","currentPiece","activeLocation","currentPlayer","pieces","tileIsSelected","moveOptions","chainKillAvailable","prevPiece","useRef","length","isKing","pendingDeath","isInGame","player","selectTile","setMoves","current","unselectTile","CurrentPlayer","CheckerBoard","getConnected","client","onopen","onmessage","message","dataFromServer","JSON","parse","gameID","currentGame","newPieces","chainKillData","switchPlayer","checkForKill","enemyX","enemyY","autoStartTurn","highLightFate","kingAll","updatePieces","forEach","push","sendToSocketsSwitch","send","stringify","sendToSocketsUpdate","boardFactory","matrix","M","Array","from","i","currentPieces","chainKills","updatedPieces","attack","updateMoves","locatePiece","checkPieceLocations","nextX","parseInt","nextY","enemy","targetPieces","el2","findIndex","el3","manualControl","pieceIndex","key","executeMovePiece","sendInfo","currentX","currentY","killPiece","pieceId","killIndex","splice","piece","playerGood","playerBad","selectedPiece","wasKillMade","gameBoardOpen","mappedMatrix","row","col","id2","GameInvite","challengeUser","gameInformation","isAccepted","isConfirmed","setIsConfirmed","openAccept","setOpenAccept","handleAccept","changeGameID","Table","MyConnection","my_id","menuOpen","setMenuOpen","remove","setRemove","getUserID","removeConnection","handleRemove","ConnectRequests","acceptRequest","handleConfirm","DisplayFriends","sockets","fromUser","friendObj","newFriends","friends","toUser","updateFriends","newFriendToSocked","getMyFriends","requests","err2","startLoading","yes","justAdded","mappedConnections","mappedRequests","mappedNewRequestes","SelectedImage","image_url","clickHandler","setCurrentImg","removingPhoto","getPhotos","left","top","albums","setAlbums","photos","setPhotos","view","setView","create","setCreate","currentImg","setPhotoUrl","addAndUpdate","objUrl","addingPhoto","album_id","mappedAlbums","mappedPhotos","photo_id","float","UserPage","deleteFromFirebase","receiveInvite","sendInvite","getUniqueID","s4","Math","floor","random","toString","substring","showPhotos","items","showUserInfo","showCollections","showAdminPage","showEditUserInto","showGames","showFriends","profilePic","userName","handleCollections","pleaseLogin","pleaeLogin","isView","currentPhoto","alt","flexWrap","justifyContent","textDecoration","Header","trackAdminUser","localStorage","isAdmin","isLoggedInState","handleLogging","resetState","toggleMenu","toggleLogin","handleLogout","setSaveSession","sessionToWindow","setItem","prevProps","savedUsername","Date","autoLogin","assigned_browser","isMenuOpen","toggleHideLoggin","logoutUser","signInName","signInPass","saveMyInfo","removeItem","viewTheWindow","cdLabs3d","CDinits","MM3D1","paddingTop","pass","hide","openLogin","GroupPage","Document","display","OneLink","link_text","link_to","Links","linkText","links","mappedLinks","link_id","Notice","notDefault","setShowNotice","showNotice","item","About","mainSelected","linksSelected","about","showAbout","general","showGeneral","mappedAbout","doc_id","mappedGeneral","Explore","handleText","openSearch","openSearchBar","viewModels","viewVideos","names","userId","projectSearch","addLike","updateState","params_id","mappedData","includes","Sites","setUserName","handleOpenIAgree","userInfo","maker_id","deletePhotoFromDB","deleted","setOpenMenu","openMenu","comment_id","deletePost","getComments","CreateComment","sendPost","minHeight","DlUrl","Description","maxHeight","TheMaker","ProjectDetail","myLike","clickLike","isDeleted","highLightedPhoto","selectedPhoto","dlUrl","comments","viewFiles","viewComments","viewDetails","viewEditProject","viewInfo","allLikes","match","res3","res4","history","mappedDescription","mappedUrl","mappedComments","mappedPhoto","mappedUserInfo","mappedThumbNails","image_id","OneMessage","loggedInUser","setIsUser","isUser","time","dateVal","timeVal","CreateNewMessage","conversation_id","State","newMessages","msg","executeSendMessage","currentUserMessage","processMessages","message_id","currentConversationId","openMessageBox","ViewUser","getConnectionStatus","friendShipInfo","checkForExistingMessage","messages","sendConnectInvite","friend_id","no","sendToSocket","getUserAndProjects","mappedNewMessage","mappedUserName","mappedBackground","mappedProfilePhoto","MyMessage","CreateMessage","to_user","sendToSockets","SelectedMessage","selectedMessage","read_by","isSelected","setIsSelected","openMessage","cancel","gotClicked","MessageBoard","gotNewMessage","getMessages","thread","openContacts","expandMessageBoard","expand","setOpenContacts","gotMessages","prevState","mappedMessageUsers","conversation_name","mappedThread","counter","exact","Register","Messages","Message","inputHandler","sendMessageToAdmin","messageContent","setContactAdmin","showGreeting","showActualMessage","contactAdmin","welcomeGreeting","responseGreeting","hideGreeting","onMouseEnter","class","App","routes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","SHOW_DATA","createStore","composeWithDevTools","applyMiddleware","reduxPromiseMiddleware","Router","BrowserRouter","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.57eb6fad.chunk.js","sourcesContent":["import axios from 'axios'\r\nimport { OPEN } from 'ws'\r\n\r\nconst inititialState = {\r\n    user: {},\r\n    isLoggedIn:false,\r\n    isLoading:false,\r\n    loginError:false,\r\n    \r\n    //  testing use of boolean data types in redux\r\n    loginOpen:false,\r\n}\r\n\r\nconst LOGIN_USER = 'LOGIN_USER'\r\nconst LOGOUT_USER = 'LOGOUT_USER'\r\nconst REGISTER_USER = 'REGISTER_USER'\r\nconst EDIT_USERINFO = 'EDIT_USERINFO'\r\nconst UPDATE_USER = 'UPDATE_USER'\r\nconst SHOW_DATA = 'SHOW_DATA'\r\nconst AUTO_LOGIN = 'AUTO_LOGIN'\r\nconst OPEN_LOGIN = 'OPEN_LOGIN'\r\n\r\nexport function remoteLogin(val) {\r\n    return {\r\n        type: OPEN_LOGIN,\r\n        payload: val\r\n    }\r\n}\r\n\r\nexport function loginUser(user_name, password, last_visit, visited) {\r\n    return {\r\n        type: LOGIN_USER,\r\n        payload: axios.post('/auth/login', {user_name, password, last_visit, visited})\r\n    };\r\n}\r\n\r\nexport function logoutUser(){\r\n    return {\r\n        type: LOGOUT_USER,\r\n        payload: axios.get('/auth/logout')\r\n    }\r\n}\r\n\r\nexport function registerUser(user_name, password, email, first_name, is_admin, is_sudo){\r\n    return {\r\n        type: REGISTER_USER,\r\n        payload: axios.post('/auth/register', { user_name, password, email, first_name, is_admin, is_sudo})\r\n    }\r\n}\r\n\r\n// export function showData(user){\r\n//     return {\r\n//         type: SHOW_DATA,\r\n//         payload:axios.post('/auth/getInfo', {user})\r\n//     }\r\n// }\r\n\r\n// --- this block adds edit capabilities to user info --- //\r\nexport function editUserinfo(photo_url){\r\n    return {\r\n        type: EDIT_USERINFO,\r\n        payload: axios.get('api/users/all')\r\n    }\r\n}\r\n\r\n//  ----- rebuilding - commented out for testing------ //\r\n// export function updateUser(user_id){\r\n//     return{\r\n//         type: UPDATE_USER,\r\n//         payload: axios.get(`/api/users/:${user_id}`)\r\n//     }\r\n// }\r\nexport function updateUser(user){\r\n    return{\r\n        type: UPDATE_USER,\r\n        payload: user\r\n    }\r\n}\r\n// ---------------------------------------------------- //\r\n\r\n// --- auto login from browser if usersession is saved --- //\r\nexport function autoLogin(user_name, last_visit, visited){\r\n    return{\r\n        type: AUTO_LOGIN,\r\n        payload: axios.post('/auth/browser/login', {user_name,last_visit,visited})\r\n    }\r\n}\r\n\r\nexport default function userReducer(state = inititialState, action) {\r\n    switch (action.type) {\r\n        // ---- this allows the login menu to be opened from any component ---- //\r\n        case OPEN_LOGIN:\r\n            return {\r\n                ...state,\r\n                loginOpen:action.payload\r\n            }\r\n        // -------------------------------------------------------------------- //\r\n        case SHOW_DATA + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case SHOW_DATA + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user:action.payload.data\r\n            }\r\n        case SHOW_DATA + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                loginError:true\r\n            }\r\n        case LOGIN_USER + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n        case LOGIN_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user: action.payload.data, isLoggedIn: true, isLoading:false,\r\n            }\r\n        case LOGIN_USER + '_REJECTED':\r\n            alert('Your username or password is incorrect')\r\n            return {\r\n                ...state,\r\n                loginError:true,isLoading:false\r\n            }\r\n        case LOGOUT_USER + '_FULFILLED':\r\n                return {\r\n                    ...state, user: action.payload.data, isLoggedIn: false\r\n                }\r\n        case REGISTER_USER + '_PENDING':\r\n                return {\r\n                    ...state,\r\n                    isLoading: true\r\n                }\r\n        case REGISTER_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user: action.payload.data, isLoggedIn: true, isLoading:false\r\n            }\r\n        case REGISTER_USER + '_REJECTED':\r\n            alert('Either the username you have chosen is already being used or consists of more than 12 characters. Please choose a defferent username')\r\n            return { \r\n                ...state,\r\n                isLoggedIn: false,\r\n                isLoading:false\r\n            }\r\n        case UPDATE_USER + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                user:action.payload.data, isLoggedIn:true\r\n            }            \r\n        case UPDATE_USER + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false\r\n            }\r\n            // --- auto login --- //\r\n            case AUTO_LOGIN + '_PENDING':\r\n                return {\r\n                    ...state,\r\n                    isLoading: true\r\n                }\r\n            case AUTO_LOGIN + '_FULFILLED':\r\n                return {\r\n                    ...state,\r\n                    user: action.payload.data, isLoggedIn: true, isLoading:false\r\n                }\r\n            case AUTO_LOGIN + '_REJECTED':\r\n                // alert('Cannot auto login: Your username or password is incorrect')\r\n                return {\r\n                    ...state,\r\n                    loginError:true, isLoading:false\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","import axios from \"axios\";\r\n\r\nconst initialState = {\r\n  models: [],\r\n  featured:[],\r\n  // models: [],\r\n  isloading: false,\r\n};\r\n\r\nconst GET_MODELS = \"GET_MODELS\";\r\nconst GET_FEATURED = \"GET_FEATURED\"\r\n\r\nexport function getModels() {\r\n  return {\r\n    type: GET_MODELS,\r\n    // payload: axios.get(\"https://www.breakingbadapi.com/api/characters\")\r\n    payload: axios.get('/api/project/join')\r\n  };\r\n}\r\n\r\nexport function getFeatured() {\r\n  return {\r\n      type : GET_FEATURED,\r\n      payload: axios.get('api/featured/join')\r\n  };\r\n  \r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_MODELS + \"_PENDING\":\r\n      return {\r\n        ...state,\r\n        isloading: true,\r\n      }\r\n    case GET_MODELS + \"_FULFILLED\":\r\n      return {\r\n        ...state,\r\n        isloading: false,\r\n        models: action.payload.data\r\n      };\r\n    case GET_MODELS + \"_REJECTED\":\r\n      return {\r\n        ...state,\r\n        isloading: false\r\n      }\r\n    case GET_FEATURED + \"_PENDING\":\r\n      return {\r\n        ...state,\r\n        isloading:true,\r\n      }\r\n    case GET_FEATURED + \"_FULFILLED\":\r\n      return {\r\n        ...state,\r\n        isloading: false,\r\n        featured: action.payload.data\r\n      }\r\n    case GET_FEATURED + \"_REJECTED\":\r\n      return {\r\n        ...state,\r\n        isloading:false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { useState, useEffect } from 'react'\r\n\r\nconst Icon = (props) => {\r\n\r\n    return(\r\n        <div>\r\n             <svg className=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n             <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n             </svg>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Icon","import React, { Component } from 'react';\r\nimport './Loading.css'\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className='load-box'>\r\n      <div className='load-background'></div>\r\n      <div className='load'></div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Loading;","import { useState } from \"react\"\r\nimport './../App.css'\r\n\r\nconst SVG = (params) => {\r\n    console.log('hit SVG',params.link)\r\n    \r\n\r\n    // const downloadIcon = () => {\r\n    //     return (<div>                           \r\n    //         <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n    //             <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n    //         </svg>\r\n    //     </div>)\r\n    // }\r\n\r\n    const downloadIcon = () => {return <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />}\r\n\r\n    const largeHeart = (dark) => {return (dark === 'dark' ? <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />:<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />)}\r\n\r\n    const comments = () => {return (<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />)}\r\n\r\n    const editProject = () => {return (<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />)}\r\n\r\n   const folder = () => {return (<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\" />)}\r\n\r\n   const info = () => {return (<path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />)}\r\n\r\n    const icon = (param) => {\r\n        switch (param) {\r\n            case \"download_icon\":\r\n                // console.log(param,'here is param')\r\n                return (downloadIcon())\r\n            case \"large_heart\":\r\n                return (largeHeart())\r\n            // --- ICON BELOW NOT FULLY FUNCTIONAL --- //\r\n            case \"large_heart_dark\":\r\n                return (largeHeart('dark'))\r\n            case 'edit_project':\r\n                return (editProject())\r\n            case 'comments':\r\n                return (comments())\r\n            case 'folder':\r\n                return (folder())\r\n            case 'info':\r\n                return (info())\r\n                \r\n        }\r\n    }\r\n\r\n//     const param =                         <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n//     <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n// </svg>\r\n\r\n    return <div>\r\n        {/* {downloadIcon} */}\r\n        {/* <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"> */}\r\n        <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'10px',marginRight:'10px', height:'45px',width:'45px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n            {icon(params.params)}\r\n            {/* {downloadIconPath} */}\r\n        </svg>\r\n        {/* {downloadIcon()} */}\r\n    </div>\r\n\r\n}\r\n\r\nexport default SVG","import './Project.css'\r\nimport React, { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { getModels } from '../../ducks/modelsReducer'\r\nimport { updateUser,remoteLogin } from '../../ducks/userReducer'\r\nimport SVG from '../SVG'\r\n// import { addLike } from '../../../server/controllers/projectsController'\r\n\r\nconst Project = (props) => {\r\n\r\n    const { category, img, firebase_url,firebase_url01, name, description, user_name, model_likes, model_id,photo_url, user_id, likes } = props.data\r\n    const { handleClick,isLoggedIn,id,user_likes } = props\r\n\r\n    const [numOfLikes, setNumOfLikes] = useState(0)\r\n    const [heart,setHeart] = useState(false) // for highlighting hearts if current user has already like this project\r\n\r\n    useEffect(() => {\r\n        \r\n        setNumOfLikes(likes)\r\n\r\n        if(checkIfLiked() === true && heart === false) {\r\n            setHeart(true)\r\n        }\r\n\r\n    },[])\r\n\r\n    const plsSignIn = () => {\r\n        window.scrollTo(0, 0)\r\n        props.remoteLogin(true)\r\n    }\r\n\r\n    const likeFunc = async (id,m_id) => {\r\n        const user_id = id\r\n        const model_id = m_id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        await updateLikes(model_id)\r\n        await setHeart(!heart)\r\n        await checkIfLiked(heart)\r\n    }\r\n\r\n    const updateLikes = async (params) => {\r\n        console.log('params',params)\r\n        axios.get(`/api/like/update/${params}`).then(res => {\r\n            const { likes } = res.data[0]\r\n            setNumOfLikes(likes)\r\n        })\r\n    }\r\n\r\n    const clickedLike = () => {\r\n       if (isLoggedIn === true && id != undefined) {likeFunc(id,model_id)} else {plsSignIn()}\r\n    }\r\n\r\n    const checkIfLiked = (params) => {\r\n        if (props.projectIsLiked(model_id,user_likes) === true){ return(true) } else { return(false) } \r\n    }\r\n\r\n    const getPhotoUrl = () => {\r\n        const { user_photo_url } = props\r\n        if (photo_url != undefined) {\r\n            return(photo_url)\r\n        } else return(user_photo_url)\r\n    }\r\n\r\n    const getUserName = () => {\r\n        const { current_user_name } = props\r\n        if (user_name != undefined) {\r\n            return(user_name)\r\n        } else return(current_user_name)\r\n    }\r\n\r\n    return(\r\n        <div className='project-container'>\r\n            <div>\r\n                <div className=\"photo-title-border\"><Link to={`viewuser/${user_id}`} ><img src={getPhotoUrl()} className=\"project-user-photo\"/></Link>\r\n\r\n                <p className=\"dark-text\">{name}<br/><p className='usr-nm-txt'>by {getUserName()}</p></p>\r\n            </div>\r\n\r\n                <Link to={`projectdetails/${model_id}`}><div className=\"image-div\" ><img className=\"model-photo\" src={firebase_url01}/></div></Link>\r\n            </div>\r\n            <div>\r\n                <div className=\"download-container\">\r\n\r\n                <a onClick={() => isLoggedIn === true ? window.open(firebase_url) : plsSignIn()} ><SVG params={'download_icon'} /></a> \r\n\r\n                {/* <a onClick={() => isLoggedIn === true ? window.open(firebase_url) : plsSignIn()} ><SVG params={'download-icon'} /></a> \r\n                    { isLoggedIn ? \r\n                    <a href={`${firebase_url}`} ><SVG params={'download-icon'} /></a> \r\n                    : \r\n                    <a onClick={() => plsSignIn()} ><SVG params={'download-icon'} /></a>\r\n                    } */}\r\n                        \r\n                    \r\n                    \r\n                    { isLoggedIn ? <a className=\"project-text\" href={`${firebase_url}`} target=\"_blank\" rel=\"noopener noreferrer\">download</a> : <a className=\"project-text\" onClick={() => plsSignIn()}>download</a>}\r\n\r\n                    <div className=\"like-share\">\r\n                        <div>\r\n\r\n                            <div className=\"like-share-box\" style={{borderBottom:'1px solid #555'}}>\r\n                                {\r\n\r\n                                heart === false ?\r\n                        \r\n                                \r\n                                <svg className=\"small-icon small-icon-tweaks\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" fill='none' viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"  />\r\n                                </svg>\r\n                                :\r\n                                <svg className=\"small-icon small-icon-tweaks\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                    <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                                </svg>\r\n\r\n\r\n                                }\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>{numOfLikes}</p>\r\n                            </div>\r\n\r\n                            <div className=\"like-share-box\">\r\n                                <svg className=\"small-icon small-icon-tweaks\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                                </svg>\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>share</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { getModels,updateUser,remoteLogin })(Project)","import ReactPlayer from 'react-player'\r\nimport './VideoPlayer.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst VideoPlayer = (props) => {\r\n\r\n    const { video_url,firebase_url,category,tag,photo_url,user_name,name,video_name } = props\r\n    \r\n    return(\r\n        <div className='player-container' >\r\n            <header className='video-title' >\r\n                <img className='video-user-photo' src={photo_url} />\r\n                <div className='vidnm-and-usrnm' > <p className=\"dark-text video-nm-txt\" >{name === 'dummy project' ? video_name : name}</p><p className='usr-nm-txt' style={{marginRight:'60px'}} >Video by {user_name}</p> </div>\r\n            </header>\r\n            <div className='' style={{marginTop:'50px'}} >\r\n\r\n                <div className='reg-size' ><ReactPlayer\r\n                className='react-player'\r\n                url={video_url}\r\n                width='298px'\r\n                height='191px'\r\n                /></div>\r\n\r\n                <div className='small-size' ><ReactPlayer\r\n                className='react-player'\r\n                url={video_url}\r\n                width='240px'\r\n                height='150px'\r\n                /></div>\r\n\r\n            <div className='video-info-container' >\r\n                <header className='video-header' >\r\n                    <p className='video-header-text' >{category}: {tag}</p>\r\n                </header>\r\n            {firebase_url === null ? <p className='video-container-text' >\r\n\r\n                There are no files associated with this video\r\n\r\n                </p> : <p className='video-container-text' >\r\n\r\n                Click <a href={firebase_url} >here</a> to download the files used in this video \r\n\r\n                </p>}\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoPlayer","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './Home.css'\r\nimport { connect } from 'react-redux'\r\nimport { loginUser,updateUser } from '../../ducks/userReducer'\r\nimport { getModels,getFeatured } from './../../ducks/modelsReducer'\r\nimport { Icon } from './Icons/Icon'\r\nimport Footer from '../Footer/Footer'\r\n// import FeaturedProjects from '../FeaturedProjects/FeaturedProjects'\r\nimport Loading from '../Loading/Loading'\r\nimport Project from '../FeaturedProjects/Project'\r\nimport VideoPlayer from '../VideoPlayer/VideoPlayer'\r\n// import Prototyping from '../Prototyping/Prototyping'\r\n// import Vid from './Video/EC.NC gear train0001-0500.mp4'\r\n\r\nclass Home extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            projects:[],\r\n            videos:[],\r\n            user_name:'',\r\n            password:'',\r\n            userLikes:null,\r\n            loading:false,\r\n        }\r\n        this.handleUserName = this.handleUserName.bind(this)\r\n        this.handlePassword = this.handlePassword.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        // this.props.getModels()\r\n        // axios.get('/api/videos/get').then(res => {\r\n        //     this.setState({videos:res.data})\r\n        // })\r\n        // axios.get('/api/videos/featured').then(res => {\r\n        //     this.setState({videos:res.data})\r\n        // })\r\n        // this.props.getFeatured()\r\n        this.getFeaturedVideos()\r\n        \r\n        \r\n    }\r\n\r\n    getFeaturedVideos = async () => {\r\n        // await axios.get('/api/featured/join').then(res => {\r\n        //     console.log('res',res.data)\r\n        //     this.setState({projects:res.data})\r\n        // })\r\n        this.setLoading()\r\n        await this.props.getFeatured()\r\n        await axios.get('/api/videos/featured').then(res2 => {\r\n            this.setState({\r\n                videos:res2.data,\r\n                loading:false\r\n            })\r\n            // this.setLoading()\r\n        })\r\n    }\r\n\r\n    setLoading() {\r\n        this.setState({loading:!this.state.loading})\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.props.updateUser()\r\n        // if (this.state.userLikes === null) {this.setState({...this.state,userLikes:this.props.user.user.user_likes})}\r\n    }\r\n\r\n\r\n    handleUserName(value){\r\n        this.setState({...this.state,user_name:value})\r\n    }\r\n\r\n    handlePassword(value){\r\n        this.setState({...this.state,password:value})\r\n    }\r\n\r\n    handleClick() {\r\n        const { user_name, password } = this.state\r\n        this.props.loginUser(user_name,password)\r\n        this.setState({user_name:'',password:''})\r\n    }\r\n\r\n    // remindWhoUser(){\r\n    //     const { user_name, password } = this.state\r\n    //     console.log(this.props.user.user.data)\r\n    // }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n            // expected output: ReferenceError: nonExistentFunction is not defined\r\n            // Note - error messages will vary depending on browser\r\n          }\r\n    }\r\n\r\n    render() {\r\n        const { user_name, password, projects, loading, videos } = this.state\r\n        const { loginUser } = this.props\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_likes,model_likes,id } = this.props.user.user\r\n        // const { models } = this.props.models\r\n        const { models,featured } = this.props.models\r\n\r\n        const mappedModels = featured.map(element => {\r\n            return <Project data={element} key={element.model_id} projectIsLiked={this.projectIsLiked} isLoggedIn={isLoggedIn} model_likes={model_likes} likes={element.likes} id={element.user_id} user_likes={user_likes} />\r\n        })\r\n\r\n        const mappedVideos = videos.map(el => {\r\n            return <VideoPlayer key={el.video_id} video_url={el.video_url} category={el.category} tag={el.tag} firebase_url={el.firebase_url} photo_url={el.photo_url} user_name={el.user_name} name={el.name} video_name={el.video_name} />\r\n        })\r\n\r\n        return(\r\n            <div>\r\n                <div className=\"hero\">\r\n                    {!loading ? true : <Loading />}\r\n                    <h2 className=\"hero-h2\">IMAGINE IT - BUILD IT.</h2>\r\n                    {/* <h2 className=\"hero-h2\">JOIN THE MAKER REVOLUTION</h2> */}\r\n                    <div className=\"deploy-projects\">\r\n                        {mappedVideos}\r\n                        {mappedModels}\r\n                    </div>\r\n                    {/* <Footer /> */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser,getModels,getFeatured })(Home)","import { Component } from 'react'\r\nimport './Register.css'\r\n\r\nclass Agreement extends Component {\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"agreement-container\">\r\n                <p className=\"agreement-text\">\r\n                Any and all information and content that a User submits to, or uses with, the Sites or Services (e.g., content in the Users profile or postings, user-created designs), including any modifications, improvements, or alterations (Modification) made to products available by Company or its authorized suppliers through MadModels3d (all such products collectively referred to herein as the MadModels3d Experimental Product) or to any print profiles, modes, or settings created by you using Company products (Print Profile). You retain all your intellectual property rights in your User Content. Company does not claim ownership in any User Content. You are solely responsible for your User Content, and you assume all risks associated with use of your User Content, including any reliance on its accuracy, completeness, or usefulness by others, or any disclosure of your User Content by you that makes you or any third party personally identifiable. Unless Company states otherwise in a writing to you, you may not state or imply that your User Content is in any way provided, sponsored, or endorsed by the Company. The Company is not obligated to backup any User Content and User Content may be deleted at any time. You are solely responsible for creating backup copies of your User Content if you desire.\r\n                </p>\r\n                {/* <button onClick={this.props.handleOpenIAgree} >back</button> */}\r\n            </div>\r\n        )}\r\n\r\n}\r\n\r\nexport default Agreement","import { useState, useEffect } from 'react'\r\nimport './MobileLogin.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { loginUser,registerUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport Agreement from '../Register/Agreement'\r\n\r\nconst MobileLogin = (props) => {\r\n\r\n    const { isLoggedIn,saveSession,current_user } = props\r\n    const { user } = props.user.user\r\n    \r\n    const [ user_name, setUsername ] = useState('')\r\n    const [ password, setPassword ] = useState('')\r\n    // const [ new_user_name, setNewUserName ] = useState('')\r\n    // const [ new_password, setNewPassword ] = useState('')\r\n    const [ saveInfo,setSaveInfo ] = useState(true)\r\n    const [ signup,setSignup ] = useState(false)\r\n    const [ email, setEmail ] = useState('')\r\n    const [ first_name, setFirstName] = useState('')\r\n    const [ last_name, setLastName ] = useState('')\r\n    const [ photo_url, setPhoto ] = useState('')\r\n    const [ is_admin ] = useState(false)\r\n    const [ is_sudo ] = useState(false)\r\n    const [ iAgree, setIAgree ] = useState(false)\r\n    const [ openIAgree, setOpenIAgree ] = useState(true)\r\n\r\n    const selectSignUp = () => {\r\n        // console.log('lign up',signup)\r\n        setSignup(!signup)\r\n    }\r\n\r\n    const executeIAgree = () => {\r\n        setIAgree(!iAgree)\r\n        // console.log(iAgree)\r\n    }\r\n\r\n    // const sessionInfo = () => {\r\n    //     setSaveInfo(!saveInfo)\r\n    // }\r\n\r\n    const executeRegister = () => {\r\n        if (iAgree === true) {\r\n        props.registerUser(user_name, password, email, first_name, is_admin, is_sudo)\r\n        // props.history.push('/user')\r\n    } else {\r\n        return (alert('please agree to conditions'))\r\n    }\r\n    props.exit()\r\n    }\r\n\r\n    const openAgreement = () => {\r\n        setOpenIAgree(!openIAgree)\r\n        // console.log('open agreement',openIAgree)\r\n    }\r\n\r\n    // const waitForLogin = () => {\r\n    //     if (props.user.isLoggedIn === true) {\r\n    //         return (true)\r\n    //     }\r\n    // }\r\n\r\n    const getLoggedIn = async () => {\r\n        props.execute(user_name,password,saveInfo)\r\n    }\r\n    // console.log('current user',user)\r\n    return(\r\n   \r\n        <div className={`plogin-container ${!signup ? true : `plogin-Container r-selected ${openIAgree ? true : `plogin-container r-selected agree-view`}`}`}>\r\n        {/* <section className=\"login-title\"> */}\r\n        <section className={`login-title ${!signup ? true : `rlogin-title ${openIAgree ? true : `rlogin-title rlogin-title-agreement`}`}`}>\r\n\r\n            <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} onClick={props.exit} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n            \r\n            {!signup ? (!isLoggedIn ? <h2 style={{textTransform:'none'}} >Log In to Your Accout</h2> : <h2 style={{textTransform:'none'}} >Log Out</h2>) : <h2 style={{textTransform:'none'}} >Create Account</h2>}</section>\r\n        {!signup ? <section className=\"form\">\r\n        {/* <input value={user_name} onChange={e => props.name(e.target.value)} placeholder=\"Username\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'20px'}}/> */}\r\n        <input value={user_name} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'21px'}}/>\r\n\r\n        {/* <input value={password} onChange={e => props.pass(e.target.value)} placeholder=\"Password\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'17px'}} type=\"password\" /> */}\r\n        <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'17px'}} type=\"password\" />\r\n\r\n\r\n\r\n        {!isLoggedIn ? <ul className=\"keep-session log-form-length\">\r\n\r\n            <div className=\"keep-session-check\">\r\n             \r\n                <svg onClick={() => setSaveInfo(!saveInfo)} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    {saveInfo === false ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />:\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />}\r\n                </svg>\r\n                \r\n                <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px'}} >stay logged in?</p>\r\n            </div>\r\n            <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px', color:'blue' }} >Forgot password?</p>\r\n        </ul> : <div className=\"keep-session log-form-length\"></div>}\r\n\r\n        {/* {!isLoggedIn ? <a className=\"login-button\" onClick={props.execute} >Log In</a> : <a className=\"login-button\" onClick={props.logout} >Log Out</a>} */}\r\n        {!isLoggedIn ? <a className=\"login-button\" onClick={getLoggedIn} >Log In</a> : <a className=\"login-button\" onClick={props.logout} >Log Out</a>}\r\n\r\n        {!isLoggedIn ? <div className=\"build-account\" ><p>Need an account?</p><a style={{fontWeight:'400',color:\"blue\"}} onClick={selectSignUp}>Sign up</a></div> : <div className=\"build-account\" ><p>Logged in as:</p><a style={{fontWeight:'400',color:\"blue\"}}>{user}</a></div>}\r\n        </section>\r\n        :\r\n        // <section className=\"rform\">\r\n        <section className={`rform`}>\r\n\r\n            {!openIAgree ? <Agreement/> :\r\n            <div style={{height:'450px'}}>\r\n                <input value={user_name} onChange={e => setUsername(e.target.value)} placeholder=\"Username\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px'}}/>\r\n                <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"Password\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'17px',marginBottom:'2px'}} type=\"password\" />\r\n                <input value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Email\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'18px',marginBottom:'2px'}} />\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)} placeholder=\"First Name\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginTop:'17px',marginBottom:'2px'}} />\r\n                <input value={last_name} onChange={e => setLastName(e.target.value)} placeholder=\"Last Name\" className=\"log-input log-form-length disabled\" style={{marginLeft:'2px',marginBottom:'20px',marginTop:'17px'}} />\r\n            </div>}\r\n            <div className=\"keep-session-check\">\r\n\r\n            {!iAgree ?\r\n            <svg onClick={executeIAgree} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            :\r\n            <svg onClick={executeIAgree} style={{ color:'#3c598e',marginLeft:'0px',marginRight:'2px', height:'20px',width:'20px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n            }\r\n\r\n            <p style={{fontSize:'10px',marginBottom:'0px',marginLeft:'0px'}} onClick={openAgreement} >I agree to terms and conditions</p>\r\n            </div>\r\n\r\n                {/* {openIAgree ? <a className=\"login-button\" style={{marginTop:'10px'}} onClick={executeRegister} >Sign Up</a> : null} */}\r\n                {openIAgree ? <a className=\"login-button\" style={{marginTop:'10px'}} onClick={executeRegister} >Sign Up</a> : null}\r\n                <div className=\"build-account\" ><a style={{fontWeight:'400',color:\"blue\"}} onClick={selectSignUp}>Cancel</a></div>\r\n                <div className='r-form-fake-bottom' ></div>\r\n            </section>\r\n        }\r\n    </div>\r\n\r\n    )\r\n    \r\n}\r\n// export default Prototyping\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\nexport default connect(mapStateToProps,{registerUser,loginUser})(MobileLogin)","import axios from 'axios'\r\n\r\nconst inititialState = {\r\n    projects:{},\r\n    isloading:true,\r\n};\r\n\r\nconst GET_PROJECTS = \"GET_PROJECTS\";\r\n\r\nexport function getProjects() {\r\n    return {\r\n        type: GET_PROJECTS,\r\n        payload: axios.get('/api/projects/all')\r\n    };\r\n}\r\n\r\nexport default function projectsReducer(state = inititialState, action) {\r\n    switch (action.type) {\r\n        case GET_PROJECTS + '_PENDING':\r\n            return { ...state, isloading: true }\r\n        case GET_PROJECTS + \"_FULFULLED\":\r\n            return { \r\n                ...state,\r\n                isloading: false,\r\n                projects: action.payload.data\r\n            };\r\n            case GET_PROJECTS + '_REJECTED':\r\n                return {\r\n                    ...state, isloading: false\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport firebase from 'firebase/app'\r\n// import \"firebase/storage\"\r\n// import baseBackend from './baseBackend'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyB6ImzEUWfnyXD6bcpNEN8ktaMSfos8Js0\",\r\n    authDomain: \"depot-7bb3e.firebaseapp.com\",\r\n    projectId: \"depot-7bb3e\",\r\n    storageBucket: \"depot-7bb3e.appspot.com\",\r\n    messagingSenderId: \"38861699624\",\r\n    appId: \"1:38861699624:web:b1d9abfce822f3a4d2531d\",\r\n    // appId: \"1:38861699624:web:88599df2268262afd2531d\",\r\n    measurementId: \"G-DSTFFPFHLD\"\r\n  };\r\n\r\nexport const app = firebase.initializeApp(firebaseConfig);\r\n\r\n// -------the code below controls firebase realtime database -----//\r\n\r\n// var database = firebase.database();\r\n\r\n// var ref = database.ref('name')\r\n\r\n// the code below will push object to realtime database-for testing purposes\r\n\r\n// var data = {\r\n//     item1:\"stuff\",\r\n//     item2:\"morestuff\"\r\n// }\r\n\r\n// ref.push(data)\r\n\r\n\r\n// ----- security rules ------ //\r\n// rules_version = '2';\r\n// service firebase.storage {\r\n//   match /b/{bucket}/o {\r\n//     match /{allPaths=**} {\r\n//       allow read, write;\r\n//     }\r\n//   }\r\n// }","import axios from 'axios'\r\nimport {app} from '../base'\r\nconst db = app.firestore()\r\n\r\nconst inititialState = {\r\n    isLoading:false,\r\n    url:{},\r\n    error:false\r\n}\r\n\r\nconst DELETE_FILE = 'DELETE_FILE'\r\nconst ADD_TO_FIREBASE = 'ADD_TO_FIREBASE'\r\nconst REF_FROM_URL = 'REF_FROM_URL'\r\n\r\nexport const getRefFromUrl = (url) => {\r\n    const ref = app.storage().refFromURL(url).fullPath.split('/').slice(0, -1).join('/')\r\n    return {\r\n        type:REF_FROM_URL,\r\n        payload:ref\r\n    }\r\n}\r\n\r\nexport const deleteFile = (url) => {\r\n    const storageRef = app.storage().refFromURL(url)\r\n    return {\r\n        type: DELETE_FILE,\r\n        payload:storageRef.delete().then(function deleted(params) {})\r\n    }\r\n}\r\n\r\nexport const addNewModel = (file,path) => {\r\n    // create ref\r\n    const ref = app.storage().ref(path).child(file.name).put(file) // example path: `madmodels/projects/${id}/`\r\n    return {\r\n        type:ADD_TO_FIREBASE,\r\n        payload: ref\r\n    }\r\n}\r\n\r\nexport default function firebaseReducer(state = inititialState, action) {\r\n    switch(action.type) {\r\n        case REF_FROM_URL+ '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case REF_FROM_URL + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                url:action.payload\r\n            }\r\n        case REF_FROM_URL + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true,\r\n            }\r\n        // -- delete image -- //\r\n        case DELETE_FILE + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case DELETE_FILE + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false\r\n            }\r\n        case DELETE_FILE + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true\r\n            }\r\n        // --- add file --- //\r\n        case ADD_TO_FIREBASE + '_PENDING':\r\n            return {\r\n                ...state,\r\n                isLoading:true\r\n            }\r\n        case ADD_TO_FIREBASE + '_FULFILLED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                url:action.payload\r\n            }\r\n        case ADD_TO_FIREBASE + '_REJECTED':\r\n            return {\r\n                ...state,\r\n                isLoading:false,\r\n                error:true\r\n            }            \r\n        default:\r\n            return state;\r\n    }\r\n}","import './ImagePreview.css'\r\n\r\nconst ImagePreview = (props) => {\r\n\r\n    const { previewImageFile,photo_url }= props\r\n\r\n    const addNewHandler = async () => {\r\n        await props.addPhoto(photo_url)\r\n        await clearState()\r\n    }\r\n\r\n    const clearState = () => {\r\n        props.handleInput('previewImageFile',null)\r\n        props.handleInput('photo_url',null)\r\n    }\r\n\r\n    return(\r\n        <div className='im-prev-container'>\r\n            <img src={previewImageFile} className=\"prev-im-size\" />\r\n            <div className='edit-file-button' style={{width:'50%'}} onClick={() => addNewHandler()} ><p>Submit</p></div>\r\n            <div className='edit-file-button' style={{right:'0px',width:'50%'}} onClick={() => clearState(['string'])} ><p>Cancel</p></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePreview","import axios from 'axios';\r\nimport React, { Component } from 'react'\r\nimport './EditModel.css'\r\nimport Loading from '../../Loading/Loading';\r\nimport ImagePreview from './ImagePreview';\r\nimport { addNewModel,deleteFile,getRefFromUrl } from '../../../ducks/firebaseReducer';\r\nimport { connect } from 'react-redux';\r\nimport Resizer from 'react-image-file-resizer'\r\n\r\nconst addImageEndpoint = '/api/project/photos/put'\r\nconst deleteProjectEndpoint = '/api/project/delete/'\r\nconst updateFileEndpoint = '/api/project/update/file'\r\nconst updateProjectTextEndpoint = '/api/project/edit/name'\r\n\r\nclass EditModel extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            name:this.props.info[0].name,\r\n            description:this.props.info[0].description,\r\n            photo_url:null,\r\n            file_url:null,\r\n            isLoading:false,\r\n            imageUr1:null,\r\n            openDeleteConfirm:false,\r\n            isLoading:false,\r\n            previewImageFile:null,\r\n            isDeleted:false,\r\n            newImage:''\r\n        }\r\n        this.handleInput = this.handleInput.bind(this)\r\n        this.executeChange = this.executeChange.bind(this)\r\n        this.fileHandler = this.fileHandler.bind(this)\r\n        this.addPhoto = this.addPhoto.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.removeFileFromSpace = this.removeFileFromSpace.bind(this)\r\n        this.confirmDelete = this.confirmDelete.bind(this)\r\n        this.newModelToDB = this.newModelToDB.bind(this)\r\n        this.replaceModelFile = this.replaceModelFile.bind(this)\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        // const { previewImageFile,hideButtons,file_url } = this.state\r\n        // if(previewImageFile != null && hideButtons === false) {\r\n        //     this.setState({hideButtons:!this.state.hideButtons})\r\n        // } else this.setState({hideButtons:false})\r\n        // else if (previewImageFile === null && hideButtons === true) {\r\n        //     this.setState({hideButtons:!this.state.hideButtons})\r\n        // }\r\n    }\r\n\r\n    //  ----- Permanently Delete Selected Project ---- //\r\n    removeFileFromSpace = async () => {\r\n        const { firebase_url,model_id } = this.props.info[0] \r\n        this.setIsLoading()\r\n        // -- delete main file -- //\r\n        if(firebase_url != null){\r\n            await this.props.deleteFile(firebase_url)\r\n        }\r\n        // -- delete associated images -- //\r\n        await this.deleteAllImages(true)\r\n        // -- delete from DB -- //\r\n        await axios.delete(`${deleteProjectEndpoint}${model_id}`)\r\n        this.setIsLoading()\r\n        this.props.setIsDeleted()\r\n    }\r\n\r\n    // -- Delete All Images Upon Project Deletion -- //\r\n    deleteAllImages = (confirm) => {\r\n        const { modelImages } = this.props\r\n        var strings = [...modelImages]\r\n        if (confirm === true){\r\n            strings.map(el => {\r\n                this.props.deleteFile(el.photo_url)\r\n            })\r\n        }\r\n    }\r\n\r\n    // -- Replace Existing Model File -- //\r\n    replaceModelFile = async () => {\r\n        const { photo_url } = this.state\r\n        const { model_id,firebase_url } = this.props.info[0]\r\n        const { user_id } = this.props\r\n        this.setIsLoading()\r\n\r\n        const refFromURL = await this.props.getRefFromUrl(firebase_url).payload // project url\r\n        await this.props.deleteFile(firebase_url) // delete current file\r\n        const newModel = await this.props.addNewModel(photo_url,refFromURL) // add new file\r\n        const modelUrl = await newModel.action.payload.ref.getDownloadURL() // url to DB\r\n        await this.newModelToDB(model_id,modelUrl)\r\n\r\n        this.setIsLoading()\r\n    }\r\n\r\n    newModelToDB = (model_id,url) => {\r\n        axios.post(updateFileEndpoint, {url,model_id})\r\n    }\r\n\r\n    fileHandler = async (e,preview,photo_url) => {\r\n        const file = e.target.files[0]\r\n        this.setState({\r\n            [photo_url]:file,\r\n            [preview]:URL.createObjectURL(file)\r\n        })\r\n    }\r\n\r\n    handleInput(prop,val){\r\n        // console.log('handle input',prop,val)\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    handlePhoto = async (e) => {\r\n        // const photo = e.target.files[0]\r\n        var fileInput = false;\r\n\r\n        if (e.target.files[0]) {\r\n            fileInput = true\r\n        }\r\n\r\n        if (fileInput) {\r\n            try {\r\n                Resizer.imageFileResizer(\r\n                    e.target.files[0],\r\n                    400,\r\n                    267,\r\n                    \"JPEG\",\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                        console.log(uri,'uri')\r\n                        this.setState({\r\n                            previewImageFile:URL.createObjectURL(uri),\r\n                            photo_url:uri\r\n                        })\r\n                    },\r\n                    \"file\",\r\n                    298,\r\n                    191\r\n                );\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    passNewPhotoToFB = async () => {\r\n        const { photo_url  } = this.state\r\n        this.addPhoto(photo_url)\r\n        this.setState({previewImageFile:null})\r\n        await this.props.getImages()\r\n    }\r\n\r\n    addPhoto =  async (url) => {\r\n        const { model_id,info } = this.props\r\n        const name = null\r\n        this.setIsLoading() // -- init loading screen\r\n        \r\n        const refFromURL = await this.props.getRefFromUrl(info[0].firebase_url).payload // -- path of stored project -- //\r\n         \r\n        const cloud = await this.props.addNewModel(url,refFromURL) // -- add new photo -- //\r\n\r\n        // -- fetch and store photo url -- //\r\n        const photo_url = await cloud.action.payload.ref.getDownloadURL()\r\n        await axios.post(addImageEndpoint,{model_id,name,photo_url})\r\n\r\n        // -- render new images -- //\r\n        await this.props.getImages()\r\n        this.setState({previewImageFile:null})\r\n        this.setIsLoading() // -- exit loading screen\r\n    }\r\n\r\n    executeChange = async () => {\r\n        const { model_id } = this.props.info[0]\r\n        const { name, description } = this.state\r\n        this.setIsLoading()\r\n        await axios.post(updateProjectTextEndpoint, {name,description,model_id})\r\n        this.setIsLoading()\r\n        this.props.getDetails()\r\n    }\r\n\r\n    confirmDelete = () => {\r\n        this.setState({openDeleteConfirm:!this.state.openDeleteConfirm})\r\n    }\r\n\r\n    render() {\r\n        const { previewImageFile,isLoading,openDeleteConfirm,photo_url,description,name,file_url,hideButtons } = this.state\r\n        return(            \r\n            <div className=\"edit-project-container\" >\r\n                \r\n                {isLoading ? <Loading/> : null}\r\n                <section className='project-selection-title'>\r\n                    <h3 className=\"prodect-selection-h3\">{openDeleteConfirm ? \"Delete this Project?\" : \"Edit Project\"}</h3>\r\n                    {!openDeleteConfirm ? <p className=\"edit-photo-button\" onClick={() => this.confirmDelete()} >X</p>:<div onClick={() => this.confirmDelete()} className='select-delete'><p className='delete-button-txt' onClick={() => this.removeFileFromSpace()} >yes</p><p className='delete-button-txt'>no</p></div>}\r\n                </section>\r\n                \r\n                <div className='section-title'><p style={{color:'#555'}}>Add Image / Update File</p></div>\r\n\r\n                {previewImageFile ? <ImagePreview previewImageFile={previewImageFile} photo_url={photo_url} addPhoto={this.addPhoto} handleInput={this.handleInput} /> : null}\r\n\r\n                 {file_url ?\r\n                <section className={`replace-file-warning`}>\r\n                        <h4>replace file?</h4>\r\n                        <span  className='select-delete' style={{height:'50px',backgroundColor:'#5077be'}} >\r\n                            <p className='delete-button-txt' onClick={() => this.replaceModelFile()} >yes</p>\r\n                            <p className='delete-button-txt'\r\n                            onClick={() => this.handleInput('file_url',null)}\r\n                            >no</p>\r\n                        </span>\r\n                </section>\r\n                 : null}\r\n\r\n                <section className='edit-project-row row-x' style={{height:'30px',color:'#555'}} >\r\n\r\n                    {previewImageFile === null && file_url ===null  ? <div className='edit-file-input-box '>\r\n                        <div className='edit-file-button ' ><p>Add Image</p></div>\r\n                        <input className='fake-input-file '\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\"image/png,image/jpeg\"\r\n                        // onChange={e => this.fileHandler(e,'previewImageFile','photo_url')} \r\n                        onChange={e => this.handlePhoto(e)} \r\n                        />\r\n                    </div> : null}\r\n\r\n                    {previewImageFile === null && file_url ===null ? <div className='edit-photo-input-box' >\r\n                        <div className='edit-file-button' ><p>New File</p></div>\r\n                        <input className='fake-input-file'\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\".blend,.stl\"\r\n                        onChange={e => this.fileHandler(e,null,'file_url')} \r\n                        />\r\n                    </div> : null}\r\n\r\n                </section>\r\n\r\n                <section className='edit-project-row text-input-row'>\r\n\r\n                    <div className='input-left-column'>\r\n\r\n                        <div className='section-title'><p style={{color:'#555'}}>Name</p></div>\r\n                        <input value={name} className=\"text-input\" onChange={e => this.handleInput('name',e.target.value)} ></input>\r\n                        <div className='section-title'><p style={{color:'#555'}}>Description</p></div>\r\n                        <textarea name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" placeholder='text' value={description} className=\"text-input input-description\" onChange={e => this.handleInput('description',e.target.value)} > </textarea>\r\n\r\n                    </div>\r\n\r\n                </section> \r\n                <div className='section-title'><p style={{color:'#555'}}>Submit Changes</p></div>\r\n                    {previewImageFile === null && file_url ===null ? <div className='edit-file-button' style={{position:'relative',marginTop:'10px',height:'30px',width:'80px'}} onClick={() => this.executeChange()} ><p>Submit</p></div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// export default EditModel\r\n\r\nconst mapStateToProps = (reduxState) => {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {addNewModel,deleteFile,getRefFromUrl} )(EditModel)","import './CreateProject.css'\r\nimport React, { Component } from 'react'\r\n\r\nclass CreateProject extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            description:'',\r\n            name:'',\r\n            previewImageFile:null\r\n        }\r\n        this.getFileName = this.getFileName.bind(this)\r\n    }\r\n\r\n    getFileName = () => {\r\n        if (this.props.file != null) {\r\n            return(this.props.file.name)\r\n        } else return(\"Add File\")\r\n    }\r\n\r\n    render() {\r\n\r\n        const { previewImageFile,previewModelFile,name } = this.state\r\n\r\n        return(\r\n            <div className='create-container'>\r\n                <section className='create-title'>\r\n                <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" onClick={() => this.props.resetView()} >\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                <h2 style={{textTransform:'none'}} >Create a project</h2>\r\n                </section>\r\n\r\n                <section className='create-form'>\r\n\r\n                <section className='create-project-row'>\r\n                    <div className='file-add'>\r\n\r\n                    <div className='photo-input-box '>\r\n                        <div className='add-file-button add-file-button-text' >{this.getFileName()}</div>\r\n                        <input className='input-file select-file-1'\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\".blend,.stl\"\r\n                        onChange={e => this.props.handleFile(e)} \r\n                        />\r\n                    </div>\r\n\r\n                    </div>\r\n                </section>\r\n\r\n                    <section className='create-project-row'>\r\n                    <div className='create-section-title'><p style={{color:'#555'}}>Add Photo</p></div>\r\n              \r\n                    <div className='create-input-box' >\r\n                        <img style={{width:'80px',height:'80px',borderRadius:'10px',marginLeft:'35%',marginBottom:'0px'}} src={this.props.previewImageFile} />\r\n                        <input className='input select-file-1'\r\n                        style={{marginLeft:'40px'}}\r\n                        type=\"file\"\r\n                        accept=\"image/png,image/jpeg\"\r\n                        onChange={e => this.props.handlePhoto(e)}\r\n                        />\r\n                    </div>\r\n\r\n                </section>\r\n\r\n                    <div className='create-section-title' style={{marginTop:'10px'}}><p style={{color:'#555'}}>Name and description</p></div>\r\n                    <input placeholder=\"Name\" className=\"log-input log-form-length disabled\" style={{marginBottom:'5px',marginTop:'21px'}} onChange={e => this.props.handleAddText('projectName',e.target.value)} />\r\n                    <textarea placeholder='description' name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" className=\"text-input input-description\" onChange={e => this.props.handleAddText('projectDescription',e.target.value)} > </textarea>\r\n                    <div className='send-file send-file-button' onClick={() => this.props.createNewProject()}>Submit</div>\r\n                </section>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateProject","import React, { Component } from 'react'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport './UserPage.css'\r\nimport axios from 'axios'\r\nimport UserProject from './UserProject'\r\nimport {app} from '../../base'\r\n// import ModelItems from './ModelItems'\r\nimport { connect } from 'react-redux'\r\nimport { getProjects } from '../../ducks/projectsReducer'\r\nimport { addNewModel } from '../../ducks/firebaseReducer'\r\nimport AddProject from './AddProject'\r\nimport EditModel from '../FeaturedProjects/EditProject/EditModel'\r\nimport Project from '../FeaturedProjects/Project'\r\nimport CreateProject from './CreateProject'\r\n\r\n// const db = app.firestore()\r\n\r\nclass Collections extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            openEditModel:false,\r\n            data:[],\r\n            fileUrl:null,\r\n            file:null,\r\n            previewImageFile:null,\r\n            previewModelFile:null,\r\n            imageFile:null,\r\n            // imageFileDefault:'https://firebasestorage.googleapis.com/v0/b/depot-7bb3e.appspot.com/o/madmodels%2Ffiles%2F12%2Fdeault%20cube.png?alt=media&token=3e81c85c-c3c3-4d50-9542-57fed9cb85db',\r\n            imageUrl:null,\r\n            newItem:{},\r\n            props:null,\r\n            openAddProject:false,\r\n            projectName:'',\r\n            projectDescription:''\r\n        }\r\n        this.setFileUrl = this.setFileUrl.bind(this)\r\n        this.handleFile = this.handleFile.bind(this)\r\n        this.addFile = this.addFile.bind(this)\r\n        this.addPhoto = this.addPhoto.bind(this)\r\n        this.handlePhoto = this.handlePhoto.bind(this)\r\n        this.fileHandler = this.fileHandler.bind(this)\r\n        this.addToDatabase = this.addToDatabase.bind(this)\r\n        this.fileHandlerRemove = this.fileHandlerRemove.bind(this)\r\n        this.removeFileFromSpace = this.removeFileFromSpace.bind(this)\r\n        this.addNewProject = this.addNewProject.bind(this)\r\n        this.getImUrl = this.getImUrl.bind(this)\r\n        this.getFileUrl = this.getFileUrl.bind(this)\r\n        this.handleAddText = this.handleAddText.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n        this.getProjects = this.getProjects.bind(this)\r\n        this.createNewProject = this.createNewProject.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getProjects()\r\n    }\r\n\r\n    getProjects = () => {\r\n        const { id } = this.props.user.user\r\n        // alert('hit get projects function')\r\n        axios.get(`/api/projects/${id}`).then(res =>\r\n            this.setState({ ...this.state,data:res.data})) \r\n    }\r\n\r\n    handleAddText(prop, val) {\r\n        this.setState({\r\n          [prop]: val\r\n        })\r\n      }\r\n\r\n    //   --- Rebuilding add new projects function to reduce code --- //\r\n    createNewProject = async () => {\r\n        // all data needed\r\n        const { file, imageFile, fileUrl, imageUrl, projectDescription, projectName } = this.state\r\n        const user_id = this.props.user.user.id\r\n        const { name } = this.state.file\r\n        if(name != undefined) {\r\n            this.props.setIsLoading()\r\n    \r\n            // -- add file -- //\r\n            const cloudFile = await this.props.addNewModel(file,`madmodels/projects/${user_id}/${projectName}/`)\r\n            const fileUrl = await cloudFile.action.payload.ref.getDownloadURL()\r\n            // -- add photo if not null-- //\r\n            var photoUrl = null\r\n            if(imageFile != null){\r\n                const cloudPhoto = await this.props.addNewModel(imageFile,`madmodels/projects/${user_id}/${projectName}/`)\r\n                photoUrl = await cloudPhoto.action.payload.ref.getDownloadURL()\r\n            }\r\n            // -- send to DB -- //\r\n            await this.addToDatabase(fileUrl,photoUrl)\r\n            await this.getProjects()\r\n            // -- reset / rerender view -- //\r\n            this.props.resetView()\r\n            this.props.setIsLoading()\r\n        }\r\n    } \r\n    // ------------------------------------------------------------- //\r\n\r\n    // saves file url to state pending \"add to SQL\"\r\n    setFileUrl = async (params) => {\r\n        this.setState({ fileUrl:params})\r\n    }\r\n\r\n    // saves image url to state pending \"add to SQL\"\r\n    setImageUrl = async (params) => {\r\n        this.setState({imageUrl:params})\r\n    }\r\n\r\n    // adds actual model file to state pending firebase upload\r\n    addFile(params){\r\n        this.setState({\r\n            file:params,\r\n            previewModelFile:URL.createObjectURL(params)\r\n        })\r\n    }\r\n\r\n    // adds actual image file to state pending firebase upload. creates preview image\r\n    addPhoto(params){\r\n        this.setState({\r\n            imageFile:params,\r\n            previewImageFile:URL.createObjectURL(params)\r\n        })\r\n    }\r\n\r\n    // async load model file to state callback\r\n    handleFile = async (e) => {\r\n        const file = e.target.files[0];\r\n        this.addFile(await file)\r\n    }\r\n\r\n    // async load image to state callback\r\n    handlePhoto = async (e) => {\r\n        const photo = e.target.files[0]\r\n        this.addPhoto(await photo)\r\n    }\r\n\r\n    // handlePhoto = async (e) => {\r\n    //     // const photo = e.target.files[0]\r\n    //     var fileInput = false;\r\n\r\n    //     if (e.target.files[0]) {\r\n    //         fileInput = true\r\n    //     }\r\n\r\n    //     if (fileInput) {\r\n    //         try {\r\n    //             Resizer.imageFileResizer(\r\n    //                 e.target.files[0],\r\n    //                 300,\r\n    //                 300,\r\n    //                 \"JPEG\",\r\n    //                 50,\r\n    //                 0,\r\n    //                 (uri) => {\r\n    //                     this.setState({imageFile:URL.createObjectURL(uri)})\r\n    //                 },\r\n    //                 \"file\",\r\n    //             );\r\n    //         } catch (err) {\r\n    //             console.log(err)\r\n    //         }\r\n    //     }\r\n\r\n    // }\r\n    // ------------------------- //\r\n\r\n    fileHandler = async (params) => {\r\n        const { file, fileUrl, imageFile, imageUrl } = this.state\r\n        const image = true\r\n        this.sendIntoSpace()\r\n    }\r\n\r\n    fileHandlerRemove = (params) => {\r\n        this.setState({file:null})\r\n    }\r\n\r\n    handleDelete = (params) => {\r\n        this.setState({imageFile:null})\r\n    }\r\n\r\n    // this loads the model file and image file to firebase, then adds the info to SQL table\r\n    sendIntoSpace = async () => {\r\n        const { file, imageFile, fileUrl, imageUrl, projectDescription, projectName } = this.state\r\n        const { id } = this.props.username.user\r\n        const name = projectName\r\n        const description = projectDescription\r\n        const firebase_url = 'firebase_url'\r\n        const firebase_url01 = this.state.fileUrl\r\n        this.props.setIsLoading()\r\n        const theFile = await this.getFileUrl(file)\r\n        this.setFileUrl(await theFile.getDownloadURL())\r\n        \r\n        // -- add image if not null -- //\r\n        if(imageFile != null){\r\n            const theImage = await this.getImUrl(imageFile)\r\n            this.setImageUrl(await theImage.getDownloadURL())\r\n        }\r\n\r\n        await this.addToDatabase(this.state.fileUrl,this.state.imageUrl)\r\n        await this.getProjects()\r\n        this.props.setIsLoading()\r\n        // this.props.openCreate()\r\n        // this.props.hideView('showCreateProject')\r\n        this.props.resetView()\r\n    }\r\n    // adds image to firebase\r\n    getImUrl = async (input) => {\r\n        const { id } = this.props.user.user\r\n        const storageRef = app.storage().ref(`madmodels/projects/${id}/`)\r\n        const fileRef = storageRef.child(input.name)\r\n        await fileRef.put(input)\r\n        console.log('image loaded')\r\n        return (fileRef)\r\n    }\r\n    // adds model file to firebase\r\n    getFileUrl = async (input) => {\r\n        const { id } = this.props.user.user\r\n        const storageRef = app.storage().ref(`madmodels/projects/${id}/`)\r\n        const fileRef = storageRef.child(input.name)\r\n        await fileRef.put(input)\r\n        console.log('file loaded')\r\n        return (fileRef)\r\n    }\r\n\r\n    // deletes file from firebase\r\n    removeFileFromSpace = async (url,id,file) => {\r\n        this.props.setIsLoading()\r\n        if(url != null){\r\n            const storageRef = await app.storage().refFromURL(url) // delete image\r\n            await storageRef.delete().then(function deleted(params) {\r\n                console.log('image deleted')\r\n            }).catch(function (error) {\r\n                console.log('there was an error',error)\r\n            })\r\n        }\r\n        if(file != null){\r\n            const storageRef2 = await app.storage().refFromURL(file) // delete file\r\n            await storageRef2.delete().then(function deleted(params) {\r\n                console.log('image deleted')\r\n            }).catch(function (error) {\r\n                console.log('there was an error',error)\r\n            })\r\n        }\r\n        // delete from DB\r\n        await axios.delete(`/api/project/delete/${id}`)\r\n        this.props.setIsLoading()\r\n    }\r\n\r\n    // adds file to SQL table\r\n    addToDatabase =  async (fileUrl,imageUrl) => {\r\n        console.log('this is from addToDatabase function')\r\n        const { projectDescription, projectName } = this.state\r\n        const id = this.props.user.user.id\r\n        const name = projectName\r\n        const description = projectDescription\r\n        const firebase_url = fileUrl\r\n        const firebase_url01 = imageUrl\r\n        const is_hidden = false\r\n        await axios.post('/api/project/post', {id,name,description,firebase_url,firebase_url01,is_hidden}).then(res => {\r\n            return res.status\r\n        })\r\n        await this.props.getProjects()\r\n    }\r\n\r\n    handleChange(params){\r\n        this.setState({ file:params })\r\n    }\r\n\r\n    // opens \"add project\" window\r\n    addNewProject(params){\r\n        this.setState({\r\n            openAddProject:!this.state.openAddProject\r\n        })\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    render(){\r\n\r\n        const { openAddProject,openEditModel,previewImageFile,previewModelFile,data,file } = this.state\r\n        const { photo_url,user,showCreateProject } = this.props\r\n\r\n        const mappedProjects = data.map(element => {\r\n            return <Project key={element.model_id} data={element} name={element.name} img={element.firebase_url01} file={element.firebase_url} id={element.model_id} delete={this.deleteModel} removeFileFromSpace={this.removeFileFromSpace} openEdidModel={this.openEditModel} projectIsLiked={this.projectIsLiked} user_photo_url={photo_url} current_user_name={user.user.user} />\r\n        })\r\n\r\n        return(\r\n            <div className=\"collections\">\r\n                {/* <header ><p>My Designs</p></header> */}\r\n                {showCreateProject ? <CreateProject resetView={this.props.resetView} handleFile={this.handleFile} handleAddText={this.handleAddText} handlePhoto={this.handlePhoto} previewImageFile={previewImageFile} previewModelFile={previewModelFile} file={file} sendIntoSpace={this.sendIntoSpace} createNewProject={this.createNewProject} /> : null}\r\n\r\n                {mappedProjects}\r\n  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {getProjects,addNewModel})(Collections)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser,loginUser } from '../../ducks/userReducer'\r\n// import { store } from 'react-redux'\r\nimport './EditUserInfo.css'\r\nimport {app} from '../../base'\r\nimport axios from 'axios'\r\n\r\nconst db = app.firestore()\r\n\r\nclass EditUserInfo extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            user_id:null,\r\n            user_name:'',\r\n            // email:'',\r\n            // first:'',\r\n            last_name:'',\r\n            first_name:'',\r\n            // photoUrl:null,  // this is the url pulled from database used to access photo\r\n            // staticPhoto:null, //this is the photo in browser pending database entry\r\n            // file:null,\r\n            user:{},\r\n            setPermission:true,\r\n            openNewPass:false,\r\n            oldPassword:'',\r\n            newPassword1:'',\r\n            newPassword2:'',\r\n        }\r\n        // this.handlePhotoChange = this.handlePhotoChange.bind(this)\r\n        // this.addPhoto = this.addPhoto.bind(this)\r\n        // this.cancelAddPhoto = this.cancelAddPhoto.bind(this)\r\n        // this.handleCancelClick = this.handleCancelClick.bind(this)\r\n        // this.handleFile = this.handleFile.bind(this)\r\n        // this.launchPic = this.launchPic.bind(this)\r\n        // this.setFileUrl = this.setFileUrl.bind(this)\r\n        // this.handleLaunchPic = this.handleLaunchPic.bind(this)\r\n        this.addToDatabase = this.addToDatabase.bind(this)\r\n        // this.handleFirstName = this.handleFile.bind(this)\r\n        // this.handleLastName = this.handleLastName.bind(this)\r\n        // this.handleEmail = this.handleEmail.bind(this)\r\n        // this.setPhotoUrl = this.setPhotoUrl.bind(this)\r\n        // this.getPhotoUrl = this.getPhotoUrl.bind(this)\r\n        // this.userInfoFromProps = this.userInfoFromProps.bind(this)\r\n        // this.handleTextInput = this.handleTextInput.bind(this)\r\n        this.launchNewPass = this.launchNewPass.bind(this)\r\n\r\n        // temp functions for testing//\r\n        // this.handleInfoClick = this.handleInfoClick.bind(this)\r\n        // this.giveMeInfo = this.giveMeInfo.bind(this)\r\n        // this.addToDeleted = this.addToDeleted.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { email,photo,user,background_url,name,id,last_name } = this.props.user.user\r\n        this.setState({\r\n            first_name:name,\r\n            last_name:last_name,\r\n            user_name:user,\r\n            photoUrl:photo,\r\n            background_url:background_url,\r\n            email:email,\r\n            user_id:id\r\n        })\r\n\r\n        this.userInfoFromProps()\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const  { setPermission } = this.state\r\n        if (setPermission === true) {\r\n            this.props.updateUser()\r\n            this.userInfoFromProps()\r\n            this.setState({\r\n                setPermission:false\r\n            })\r\n        }\r\n    }\r\n\r\n    userInfoFromProps = () => {\r\n        const { email,photo,user,background_url,name,id,last_name } = this.props.user.user\r\n        // const { user, } = this.props\r\n        this.setState({\r\n            first_name:name,\r\n            last_name:last_name,\r\n            user_name:user,\r\n            photoUrl:photo,\r\n            background_url:background_url,\r\n            email:email,\r\n            user_id:id\r\n        })\r\n    }\r\n\r\n    // adds file to firebase. sends all info to db callback function\r\n    // launchPic = async (file) => {\r\n    //     const { staticPhoto,photoUrl } = this.state\r\n    //     // const { photo } = this.state.user\r\n        \r\n    //     const { id,photo,user } = this.props.user.user\r\n    //     // if(photo_url != null){\r\n    //     //     this.deleteFromFirebase(photo_url)\r\n    //     // }\r\n\r\n    //     // ---------- original\r\n    //     // const photoName = `profile pic ${id}`\r\n    //     // const storageRef = app.storage().ref(`${user}/`)\r\n    //     // const fileRef = storageRef.child(photoName + file.name)\r\n    //     // fileRef.put(file).then(() => {\r\n    //     //     console.log('photo uploaded',file)\r\n    //     // })\r\n    //     // this.setFileUrl(await fileRef.getDownloadURL())\r\n    //     // console.log('this is fileRef', fileRef)\r\n    //     // ----------------------------------\r\n    //     this.props.setIsLoading()\r\n    //     console.log('hit launch pic',photoUrl)\r\n    //     // if (photo != null) {this.props.deleteFromFirebase(await photo)}\r\n    //     const thePhoto = await this.getPhotoUrl(photoUrl)\r\n    //     console.log('photo is added')\r\n    //     this.setPhotoUrl(await thePhoto.getDownloadURL())\r\n    //     console.log('got url')\r\n    //     this.addToDatabase(this.state.photoUrl)\r\n    //     // this.props.updateUser()\r\n    //     this.props.setIsLoading()\r\n    //     this.props.updateUser(id)\r\n    //     // this.props.showData(id)\r\n    //     this.props.resetView()\r\n    // }\r\n\r\n    // getPhotoUrl = async (input) => {\r\n    //     const { user } = this.props.user.user \r\n    //     const storageRef = app.storage().ref(`${user}/photos`)\r\n    //     const fileRef = storageRef.child(input.name)\r\n    //     await fileRef.put(input)\r\n    //     console.log('image loaded')\r\n    //     return (fileRef)\r\n    // }\r\n\r\n    // setPhotoUrl = async (params) => {\r\n    //     this.setState({photoUrl:params})\r\n    // }\r\n\r\n    // deleteFromFirebase(url){\r\n    //     const storageRef = app.storage().refFromURL(url)\r\n    //     storageRef.delete().then(function deleted(params) {\r\n    //         console.log('image deleted')\r\n    //     }).catch(function (error) {\r\n    //         console.log('there was an error')\r\n    //     })\r\n    // }\r\n\r\n    // handleLaunchPic(){\r\n    //     const { staticPhoto } = this.state\r\n    //     const { email,name,user,photo,id } = this.props.user.user\r\n    //     // adds/updates profile photo\r\n    //     if ( staticPhoto != null){this.launchPic(staticPhoto)} else {alert('please add photo')}\r\n\r\n    //     if ( photo != null ) {\r\n    //         // this.addToDeleted(photo,id)\r\n    //         this.deleteFromFirebase(photo)\r\n    //     } // adds current photo to db that tracks deleted items in firebase\r\n    //     // adds/updates firstname\r\n\r\n\r\n        \r\n    // }\r\n\r\n    // addToDeleted(photo,id){\r\n    //     const info = 'this is a profile picture that has been deleted'\r\n    //     axios.post(`/api/firedata/`,{ id,photo,info })\r\n    // }\r\n\r\n    // setFileUrl(pURL){\r\n    //     const { id } = this.state.user\r\n    //     this.setState({photoUrl:pURL})\r\n    //     this.addToDatabase()\r\n    // }\r\n\r\n    async addToDatabase(){\r\n        // const {id} = this.props.user.user\r\n        const { first_name,last_name,email,user_id } = this.state\r\n        console.log('hit add to db func')\r\n        // const {\r\n        //     first:first_name,\r\n        //     user_name:user,\r\n        //     photoUrl:photo,\r\n        //     background_url:background_url,\r\n        //     email:email,\r\n        //     user_id\r\n        // } = this.state\r\n\r\n        // const photo_url = newPhoto\r\n        // const { id } = this.state.user\r\n        // const user_id = id\r\n        // const photo_url = photoUrl\r\n        // console.log('this is from addToDatabase',user_id,newPhoto)\r\n        // axios.post(`/api/users/update/${user_id}`,{ photo_url })\r\n        axios.post(`/api/user/update/info/${user_id}`,{ email,last_name,first_name,user_id })\r\n        // this.props.updateUser(user_id)\r\n        // await this.props.updateUser()\r\n        await this.userInfoFromProps()\r\n        \r\n    }\r\n\r\n    // handlePhotoChange = async (e) => {\r\n    //     const file = e.target.files[0];\r\n    //     this.addPhoto(await file)\r\n    //     this.handleFile(e)\r\n    // }\r\n\r\n    // addPhoto(e){\r\n    //     const file = e.target.files[0]\r\n    //     this.setState({staticPhoto:URL.createObjectURL(file),photoUrl:file})\r\n    // }\r\n\r\n    // cancelAddPhoto(){\r\n    //     this.setState({staticPhoto:null,file:null})\r\n    // }\r\n\r\n    // handleCancelClick(){\r\n    //     this.cancelAddPhoto()\r\n    // }\r\n\r\n    // handleFile(event){\r\n    //     this.setState({file:URL.createObjectURL(event.target.files[0])})\r\n    // }\r\n\r\n    handleAddText(prop,val){\r\n        this.setState({\r\n            [prop]: val\r\n        })\r\n    }\r\n\r\n    // ---- edit names and email address ---- //\r\n    // handleFirstName(val){\r\n    //     this.setState({first_name : val})\r\n    // }\r\n\r\n    // handleLastName(val){\r\n    //     this.setState({last_name : val})\r\n    // }\r\n\r\n    // handleEmail(val){\r\n    //     this.setState({email : val})\r\n    // }\r\n\r\n    // handUserName(val){\r\n    //     this.setState({usae})\r\n    // }\r\n\r\n    // handleTextInput = (props,val) => {\r\n    //     this.setState({\r\n    //         [props]:val\r\n    //     })\r\n    // }\r\n\r\n\r\n    // ---temp functions for testing--//\r\n    // handleInfoClick(){\r\n        // this.giveMeInfo()\r\n    // }\r\n    // giveMeInfo(){\r\n    //     const { photoUrl } = this.state\r\n    //     const { id } = this.state.user\r\n    //     console.log(id,photoUrl)\r\n    // }\r\n    //  -------------------------//\r\n\r\n    openChangePass() {\r\n        this.setState({openNewPass:!this.state.openNewPass})\r\n    }\r\n    launchNewPass = async () => {\r\n        this.setState({setPermission:true})\r\n        // this.user\r\n        const { newPassword1,newPassword2,oldPassword } = this.state\r\n        const { user } = this.props.user.user\r\n        const user_name = user\r\n        // console.log('here is user',user_name)\r\n        if(newPassword1 === newPassword2){\r\n            // await this.props.changePassword(user_name,oldPassword,newPassword1,newPassword2)\r\n            axios.post('/auth/password',{newPassword1,newPassword2,oldPassword,user_name}).then(res => {\r\n                this.openChangePass()\r\n                this.props.hideView('showEditUserInfo')\r\n                // return (alert('Your password has been changed'))\r\n            })\r\n            // console.log('await?',newPassword1,user)\r\n            // await this.props.updateUser()\r\n        }\r\n        // await this.userInfoFromProps()\r\n    }\r\n    // reLogin = () => {\r\n    //     this.props.loginUser()\r\n    // }\r\n\r\n    render(){\r\n\r\n        const { email,name,user,photo } = this.props.user.user\r\n        const { staticPhoto,file,openNewPass,last_name } = this.state\r\n        // var file = document.getElementById('fileItem').files[0]\r\n\r\n        return(\r\n            <div className=\"edit-user-info\">\r\n                {openNewPass ? <div className='change-pass-container'>\r\n                    <input placeholder='Old Password' onChange={e => this.handleAddText('oldPassword',e.target.value)} ></input>\r\n                    <input placeholder='New Password' onChange={e => this.handleAddText('newPassword1',e.target.value)} ></input>\r\n                    <input placeholder='Verify New Password' onChange={e => this.handleAddText('newPassword2',e.target.value)} ></input>\r\n                    <div className='change-pass-button-flex' >\r\n                        <button onClick={() => {this.launchNewPass()}}>submit</button>\r\n                        <button onClick={() => this.setState({openNewPass:false})}>cancel</button>\r\n                    </div>\r\n                </div> : null}\r\n                {/* <section className=\"user-photo\"><img className=\"photo-properties\" src={file} /> <input id=\"fileItem\" type =\"file\" className=\"change-photo\" onChange={e => this.handlePhotoChange(e)}/> <button onClick={this.handleCancelClick}>cancel</button> </section> */}\r\n\r\n                <section className='edit-user-info-title'>\r\n                <svg onClick={() => this.props.resetView()} className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                    <h2 >edit user info</h2>\r\n                </section>\r\n                <section className=\"\">\r\n                    <div className=\"input-list\">\r\n                        {/* <input id=\"fileItem\" type =\"file\" className=\"change-photo\" accept=\"image/png,image/jpeg\"/>  */}\r\n                        <button onClick={() => this.openChangePass()}>change password</button>\r\n\r\n                        {/* <div> */}\r\n                            {/* <p className=\"list-text\">Username</p><input placeholder={user} onChange={e => this.handleAddText('user_name', e.target.value)}/> */}\r\n                        {/* </div> */}\r\n\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">First Name</p><input placeholder={name} onChange={e => this.handleAddText('first_name', e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">Last Name</p><input placeholder={last_name} onChange={e => this.handleAddText('last_name', e.target.value)}/>\r\n                        </div>\r\n\r\n                        <div className=\"\">\r\n                            <p className=\"list-text\">Email Address</p><input placeholder={email} onChange={e => this.handleAddText('email', e.target.value)} />\r\n                        </div>\r\n                        \r\n                        {/* <div >\r\n                            <p style={{color:'#555'}}>Profile Picture</p>\r\n                            <img className=\"photo-properties\" src={staticPhoto} /> \r\n                            <div className=\"edit-photo-line\">\r\n                                <input id=\"fileItem\" type =\"file\" className=\"change-photo\" accept=\"image/png,image/jpeg\" onChange={e => this.addPhoto(e)}/> <button onClick={this.handleCancelClick}>clear</button>\r\n                            </div>\r\n                        </div> */}\r\n\r\n                        {/* <li className=\"user-photo\"><img className=\"photo-properties\" src={photo}/><button className=\"li-button\">delete picture</button></li> */}\r\n                        <div className=\"submit-row\" ><button onClick={() => this.addToDatabase()} className=\"li-button\">submit</button></div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n     \r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateUser,loginUser} )(EditUserInfo)","\r\nimport './UserInfo.css'\r\nimport EditUserInfo from './EditUserInfo'\r\nimport React, { useState, useEffect } from 'react'\r\n\r\nconst UserInfo = (props) => {\r\n    const { user,name,email } = props\r\n    const [editOpen,setEditOpen ] = useState(false)\r\n\r\n    function toggleEdit(){\r\n        setEditOpen(!editOpen)\r\n    }\r\n\r\n    return(\r\n        <div className=\"user-info\">\r\n            <div className=\"user-info-title\"><p ></p><h2 className=\"user-info-title-text\">My Info</h2></div>\r\n            <div className=\"user-info-h2\"><p className=\"user-info-p\" >name:</p><h2 className=\"text-element\">{name}</h2></div>\r\n            {email != null ? <div className=\"user-info-h2\"><p className=\"user-info-p\">email:</p><h2 className=\"text-element\">{email}</h2></div> : null}  \r\n            <div className=\"user-info-h2\"><p className=\"user-info-p\">username:</p><h2 className=\"text-element\" >{user}</h2></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserInfo","import React, { Component } from 'react'\r\nimport './UserPage.css'\r\nimport { connect } from 'react-redux'\r\nconst Public = () => {<h3>Public</h3>}\r\nconst Protected = () => <h3>Protected</h3>\r\n\r\nclass SecurityTest extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return (\r\n            <div className=\"sec-test-container\">\r\n                \r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default SecurityTest","import './AdminPage.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst ShowUser = (props) => {\r\n\r\n    const { user_name,first_name,last_name,user_id } = props\r\n\r\n    return(\r\n        // <Link to={`/messages/${user_id}`}><div className=\"show-user\">\r\n        <Link to={`/viewuser/${user_id}`}><div className=\"show-user\">\r\n            <p className=\"admin-a\">{first_name + ' ' + last_name}</p>\r\n            <p className=\"admin-a\">{user_name}</p>\r\n        </div></Link>\r\n    )\r\n}\r\n\r\nexport default ShowUser","import './AdminPage.css'\r\n\r\nconst ShowTraffic = (props) => {\r\n\r\n    const { unique_id,remount,date_created,id,last_visit } = props\r\n    // const { item,content,loggedInUser,user_id,photo_url,date_created } = props\r\n\r\n    // var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    // if (last_visit != null){\r\n    //     const time = last_visit.split(\"T\")\r\n    //     return time\r\n    // }\r\n        \r\n    // find date\r\n    // const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    // const amPm = (input) => {\r\n        // if(input[0] > 12){\r\n            // return input[0]-12 + ':' + input[1] + ' pm'\r\n        // } else {return(input[0] + ':' + input[1] + ' am')}\r\n    // }\r\n    // const timeVal = time[1].split(':')\r\n    // console.log(last_visit.toString())\r\n\r\n    return(<div className='traffic-display-unit' >\r\n        <p className='traffic-text' >{date_created}</p> <p className='traffic-text' >{id}</p>  <p className='traffic-text' >{unique_id}</p><p className='traffic-text' >{remount}</p><p className='traffic-text' >{last_visit}</p>\r\n    </div>)\r\n}\r\n\r\nexport default ShowTraffic","import './Memo.css'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\n// import Notice from './../Notice/Notice'\r\n\r\nconst Memo = (props) => {\r\n\r\n    const { body,title,memo_id } = props\r\n    var [ text,setText ] = useState(body)\r\n    var [ sending,setSending ] = useState(false)\r\n    const notDefault = true\r\n    \r\n    const sendUpdate = () => {\r\n        setSending(true)\r\n        axios.post('/api/memo/update', {text,memo_id}).then(res => {\r\n            setSending(false)\r\n        })\r\n    }\r\n\r\n    return(<div className=\"text-container\" >\r\n        <input value={title} style={{width:'95%',marginBottom:'5px'}}></input>\r\n        <textarea name=\"text\" rows=\"23\" cols=\"50\" wrap=\"soft\" placeholder='text' onChange={(e) => setText(e.target.value)} value={text} className=\"admin-memo-body\" > </textarea>\r\n        {/* <button onClick={() => sendUpdate()} >submit</button> */}\r\n        <div className=\"is-saving\" >{sending === true ? <p style={{color:'#fff',fontWeight:'600'}} >sending...</p> : <p style={{color:'#fff',fontWeight:'600'}} onClick={() => sendUpdate()} >save</p>}</div>\r\n        {/* <div className='notice-placement' ><Notice notDefault={notDefault} item={'saving text'} /></div> */}\r\n    </div>)\r\n}\r\n\r\nexport default Memo","import './../AdminPage.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst UserAdminMessage = (props) => {\r\n\r\n    const { messagecontent,email } = props\r\n\r\n    return(\r\n        // <Link to={`/messages/${user_id}`}><div className=\"show-user\">\r\n        <div className=\"show-user\">\r\n            {/* <p className=\"admin-a\">{first_name + ' ' + last_name}</p> */}\r\n            <p>email{email}</p><p className=\"admin-a\">{messagecontent}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserAdminMessage","\r\nimport { Component } from 'react'\r\nimport './AdminPage.css'\r\n// import { Link } from 'react-router-dom';\r\nimport { Link, Switch, Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../ducks/userReducer';\r\nimport { getProjects } from '../../ducks/projectsReducer';\r\nimport Home from '../Home/Home';\r\nimport axios from 'axios';\r\nimport ShowUser from './ShowUser';\r\nimport ShowTraffic from './ShowTraffic'\r\nimport SVG from '../SVG';\r\n// import Prototyping from '../Prototyping/Prototyping';\r\n// import MessageBoard from '../UserMessages/MessageBoard';\r\nimport Memo from './Memo';\r\nimport './Memo.css'\r\n// import DemoScene from './Three/DemoScene';\r\n// import ViewUserV2 from './ViewUserV2';\r\nimport UserAdminMessage from './UserAdminMessage/UserAdminMessage';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\nclass AdminPage extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            users:[],\r\n\r\n            text:'test',\r\n            generalContent:'',\r\n            displayGeneral:true,\r\n            editGeneral:false,\r\n\r\n            aboutContent:'',\r\n            displayAbout:true,\r\n            editAbout:false,\r\n\r\n            editUserInfo:false,\r\n\r\n            showMessages:false,\r\n            userMessages:[],\r\n\r\n            showMemo:false,\r\n            memos:[],\r\n\r\n            showTraffic:false,\r\n            traffic:[],\r\n\r\n        }\r\n        this.handleAddText = this.handleAddText.bind(this)\r\n        this.addGeneral = this.addGeneral.bind(this)\r\n        this.addAbout = this.addAbout.bind(this)\r\n        this.hideDocAbout = this.hideDocAbout.bind(this)\r\n        this.hideDocGeneral = this.hideDocGeneral.bind(this)\r\n        this.openEditAbout = this.openEditAbout.bind(this)\r\n        this.openEditGeneral = this.openEditGeneral.bind(this)\r\n        this.openEditUserInfo = this.openEditUserInfo.bind(this)\r\n        this.hideMessages = this.hideMessages.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get('/api/users/all').then(res => {\r\n            this.setState({users:res.data})\r\n        })\r\n        axios.get('/api/track/getall').then(res => {\r\n            this.setState({traffic:res.data})\r\n        })\r\n        axios.get('/api/messages/user').then(res => {\r\n            this.setState({userMessages:res.data})\r\n        })\r\n        axios.get('/api/memos/get/all').then(res => {\r\n            this.setState({memos:res.data})\r\n        })\r\n    }\r\n\r\n    handleAddText(prop, val) {\r\n        this.setState({\r\n          [prop]: val\r\n        })\r\n      }\r\n\r\n    addGeneral = () => {\r\n\r\n        const { generalContent } = this.state\r\n        const content = generalContent\r\n        const tag = 'general'\r\n\r\n        axios.post('/api/docs/post',{content,tag}).then(alert('new content has been added to General Information element')).catch(err => {\r\n            console.log('error',err)\r\n        })\r\n    }\r\n\r\n    addAbout = () => {\r\n        const { aboutContent } = this.state\r\n        const content = aboutContent\r\n        const tag = 'about'\r\n\r\n        axios.post('/api/docs/post', {content,tag}).then(alert('new content has been added to About Information element')).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    hideDocGeneral = () => {\r\n        const { displayGeneral } = this.state\r\n        const content = displayGeneral\r\n        const tag = 'general'\r\n        axios.post('/api/docs/hide' ,{content,tag}).then(alert('display changed')).catch(err => console.log(err))\r\n    }\r\n\r\n    hideMessages = () => {\r\n        this.setState({showMessages:!this.state.showMessages})\r\n    }\r\n\r\n    hideDocAbout = () => {\r\n        const { displayAbout } = this.state\r\n        const content = displayAbout\r\n        const tag = 'about'\r\n        axios.post('/api/docs/hide' ,{content,tag}).then(alert('display changed')).catch(err => console.log(err))\r\n    }\r\n\r\n    openEditAbout(){\r\n        this.setState({\r\n            editAbout:!this.state.editAbout\r\n        })\r\n    }\r\n    openEditGeneral(){\r\n        this.setState({\r\n            editGeneral:!this.state.editGeneral\r\n        })\r\n    }\r\n\r\n    openEditUserInfo(){\r\n        this.setState({editUserInfo:!this.state.editUserInfo})\r\n    }\r\n\r\n    resetView() {\r\n        this.setState({\r\n            showMemo:false,\r\n            showTraffic:false,\r\n        })\r\n    }\r\n\r\n    changeView(param) {\r\n        this.resetView()\r\n        switch(param) {\r\n            case 'showTraffic':\r\n                this.setState({showTraffic:true})\r\n                break;\r\n            case 'showMemo':\r\n                this.setState({showMemo:true})\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n    }\r\n\r\n    render(){\r\n\r\n        const { test,editAbout,editGeneral,editUserInfo,users,traffic,showMessages,userMessages,showTraffic,showMemo,memos } = this.state\r\n        const { photo,auth,name,is_admin,is_sudo } = this.props.user.user\r\n\r\n        const mappedUsers = users.map(element => {\r\n            return <ShowUser user_name={element.user_name} first_name={element.first_name} last_name={element.last_name} user_id={element.user_id} />\r\n        })\r\n\r\n        const filterNull = traffic.filter(el => el.last_visit != null)\r\n\r\n        const mappedTraffic = filterNull.map(el => {\r\n            return <ShowTraffic key={el.browser_id} id={el.browser_id} date_created={el.date_created} unique_id={el.unique_id} remount={el.remount} last_visit={el.last_visit} />\r\n        })\r\n\r\n        const mappedMessages = userMessages.map(el => {\r\n            return <UserAdminMessage key={el.dum_id} messagecontent={el.messagecontent} email={el.email} />\r\n        })\r\n\r\n        const mappedMemos = memos.map(el => {\r\n            return <Memo key={el.memo_id} body={el.body} title={el.title} memo_id={el.memo_id} />\r\n        })\r\n\r\n        // const mappedTraffic = traffic.map(el => {\r\n        //     return <ShowTraffic key={el.browser_id} id={el.browser_id} date_created={el.date_created} unique_id={el.unique_id} remount={el.remount} last_visit={el.last_visit} />\r\n        // })\r\n\r\n        return(\r\n            <div className=\"admin-container\">\r\n                {!is_admin ? (<Route path=\"/\" component={Home}/>) : (\r\n                    <div>\r\n                    <ul className=\"admin-header-ul\">\r\n                    {is_sudo === true ? <li className=\"add-doc-div-closed\" onClick={() => this.changeView('showMemo')}><a>memo</a></li> : null}\r\n                    { editGeneral ?\r\n                    <li className=\"add-doc-div\" >\r\n                        <a onClick={this.openEditGeneral}>edit general info</a>\r\n                        <textarea onChange={e => this.handleAddText('generalContent', e.target.value)} className=\"input\" name=\"text\" rows=\"14\" cols=\"100\" wrap=\"soft\"> </textarea>\r\n                        <button className=\"text\" onClick={this.addGeneral}>add to general content</button>\r\n                        <div className=\"checkbox\" style={{marginTop:'20px'}}><input type=\"checkbox\" onChange={e => this.handleAddText('displayGeneral',!this.state.displayGeneral)} /><p style={{color:'#555'}}>display this document?</p><button onClick={this.hideDocGeneral}>change</button></div>\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\" onClick={this.openEditGeneral}><a>edit general info</a></li>}\r\n\r\n                    { editAbout ?\r\n                    <li className=\"add-doc-div\">\r\n                        <a  onClick={this.openEditAbout} className=\"admin-a\">edit about info</a>\r\n                        <textarea onChange={e => this.handleAddText('aboutContent', e.target.value)} className=\"input\" name=\"text\" rows=\"14\" cols=\"100\" wrap=\"soft\"> </textarea>\r\n                        <button className=\"text\" onClick={this.addAbout}>add to about content</button>\r\n                        <div className=\"checkbox\" style={{marginTop:'20px'}}><input type=\"checkbox\" onChange={e => this.handleAddText('displayAbout',!this.state.displayAbout)} /><p style={{color:'#555'}}>display this document?</p><button onClick={this.hideDocAbout}>change</button></div>\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\"><a onClick={this.openEditAbout}>edit about info</a></li>}\r\n                    <li className=\"add-doc-div-closed\"><a>notifications</a></li>\r\n                    {!showMessages ? <li className=\"add-doc-div-closed\" onClick={() => this.hideMessages()} ><a>messages</a></li>\r\n                    :\r\n                    <li className=\"add-doc-div\" onClick={() => this.hideMessages()} ><a>messages</a>\r\n                        {mappedMessages}\r\n                    </li>}\r\n                    { editUserInfo ?\r\n                    <li className=\"add-doc-div\">\r\n                        <a  onClick={this.openEditUserInfo} className=\"admin-a\">User Details</a>\r\n                        {mappedUsers}\r\n                    </li>\r\n                    :\r\n                    <li className=\"add-doc-div-closed\"><a onClick={this.openEditUserInfo}>User Details</a></li>}\r\n                    <li className=\"add-doc-div-closed\"><a>terms</a></li>\r\n                    <li className=\"add-doc-div-closed\"><a>user project details</a></li>\r\n                   \r\n                    <li className=\"add-doc-div-closed\" onClick={() => this.changeView('showTraffic')} ><a>show traffic</a></li>\r\n                    </ul>\r\n                    <Link to={'/user'} ><a >mypage</a></Link>\r\n                    {showTraffic === true ? <div className='display-traffic' >\r\n                        <div className='traffic-display-unit' ><p className='traffic-text' >Date Created</p><p className='traffic-text' >Browser ID</p><p className='traffic-text' >Unique Id</p><p className='traffic-text' >Re-mounts</p><p className='traffic-text' >Last Visit</p></div>\r\n                        {mappedTraffic}\r\n                    </div> : null}\r\n                    \r\n                    {/* <div className='text-container' ></div> */}\r\n                    {/* <Memo /> */}\r\n                    {showMemo === true && is_sudo === true ? mappedMemos : null}\r\n                    {/* <ViewUserV2 /> */}\r\n                    {/* <Prototyping /> */}\r\n                    {/* <MessageBoard/> */}\r\n                    <section style={{height:'400px',width:'400px',backgroundColor:'#fff'}} >\r\n                        <SVG params={'large_heart'} />\r\n                        <button>click</button>\r\n                    </section>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser,getProjects})(AdminPage)","\r\nimport './tile.css'\r\n\r\nconst Piece = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            {props.getCurrent('player') ==='good' ? \r\n            <div className={`good-player ${props.getCurrent('isInGame') ? false : 'hide-game-piece'}`}>{props.getCurrent('isKing') === true ? <p className='player-text'>king</p> : null}</div>\r\n        :\r\n            <div className={`bad-player ${props.getCurrent('isInGame') ? false : 'hide-game-piece'}`}>{props.getCurrent('isKing') === true ? <p className='player-text'>king</p> : null}</div>}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Piece","\r\nimport './tile.css'\r\nimport '.././CheckerBoard'\r\nimport { useState,useEffect, useRef } from 'react'\r\n// import Notice from '../Notice/Notice'\r\nimport Piece from './Piece'\r\nconst Tile = (props) => {\r\n\r\n    \r\n    const { x,y,color,currentPiece,activeLocation,currentPlayer,tileIsSelected,pieces,chainKillAvailable,moveOptions } = props\r\n\r\n    // const [inPlay,setInPlay] = useState(false)\r\n    // const [makeMove,setMakeMove] = useState(false)\r\n\r\n    const prevPiece = useRef()\r\n\r\n    // useEffect(() => {\r\n    //     prevPiece.alive = currentPiece[0]\r\n    // })\r\n    \r\n    if(moveOptions.length > 0){\r\n        if ([x+1,y+1] === moveOptions) {console.log('here is the move',x+1, moveOptions)}\r\n    }\r\n    \r\n    const getCurrent = (params) => {\r\n        if(currentPiece[0] !== undefined) {\r\n            switch (params) {\r\n                case 'id':\r\n                    return currentPiece[0].id;\r\n                case 'isKing':\r\n                    return currentPiece[0].isKing;\r\n                case 'pendingDeath':\r\n                    return currentPiece[0].pendingDeath\r\n                case 'isInGame':\r\n                    return currentPiece[0].isInGame\r\n                case 'player':\r\n                    return currentPiece[0].player\r\n            }\r\n   \r\n        }\r\n    }\r\n\r\n    return(<div className='tile-location'  ><div className={`tile-color ${!activeLocation[1] ? 'hide-opac' : 'display-opac' } ${color -1 ? true : 'tile-color-dark'} `} onClick={() => props.selectTile(x,y,currentPiece)} >\r\n\r\n        {/* {currentPiece[0] !== undefined ? <div className={`${currentPiece[0].player === \"bad\" ? 'bad-player' : 'dead-piece'}`} > {currentPiece[0].isKing === true ? <p className='player-text'>king</p> : null} </div> : null} */}\r\n\r\n        {/* {currentPiece[0] !== undefined ? <div className={`${currentPiece[0].player === \"good\" ? 'good-player' : 'dead-piece'}`} > {currentPiece[0].isKing === true ? <p className='player-text'>king</p> : null} </div> : null} */}\r\n\r\n        {/* ------- animated deaths ------- original code above ----*/}\r\n        <Piece setMoves={props.setMoves} prevPiece={prevPiece.current} getCurrent={getCurrent} x={x} y={y} pieces={pieces} currentPiece={currentPiece}/>\r\n\r\n        {getCurrent('pendingDeath') === true && currentPiece[0].player === \"bad\" ? \r\n        \r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"emo-head-bad\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n         : null}\r\n\r\n        {getCurrent('pendingDeath') === true && currentPiece[0].player === \"good\" ? \r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"emo-head-good\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n         : null}\r\n\r\n        \r\n    </div>\r\n        {activeLocation[0] === x && activeLocation[1] === y ? \r\n        <div className='select-box-overlay'>\r\n            <div className='cancel-select-tile' onClick={() => {props.unselectTile()}} >\r\n                {/* <h1 style={{opacity:'.5',color:'#fff'}} >X</h1> */}\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" style={{color:'#fff'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={1}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                </div>\r\n            <div className={`low-right`} onClick={() => props.setMoves(x+1,y+1,getCurrent('id'),activeLocation,true,currentPlayer,pieces,getCurrent('isKing'),currentPiece)} ></div>\r\n            <div className='low-left' onClick={() => props.setMoves(x-1,y+1,getCurrent('id'),activeLocation,true,currentPlayer,pieces,getCurrent('isKing'),currentPiece)}></div>\r\n            <div className='top-left' onClick={() => props.setMoves(x-1,y-1,getCurrent('id'),activeLocation,true,currentPlayer,pieces,getCurrent('isKing'),currentPiece)}></div>\r\n            <div className='top-right' onClick={() => props.setMoves(x+1,y-1,getCurrent('id'),activeLocation,true,currentPlayer,pieces,getCurrent('isKing'),currentPiece)}></div>\r\n            \r\n        </div>\r\n         : \r\n        null\r\n        }\r\n        \r\n    </div>)\r\n}\r\n\r\nexport default Tile","\r\n\r\nconst pieces = [\r\n    {\r\n        id:1,\r\n        player:'good',\r\n        x:1,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:2,\r\n        player:'good',\r\n        x:3,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:3,\r\n        player:'good',\r\n        x:5,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:4,\r\n        player:'good',\r\n        x:7,\r\n        y:0,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---2\r\n    {\r\n        id:5,\r\n        player:'good',\r\n        x:5,\r\n        y:2,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:6,\r\n        player:'good',\r\n        x:4,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:7,\r\n        player:'good',\r\n        x:2,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:8,\r\n        player:'good',\r\n        x:0,\r\n        y:1,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---- 3\r\n    {\r\n        id:9,\r\n        player:'good',\r\n        x:1,\r\n        y:2,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:10,\r\n        player:'good',\r\n        x:3,\r\n        y:2,\r\n        // y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:11,\r\n        player:'good',\r\n        x:6,\r\n        y:1,\r\n        // y:4, \r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:12,\r\n        player:'good',\r\n        x:7,\r\n        y:2 ,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    // bad pieces\r\n\r\n    {\r\n        id:13,\r\n        player:'bad',\r\n        x:0,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:14,\r\n        player:'bad',\r\n        x:2,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:15,\r\n        player:'bad',\r\n        x:4,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:16,\r\n        player:'bad',\r\n        x:6,\r\n        y:7,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    // ---2\r\n    {\r\n        id:17,\r\n        player:'bad',\r\n        x:7,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n    {\r\n        id:18,\r\n        player:'bad',\r\n        x:5,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:19,\r\n        player:'bad',\r\n        x:3,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:20,\r\n        player:'bad',\r\n        x:1,\r\n        y:6,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    // // ---- 3\r\n    {\r\n        id:21,\r\n        player:'bad',\r\n        x:0,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n        pendingDeath:false,\r\n    },\r\n\r\n    {\r\n        id:22,\r\n        player:'bad',\r\n        x:2,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:23,\r\n        player:'bad',\r\n        x:4,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n    {\r\n        id:24,\r\n        player:'bad',\r\n        x:6,\r\n        y:5,\r\n        isInGame:true,\r\n        isKing:false,\r\n    pendingDeath:false,\r\n    },\r\n]\r\n\r\nexport default pieces","import './CheckerBoard.css'\r\n// import './Tile'\r\nimport { useEffect,useState } from 'react'\r\n\r\nconst CurrentPlayer = (props) => {\r\n\r\n    const { currentPlayer } = props\r\n\r\n    // const [player,setPlayer] = useState(true)\r\n\r\n    // useEffect(() => {\r\n    //     changePiece(currentPlayer)\r\n    // },[])\r\n\r\n    // var changePiece = () => {\r\n    //     if(currentPlayer === 'good'){\r\n    //         setPlayer(true)\r\n    //     } else if (currentPlayer === 'bad') {setPlayer(false)}\r\n    // }\r\n\r\n    return(<div className={`turn-indicator`}>\r\n        {/* <div className={`good-player ${player ? true : 'bad-player'}`}></div> */}\r\n        {currentPlayer === 'good' ? <div className='good-player'></div> : <div className='bad-player'></div>}<p className='turn-indicator-text' >current player</p>\r\n    </div>)\r\n}\r\n\r\nexport default CurrentPlayer","// const sass = require('sass');\r\nimport { loginUser,registerUser,updateUser } from '../../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport './CheckerBoard.css'\r\nimport React, { Component } from 'react'\r\nimport Tile from './Tile/Tile'\r\nimport pieces from './pieces'\r\nimport CurrentPlayer from './CurrentPlayer'\r\n// import Notice from '../Notice/Notice'\r\n// import { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\n// const client = new W3CWebSocket(`ws://165.227.102.189:8002`); // build\r\n\r\nclass CheckerBoard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            playerGood:{},\r\n            playerBad:{},\r\n            selectedPiece:{}, // \r\n            activeLocation:[null,null], // player selects tile\r\n            pieces:[],\r\n            matrix:[],\r\n            setPermission:true,\r\n            currentPlayer:'good',\r\n            tileIsSelected:1,\r\n            wasKillMade:false,\r\n            chainKillData:{},\r\n            chainKillAvailable:false,\r\n            moveOptions:[],\r\n            gameBoardOpen:true\r\n        }\r\n        this.selectTile = this.selectTile.bind(this)\r\n        this.boardFactory = this.boardFactory.bind(this)\r\n        this.getConnected = this.getConnected.bind(this)\r\n        this.checkForKill = this.checkForKill.bind(this)\r\n        this.sendToSocketsSwitch = this.sendToSocketsSwitch.bind(this)\r\n        this.chainKills = this.chainKills.bind(this)\r\n        this.setMoves = this.setMoves.bind(this)\r\n        this.executeMovePiece = this.executeMovePiece.bind(this)\r\n        this.killPiece = this.killPiece.bind(this)\r\n        this.checkPieceLocations = this.checkPieceLocations.bind(this)\r\n        this.switchPlayer = this.switchPlayer.bind(this)\r\n        this.selectTile = this.selectTile.bind(this)\r\n        this.unselectTile = this.unselectTile.bind(this)\r\n        this.handleInput = this.handleInput.bind(this)\r\n        // this.kingAll = this.kingAll.bind(this)\r\n\r\n        // this.autoStartTurn = this.autoStartTurn.bind(this)\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('is mounted')\r\n        // this.props.updateUser()\r\n        this.setState({pieces:pieces})\r\n        this.boardFactory()\r\n        this.getConnected()\r\n        // localStorage.setItem('testing',pieces)\r\n    }\r\n\r\n    getConnected = (input) => {\r\n        const { client } = this.props\r\n        client.onopen = () => {\r\n            console.log('client connected')\r\n        }\r\n        \r\n        client.onmessage = (message) => {\r\n            const dataFromServer = JSON.parse(message.data);\r\n            // const { id } = this.props.user.user\r\n            \r\n            \r\n            if (dataFromServer.type === 'checkerTurn' && dataFromServer.gameID === this.props.currentGame ) {\r\n                // console.log('data from server',dataFromServer.sender === id)\r\n                // console.log(dataFromServer.input)\r\n            const { currentPlayer } = dataFromServer.input\r\n                this.setState({\r\n                    pieces:dataFromServer.input.newPieces,\r\n                    chainKillData:dataFromServer.input.chainKillData,\r\n                    // currentPlayer:currentPlayer\r\n                })\r\n\r\n                this.switchPlayer(currentPlayer)\r\n                if(this.state.chainKillAvailable === true){\r\n                    if(this.state.chainKillData !== undefined){\r\n                        \r\n                        this.checkForKill(this.state.enemyX,this.state.enemyY,this.state.chainKillData)\r\n                        this.setState({chainKillAvailable:false})\r\n                    }\r\n                } \r\n                else this.autoStartTurn()\r\n                this.highLightFate()                \r\n            }\r\n        }\r\n    }\r\n\r\n        // --- this function makes all pieces king - it's purpose is strictly for testing moves in all direction --- //\r\n    kingAll = () => {\r\n        const { pieces } = this.state\r\n        var updatePieces = []\r\n        pieces.forEach(el => {\r\n            el.isKing = true\r\n            updatePieces.push(el)\r\n        })\r\n        this.setState({pieces:updatePieces})\r\n        \r\n    }\r\n\r\n    sendToSocketsSwitch = (input) => {\r\n        const { client,currentGame } = this.props\r\n        const { id } = this.props.user.user // this is for playing a game with another user.\r\n        // console.log('hit sockets')\r\n        client.send(JSON.stringify({type: \"checkerTurn\",input, gameID:currentGame}))\r\n    };\r\n\r\n    // --- this function is for testing -- //\r\n    sendToSocketsUpdate = (input) => {\r\n        const { client } = this.props\r\n\r\n        // client.send(JSON.stringify({type: \"checkerTurn\",input, sender:id}))\r\n    }\r\n\r\n    boardFactory = () => {\r\n    var matrix = []\r\n    var numOfTiles = 8\r\n    var M = Array.from(Array(numOfTiles)) // rows\r\n    for(let i = 0; i < numOfTiles; i++){ // columns\r\n    matrix.push(M)\r\n        }\r\n        this.setState({matrix:matrix})\r\n    }\r\n\r\n    // checks for available attacks of current play at biginning of each turn\r\n    autoStartTurn = async () => {\r\n        const { pieces,currentPlayer,moveOptions } = this.state\r\n        this.handleInput('moveOptions',[])\r\n    //     // var updatedPieces = [...pieces]\r\n        var currentPieces = pieces.filter((el) => el.player === currentPlayer)\r\n        var ememyPieces = pieces.filter((el) => el.player !== currentPlayer)\r\n        currentPieces.forEach(el => {\r\n            this.chainKills(el.x,el.y,pieces,[el],false)\r\n        })\r\n        // console.log('end of auto-start',this.state.moveOptions)\r\n        // if(moveOptions.length < 2 && moveOptions.length > 0){\r\n            // console.log('got hit')\r\n            // this.checkForKill(moveOptions[0][0],moveOptions[0][1],[this.state.chainKillData])\r\n        // }\r\n    }\r\n\r\n    // checks for chain kills\r\n    chainKills = async (x,y,updatedPieces,currentPiece,attack) => {\r\n        // --- the \"attack\" parameter is a boolean used for checking whether or not an attack is available, without executing attack --- //\r\n        // this.handleInput('moveOptions',[])\r\n        const { matrix,moveOptions } = this.state\r\n        const { player } = currentPiece[0]\r\n        // var { moveOptions } = this.state\r\n        var updateMoves = [...moveOptions]\r\n        const upLeft = [-1,-1]\r\n        const upRight = [1,-1]\r\n        const downLeft = [-1,1]\r\n        const downRight = [1,1]\r\n        const moves = [upLeft,upRight,downLeft,downRight]\r\n        moves.forEach(e => {\r\n            var locatePiece = this.checkPieceLocations(x+e[0],y+e[1],updatedPieces)\r\n            \r\n            // --- check for adjacent pieces / is piece friend of foe? --- //\r\n            // if(this.checkPieceLocations(e[0],e[1],updatedPieces) !== undefined && this.checkPieceLocations(e[0],e[1],updatedPieces).player !== player){\r\n            if(locatePiece !== undefined && locatePiece.player !== player){\r\n                \r\n                // --- if it is a foe, is the next location over available? --- //\r\n                var nextX = parseInt(e[0]) + locatePiece.x // potential jump to x\r\n                var nextY = parseInt(e[1]) + locatePiece.y // potential jump to y\r\n                var availMove = this.checkPieceLocations(nextX,nextY,updatedPieces) // are available \"jump to\" coordinates available\r\n\r\n                if(availMove === undefined) {\r\n                    \r\n                    // -- is location on the board -- //\r\n                    if(nextX >= 0 && nextX <= matrix.length-1){\r\n                        if(nextY >= 0 && nextY <= matrix.length-1) {\r\n\r\n                            // --- can move be made if isKing === false ? --- //\r\n                            // --- \"good\" non-kings\r\n                            if(player === \"good\" && nextY < currentPiece[0].y){\r\n                                if(currentPiece[0].isKing === false){return}\r\n                            }\r\n                            \r\n                            // --- \"bad\" non-kings\r\n                            if(player === \"bad\" && nextY > currentPiece[0].y){\r\n                                if(currentPiece[0].isKing === false){return}\r\n                            }\r\n\r\n                            // moveOptions.push([locatePiece.x,locatePiece.y])\r\n                            updateMoves.push([locatePiece.x,locatePiece.y])\r\n\r\n                            // --- this returns move options without making an attack --- //\r\n                            // if(attack === false){return this.setState({moveOptions:moveOptions})}\r\n                            if(attack === false){\r\n                                if(moveOptions.length < 2){this.setState({chainKillData:currentPiece})}\r\n                                return this.setState({moveOptions:updateMoves})\r\n                            }\r\n\r\n                            // console.log('current',currentPiece[0].x,currentPiece[0].y)\r\n                            this.setState({\r\n                                moveOptions:moveOptions,\r\n                                chainKillData:currentPiece,\r\n                                // chainKillData:updatedPieces,\r\n                                enemyX:locatePiece.x,\r\n                                enemyY:locatePiece.y,\r\n                                // chainKillData:obj,\r\n                                chainKillAvailable:true\r\n                            })\r\n                            \r\n                            this.switchPlayer(player)\r\n                            return\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                \r\n            }\r\n            return\r\n        })\r\n    }\r\n\r\n    // --- if an attack is available: --- //\r\n    highLightFate = () => {\r\n        const { moveOptions,pieces,currentPlayer,chainKillData } = this.state\r\n        // console.log(chainKillData)\r\n        // this.setState({moveOptions:[]})\r\n        pieces.forEach(el => el.pendingDeath = false)\r\n        // this.handleInput('moveOptions',[])\r\n        // console.log('select',moveOptions)\r\n        // this.checkForKill(this.state.enemyX,this.state.enemyY,this.state.chainKillData)\r\n        var enemy = pieces.filter(el => el.player !== currentPlayer)\r\n        // var updatePieces = []\r\n        var targetPieces = []\r\n        const upLeft = [-1,-1]\r\n        const upRight = [1,-1]\r\n        const downLeft = [-1,1]\r\n        const downRight = [1,1]\r\n        // const moves = [upLeft,upRight,downLeft,downRight]\r\n        \r\n        enemy.forEach(el => {\r\n            moveOptions.forEach(el2 => {\r\n                // console.log(el.x,el2[0])\r\n                if(el.x === el2[0] && el.y === el2[1]){\r\n                    // console.log('here',el.id)}\r\n                    targetPieces.push(pieces.findIndex(el3 => el3.id === el.id))}\r\n            })\r\n        })\r\n        targetPieces.forEach(el  => {\r\n            pieces[el].pendingDeath = true\r\n        })\r\n        this.handleInput(\"pieces\",pieces)\r\n        // --- automating attacks --- //\r\n        // console.log('end of fate',moveOptions[0][0],moveOptions[0][1])\r\n        // if(moveOptions.length < 2){this.checkForKill(moveOptions[0][0],moveOptions[0][1],chainKillData)}\r\n    }\r\n\r\n    setMoves = async (x,y,id,activeLocation,manualControl,currentPlayer,pieces,isKing,currentPiece) => { // gets all move options based on active location\r\n        // --- kingAll() is for testing moves\r\n        // this.kingAll()\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n\r\n        if(currentPlayer !== pieces[pieceIndex].player){\r\n            return\r\n        }\r\n\r\n        // --- this checks all pieces on board for available locations/moves --- //\r\n        for (let key in pieces){\r\n            if(pieces[key].x === x && pieces[key].y === y){\r\n                if(pieces[key].player !== currentPlayer){\r\n                    return (\r\n                        // if the chosen move already contains a piece, check if friend or foe\r\n                        // res\r\n                        // await this.checkForKill(pieces[key].x,pieces[key].y,activeLocation[0],activeLocation[1],id,activeLocation[2],currentPiece)\r\n                        await this.checkForKill(pieces[key].x,pieces[key].y,currentPiece)\r\n                    )} else {return}\r\n            }\r\n        }\r\n        if(manualControl === true){return await this.executeMovePiece(x,y,activeLocation[1],id,currentPlayer,isKing)} else {return}\r\n\r\n    }\r\n\r\n    // --- makes actual movements --- //\r\n    executeMovePiece = (x,y,activeLocation,id,currentPlayer,isKing) => {\r\n        const { pieces,matrix } = this.state\r\n        var updatePieces = [...pieces]\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n\r\n        // --- non-kings can only move one direction --- //\r\n        if (activeLocation > y && currentPlayer === 'good'){\r\n            if(isKing === false){\r\n                return console.log('this move is not allowed')\r\n            } \r\n        }\r\n        if (activeLocation < y && currentPlayer === 'bad'){\r\n            if(isKing === false){\r\n                return console.log('this move is not allowed')\r\n            } \r\n        }\r\n        updatePieces[pieceIndex].x = x\r\n        updatePieces[pieceIndex].y = y\r\n        \r\n        // --- becomes king --- //\r\n        if(updatePieces[pieceIndex].player === 'bad' && updatePieces[pieceIndex].y === 0 ){\r\n            updatePieces[pieceIndex].isKing = true\r\n        } else if (updatePieces[pieceIndex].player === 'good' && updatePieces[pieceIndex].y === matrix.length-1) {\r\n            updatePieces[pieceIndex].isKing = true\r\n        } \r\n\r\n        this.setState({\r\n            pieces:updatePieces,\r\n            activeLocation:[null,null],\r\n            tileIsSelected:1\r\n        })\r\n\r\n        //  --- testing auto moves - original code below this block --- //\r\n        // this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,updatePieces,[updatePieces[pieceIndex]])\r\n\r\n        // ---- original ---- //\r\n        var sendInfo = {\r\n            newPieces:updatePieces,\r\n            currentPlayer:this.state.currentPlayer\r\n        }\r\n        this.sendToSocketsSwitch(sendInfo)\r\n        // ----------------- //\r\n    }\r\n\r\n    // -- looks for and executes available attacks -- //\r\n        checkForKill = async (enemyX,enemyY,currentPiece) => {\r\n            console.log('chain',currentPiece)\r\n        const { pieces,matrix } = this.state\r\n        const { player,isKing,id,x,y } = currentPiece[0]\r\n        var currentX = x\r\n        var currentY = y\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n\r\n        // -- LOWER LEFT ATTACK -- //\r\n        if(currentX > enemyX && currentY < enemyY){\r\n            // console.log('hit \"checkForKill_1')\r\n\r\n            // -- non-kings can only attack one direction on the y-axis -- //\r\n            if(player === 'bad' && isKing === false){return}\r\n\r\n            // -- check if location is available -- //\r\n            if(await this.checkPieceLocations(enemyX-1,enemyY+1,null) === undefined) {\r\n\r\n                // -- is location on the board? -- //\r\n                if(enemyX-1 >= 0 && enemyY+1 <= matrix.length-1){\r\n\r\n                    // -- update pieces -- //\r\n                    var updatePieces = await this.killPiece(enemyX,enemyY,id)\r\n                    var pieceIndex = updatePieces.findIndex((el) => el.id === id)\r\n                    updatePieces[pieceIndex].x = enemyX-1\r\n                    updatePieces[pieceIndex].y = enemyY+1\r\n\r\n                    // -- piece becomes king if \"good\" AND at max-y location -- //\r\n                    if (updatePieces[pieceIndex].player === 'good' && updatePieces[pieceIndex].y === matrix.length-1) {\r\n                        updatePieces[pieceIndex].isKing = true\r\n                    }\r\n                    // --- reset currentPiece for chainKills() parameter --- //\r\n                    var currentPiece = [updatePieces[pieceIndex]]\r\n                    // -- make chain attack if available -- //\r\n                    // this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,currentPlayer,updatePieces,currentPiece)\r\n                    this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,updatePieces,currentPiece)\r\n                    currentPiece[0].x = updatePieces[pieceIndex].x\r\n                    currentPiece[0].y = updatePieces[pieceIndex].y\r\n\r\n                    // -- update info -- //\r\n                    this.setState({\r\n                        pieces:updatePieces,\r\n                        activeLocation:[null,null],\r\n                        tileIsSelected:1,\r\n                    })\r\n    \r\n                    // -- info sent to server -- //\r\n                    var sendInfo = {\r\n                        chainKillData:this.state.chainKillData,\r\n                        newPieces:updatePieces,\r\n                        currentPlayer:this.state.currentPlayer\r\n                    }\r\n                    // -- sends updates to server -- //\r\n                    return await this.sendToSocketsSwitch(sendInfo)\r\n                    \r\n                }\r\n            }\r\n\r\n        // -- UPPER LEFT ATTACK -- //\r\n        } else if (currentX > enemyX && currentY > enemyY) {\r\n            // -- non-kings can only attack one direction on the y-axis -- //\r\n            if(player === 'good' && isKing === false){return}\r\n\r\n            // -- check if location is available -- //\r\n            if( await this.checkPieceLocations(enemyX-1,enemyY-1,null) === undefined) {\r\n\r\n                // -- is location on the board? -- //\r\n                if(enemyX-1 >= 0 && enemyY-1 >= 0) {\r\n                    // console.log('hit the function')\r\n                    // -- update piece -- //\r\n                    var updatePieces = await this.killPiece(enemyX,enemyY,id)\r\n                    var pieceIndex = updatePieces.findIndex((el) => el.id === id)\r\n                    updatePieces[pieceIndex].x = enemyX-1\r\n                    updatePieces[pieceIndex].y = enemyY-1\r\n\r\n                    // -- piece becomes king if \"bad\" AND at min-y location -- //\r\n                    if(updatePieces[pieceIndex].player === 'bad' && updatePieces[pieceIndex].y === 0 ){\r\n                        // console.log('king funtion')\r\n                        updatePieces[pieceIndex].isKing = true\r\n                    }\r\n                    // --- reset currentPiece for chainKills() parameter --- //\r\n                    var currentPiece = [updatePieces[pieceIndex]]\r\n                    // -- make chain attack if available -- //\r\n                    this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,updatePieces,currentPiece)\r\n                    currentPiece[0].x = updatePieces[pieceIndex].x\r\n                    currentPiece[0].y = updatePieces[pieceIndex].y\r\n                    \r\n                    // -- update info -- //\r\n                    this.setState({\r\n                        pieces:updatePieces,\r\n                        activeLocation:[null,null],\r\n                        tileIsSelected:1\r\n                    })\r\n\r\n                    // -- info sent to server -- //\r\n                    var sendInfo = {\r\n                        chainKillData:this.state.chainKillData,\r\n                        newPieces:updatePieces,\r\n                        currentPlayer:this.state.currentPlayer\r\n                    }\r\n                    // -- send updates to server -- //\r\n                    return await this.sendToSocketsSwitch(sendInfo)\r\n                }\r\n                \r\n            }\r\n\r\n        // -- UPPER RIGHT ATTACK -- /\r\n        } else if (currentX < enemyX && currentY > enemyY) {\r\n\r\n            // -- non-kings can only attack one direction on the y-axis -- //\r\n            if(player === 'good' && isKing === false){return}\r\n\r\n            // -- check if location is available -- //\r\n            if(await this.checkPieceLocations(enemyX+1,enemyY-1,null) === undefined) {\r\n                \r\n                // -- is location on the board? -- //\r\n                if(enemyX+1 <= matrix.length-1 && enemyY-1 >= 0){\r\n\r\n                    // -- update pieces -- //\r\n                    var updatePieces = await this.killPiece(enemyX,enemyY,id)\r\n                    var pieceIndex = updatePieces.findIndex((el) => el.id === id)\r\n                    updatePieces[pieceIndex].x = enemyX+1\r\n                    updatePieces[pieceIndex].y = enemyY-1\r\n\r\n                    // -- piece becomes king if \"bad\" AND at min-y location -- //\r\n                    if(updatePieces[pieceIndex].player === 'bad' && updatePieces[pieceIndex].y === 0 ){\r\n                        updatePieces[pieceIndex].isKing = true\r\n                    }\r\n                    // --- reset currentPiece for chainKills() parameter --- //\r\n                    var currentPiece = [updatePieces[pieceIndex]]\r\n                    // await this.autoStartTurn(currentPlayer,updatePieces[pieceIndex],activeLocation,updatePieces)\r\n\r\n                    // -- make chain attack if available -- //\r\n                    this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,updatePieces,currentPiece)\r\n                    currentPiece[0].x = updatePieces[pieceIndex].x\r\n                    currentPiece[0].y = updatePieces[pieceIndex].y\r\n\r\n                    // -- update info -- //\r\n                    this.setState({\r\n                        // pieces:updatePieces,\r\n                        activeLocation:[null,null],\r\n                        tileIsSelected:1\r\n                    })\r\n\r\n                    //  -- info sent to server -- //\r\n                    var sendInfo = {\r\n                        chainKillData:this.state.chainKillData,\r\n                        newPieces:updatePieces,\r\n                        currentPlayer:this.state.currentPlayer\r\n                    }\r\n                    // -- send info to server -- //\r\n                    return await this.sendToSocketsSwitch(sendInfo)\r\n                }\r\n                \r\n            }\r\n\r\n        // -- LOWER RIGHT ATTACK -- //\r\n        } else if (currentX < enemyX && currentY < enemyY) {\r\n            // -- non-kings can only attack one direction on the y-axis -- //\r\n            if(player === 'bad' && isKing === false){return}\r\n            \r\n            // -- check if location is available -- //\r\n            if(await this.checkPieceLocations(enemyX+1,enemyY+1,null) === undefined) {\r\n                // console.log('location on board?',enemyX+1,enemyY+1)\r\n            \r\n                // -- is location on the board? -- //\r\n                if(enemyX+1 >= 0 && enemyY+1 <= matrix.length-1) {\r\n                    var updatePieces = await this.killPiece(enemyX,enemyY,id)\r\n                    var pieceIndex = updatePieces.findIndex((el) => el.id === id)\r\n                    updatePieces[pieceIndex].x = enemyX+1\r\n                    updatePieces[pieceIndex].y = enemyY+1\r\n\r\n                    if (updatePieces[pieceIndex].player === 'good' && updatePieces[pieceIndex].y === matrix.length-1) {\r\n                        \r\n                        updatePieces[pieceIndex].isKing = true\r\n                    }\r\n                    // --- reset currentPiece for chainKills() parameter --- //\r\n                    var currentPiece = [updatePieces[pieceIndex]]\r\n\r\n                    // -- make chain attack if available -- //\r\n                    this.chainKills(updatePieces[pieceIndex].x,updatePieces[pieceIndex].y,updatePieces,currentPiece)\r\n                    currentPiece[0].x = updatePieces[pieceIndex].x\r\n                    currentPiece[0].y = updatePieces[pieceIndex].y\r\n\r\n                    this.setState({\r\n                        pieces:updatePieces,\r\n                        activeLocation:[null,null],\r\n                        tileIsSelected:1\r\n                    })\r\n                    var sendInfo = {\r\n                        chainKillData:this.state.chainKillData,\r\n                        newPieces:updatePieces,\r\n                        currentPlayer:this.state.currentPlayer\r\n                    }\r\n                    return await this.sendToSocketsSwitch(sendInfo)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    // --- attacks and removes piece from play --- //\r\n    killPiece = async (enemyX,enemyY,id) => {\r\n        const { pieces } = this.state\r\n        var updatedPieces = [...pieces]\r\n        var pieceIndex = pieces.findIndex((el) => el.id === id)\r\n        var pieceId = await this.checkPieceLocations(enemyX,enemyY).id\r\n        var killIndex = pieces.findIndex((el) => el.id === pieceId)\r\n        updatedPieces.splice(killIndex,1)\r\n        \r\n        return updatedPieces\r\n    }\r\n\r\n    // -- checks location for availability -- //\r\n    checkPieceLocations = (x,y,updatedPieces) => {\r\n        const { pieces } = this.state\r\n\r\n        // -- this is for chain kills -- //\r\n        if(updatedPieces != null){\r\n            for (let key in updatedPieces){\r\n                if(updatedPieces[key].x === x && updatedPieces[key].y === y){\r\n                    return updatedPieces[key]\r\n                }\r\n            }\r\n            // -- this is for manual kills -- //\r\n        } else {\r\n            for (let key in pieces){\r\n                if(pieces[key].x === x && pieces[key].y === y){\r\n                    return pieces[key]\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    switchPlayer = async (input) => {\r\n        switch (input) {\r\n            case 'good':\r\n                this.setState({currentPlayer:'bad'})\r\n                // this.autoStartTurn(this.state.currentPlayer,pieces) // for testing / pending removal\r\n                break;\r\n            case 'bad':\r\n                this.setState({currentPlayer:'good'})\r\n                // this.autoStartTurn(this.state.currentPlayer,pieces) // for testing / pending removal\r\n        }\r\n        return\r\n    }\r\n\r\n    selectTile = (x,y,piece) => {\r\n        if(piece[0] != undefined) {\r\n            // this.handleInput('activeLocation',[x,y,.2,piece])\r\n            this.handleInput('activeLocation',[x,y,piece])\r\n            this.handleInput('tileIsSelected',.4)\r\n        }\r\n        return\r\n    }\r\n    \r\n    unselectTile = () => {\r\n        this.handleInput('tileIsSelected',1)\r\n        this.handleInput('activeLocation',[null,null])\r\n    }\r\n\r\n    handleInput = (prop,val) => {\r\n        this.setState({[prop]:val})\r\n        return\r\n    }\r\n\r\n    render() {\r\n\r\n        const { matrix,pieces,activeLocation,currentPlayer,tileIsSelected,moveOptions,chainKillAvailable,gameBoardOpen } = this.state\r\n\r\n        const mappedMatrix = matrix.map((row,id) => {\r\n            return row.map((col,id2) => {\r\n                const currentPiece = pieces.filter(e => e.x === id2 && e.y === id)\r\n                return <Tile key={[id2,id]} x={id2} y={id} color={(-1)**(id+id2)} selectTile={this.selectTile} unselectTile={this.unselectTile} setMoves={this.setMoves} currentPiece={currentPiece} currentPlayer={currentPlayer} activeLocation={activeLocation} tileIsSelected={tileIsSelected} pieces={pieces} moveOptions={moveOptions} chainKillAvailable={chainKillAvailable}/>\r\n            })\r\n        })\r\n\r\n        return(\r\n        <div>\r\n            {/* <div className='checker-table' ><span className='check-row-1' >{mappedMatrix} </span></div> */}\r\n            <div className={`checker-table ${gameBoardOpen ? true : `checker-table-closed`}`} >\r\n            {gameBoardOpen === false ? <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" style={{width:'25px',opacity:'.5'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z\" />\r\n            </svg> : null}\r\n                {gameBoardOpen === true ? <div className='check-row-1' >{mappedMatrix} </div> : null}\r\n            </div>\r\n            <CurrentPlayer currentPlayer={currentPlayer} />\r\n\r\n            {/*  --- test --- */}\r\n            {/* <Notice info={currentPlayer}/>  */}\r\n            {/*  --- test --- */}\r\n\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateUser})(CheckerBoard)\r\n// export default CheckerBoard","import { useState } from 'react'\r\nimport './GameInvite.css'\r\n\r\n\r\nconst GameInvite = (props) => {\r\n\r\n    const { isAccepted,photo,gameID } = props.challengeUser.gameInformation\r\n\r\n    const [isConfirmed,setIsConfirmed] = useState(false)\r\n\r\n    const [openAccept,setOpenAccept] = useState(false)\r\n    // console.log(props)\r\n\r\n    const handleAccept= (confirm,val) => {\r\n        // if(isConfirmed === false){\r\n        props.changeGameID(confirm,val)\r\n        setOpenAccept(!openAccept)\r\n        // }\r\n        if(confirm === true) {setIsConfirmed(true)}\r\n    }\r\n\r\n    return(<div>\r\n        {openAccept === false ? <div className={`invite`} >\r\n            <img src={photo} className='invite-photo' onClick={() => {\r\n                if(isConfirmed === false){setOpenAccept(!openAccept)} else {props.hideView('showGames')} // once challenge is accepted, photo will be used to open game\r\n                }\r\n            } />\r\n            {/* <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"game-invite-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg> */}\r\n            {/* <div className='choose-accept'><p className='choose-accept-text'>accept</p></div> */}\r\n            \r\n            {isAccepted === false && isConfirmed === false ? <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"game-invite-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\r\n            </svg> : null}\r\n        </div> :\r\n        <div className='invite choose-accept'>\r\n            <div className='game-invite-title' >\r\n                <p className='game-invite-title-text' >Accept Challenge?</p>\r\n            </div>\r\n            <div className='invite-yes-no' ><p className='choose-accept-text' onClick={() => handleAccept(true,gameID)} >yes</p><p className='choose-accept-text' onClick={() => handleAccept(false)} >no</p></div>\r\n        </div>}\r\n    </div>)\r\n}\r\n\r\nexport default GameInvite","import { useState,useEffect } from \"react\"\r\nimport CheckerBoard from \"./checkers/CheckerBoard\"\r\nimport GameInvite from \"../UserPage/Friends/GameInvite\"\r\nimport './Table.css'\r\n// import { loginUser,registerUser,updateUser } from '../../../ducks/userReducer'\r\n// import { connect } from 'react-redux'\r\n\r\nconst Table = (props) => {\r\n\r\n    const { challengeUser,currentGame } = props\r\n\r\n// const [ openTable,setOpenTable ] = useState(false)\r\n\r\n    return(<div className={`game-container`}>\r\n        <section className=\"game-title\">\r\n        {/* <h2 style={{textTransform:'none'}} >Games</h2> */}\r\n        <svg className=\"close-button\" style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" onClick={() => props.hideView(null)} >\r\n            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n        </svg>\r\n        </section>\r\n        \r\n        <section >\r\n            {challengeUser != null ? <img className=\"foe-photo\" src={challengeUser.gameInformation.photo} /> : null}\r\n            <CheckerBoard currentGame={currentGame} client={props.client} />\r\n        </section>\r\n    </div>)\r\n}\r\n\r\n// function mapStateToProps(reduxState) {\r\n//     return reduxState\r\n// }\r\n\r\n// export default connect({mapStateToProps,updateUser})(Table)\r\n\r\nexport default Table","import './MyConnection.css'\r\nimport axios from 'axios'\r\nimport { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst MyConnection = (props) => {\r\n\r\n    const { photo_url,user_name,user_id,my_id } = props \r\n\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n    const [remove,setRemove] = useState(false)\r\n\r\n    useEffect(() => {\r\n        // props.getUserID(user_id)\r\n        // axios.get('/api/users/all').then(res => {\r\n        //     setUsers(res.data)\r\n        // })\r\n        // axios.get('/api/products/all').then((res) => {\r\n        //     setProducts(res.data)\r\n        // })\r\n        // axios.get('/api/orders/join').then((res) => {\r\n        //     // console.log('this is res',res.data)\r\n        //     setOrders(res.data)\r\n        // }).catch((err) => {\r\n        //     console.log('this is from joins',err)\r\n        // })\r\n\r\n    }, [])\r\n\r\n    const handleRemove = (user_id,my_id) => {\r\n        props.removeConnection(user_id,my_id)\r\n        setRemove(true)\r\n    }\r\n\r\n    return(<div>{remove === false ? <div className=\"connection-container\">\r\n\r\n        <div className='photo-name-flex' ><Link to={`viewuser/${user_id}`} ><img src={photo_url} className='connection-photo' /></Link><p className='connection-name' >{user_name}</p></div>\r\n\r\n        {menuOpen === true ? <ul className={`friend-options`} >\r\n            {/* <div className='friend-menu-row'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className='friend-menu-icon' fill=\"none\"  stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                </svg>\r\n                <p className='friend-menu-text' >message</p>\r\n            </div> */}\r\n            {/* <p>content</p> */}\r\n\r\n            <div className='friend-menu-row' onClick={() => props.getUserID(user_id)} >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n                <p className='friend-menu-text' >Game invite</p>\r\n            </div>\r\n            {/* <p>content</p> */}\r\n\r\n            <div className='friend-menu-row' >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n            </svg>\r\n                <p className='friend-menu-text' onClick={() => handleRemove(user_id,my_id)} >remove friend</p>\r\n            </div>\r\n            {/* <p>content</p> */}\r\n        </ul> : null}\r\n        <svg onClick={() => setMenuOpen(!menuOpen)} xmlns=\"http://www.w3.org/2000/svg\" className='small-icon' style={{marginBottom:'10px',marginRight:'0px', height:'40px',width:'40px',opacity:'60%'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n        </svg>\r\n\r\n\r\n    </div> : null}</div>)\r\n}\r\n\r\nexport default MyConnection","import './MyConnection.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { useState } from 'react'\r\n\r\nconst ConnectRequests = (props) => {\r\n\r\n    const [remove,setRemove] = useState(false)\r\n\r\n    const { photo_url,user_name,user_id,my_id } = props \r\n\r\n    const handleConfirm = (user_id,my_id) => {\r\n        props.acceptRequest(user_id,my_id,photo_url,user_name)\r\n        setRemove(true)\r\n    }\r\n\r\n    const handleRemove = (user_id,my_id) => {\r\n        props.removeConnection(user_id,my_id)\r\n        setRemove(true)\r\n    }\r\n\r\n    \r\n\r\n    return(<div>{remove === false ? <div className={`connection-container`}>\r\n        <div className='photo-name-flex' ><Link to={`viewuser/${user_id}`} ><img src={photo_url} className='connection-photo' /></Link><p className='connection-name' >{user_name}</p></div>\r\n        {/* <button>confirm</button> */}\r\n        {/* <div className='connection-buttons-full'><p>Confirm</p></div> */}\r\n        <div className='button-row' >\r\n            <p className='connection-buttons' style={{marginBottom:'10px'}} onClick={() => handleRemove(user_id,my_id)} >Remove</p>\r\n            <p className='connection-buttons-full' style={{marginBottom:'10px',marginRight:'10px'}} onClick={() => handleConfirm(user_id,my_id)} >Confirm</p>\r\n        </div>\r\n    </div> : null}</div>)\r\n}\r\n\r\nexport default ConnectRequests","import { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport './DisplayFriends.css'\r\nimport ConnectRequests from \"./ConnectRequests\";\r\nimport MyConnection from \"./MyConnections\";\r\nimport Loading from \"../../Loading/Loading\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\nclass DisplayFriends extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            requests:[],\r\n            friends:[],\r\n            isLoading:false,\r\n\r\n    // - new friend from websocket - pending accept - //\r\n            newFriends:[],\r\n    // - new friend from websocket - confirmed - //\r\n            justAdded:[],\r\n        }\r\n        this.getMyFriends = this.getMyFriends.bind(this)\r\n        this.acceptRequest = this.acceptRequest.bind(this)\r\n        this.startLoading = this.startLoading.bind(this)\r\n        this.removeConnection = this.removeConnection.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.sockets()\r\n        this.getMyFriends()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.sockets()\r\n    }\r\n\r\n    // --- websocket --- //\r\n    sockets = (input) => {\r\n        const { id } = this.props\r\n        client.onopen = () => {\r\n        }\r\n        client.onmessage = (message) => {\r\n            const dataFromServer = JSON.parse(message.data)\r\n            const { fromUser,friendObj } = dataFromServer\r\n            const { newFriends,friends } = this.state\r\n            if (dataFromServer.type === 'new_friend' && parseInt(fromUser.toUser) === id) {\r\n                newFriends.push(fromUser)\r\n                this.setState({newFriends:newFriends})\r\n            }\r\n            if (dataFromServer.type === 'acceptedFriend'){\r\n                if(parseInt(friendObj.my_id) === id || parseInt(friendObj.user_id) === id){\r\n                    var updateFriends = [...friends]\r\n                    updateFriends.push(friendObj)\r\n                    this.setState({friends:updateFriends})\r\n                }\r\n            }\r\n        }\r\n    }\r\n    newFriendToSocked = (friendObj) => {\r\n        client.send(JSON.stringify({type:\"acceptedFriend\",friendObj}))\r\n    }\r\n    // ---------------------------------------- //\r\n\r\n    getMyFriends = async () => {\r\n        const { id } = this.props\r\n        // --- requests this user has sent --- //\r\n        await axios.get(`/api/join/friends/${id}`).then(res => this.setState({friends:res.data})).catch(err => console.log(err))\r\n\r\n        // --- unconfirmed request this user has recieved --- //\r\n        await axios.get(`/api/get/pending/friends/${id}`).then(res2 => this.setState({requests:res2.data})).catch(err2 => console.log(err2))\r\n\r\n        return\r\n    }\r\n\r\n    startLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    acceptRequest = async (from,to,photo_url,user_name) => {\r\n        const { friends } = this.state\r\n        const yes = true\r\n        var friendObj = {\r\n            photo_url:photo_url,\r\n            user_id:from,\r\n            my_id:to,\r\n            user_name:user_name\r\n        }\r\n        var updateFriends = [...friends]\r\n        updateFriends.push(friendObj)\r\n        this.newFriendToSocked(friendObj)\r\n        const newFriend = await axios.post('/api/accept/connection',{from,to,yes})\r\n    }\r\n\r\n    removeConnection = async (from,to) => {\r\n        console.log('hit remove', from,to)\r\n        axios.post('/api/remove/connection',{from,to})\r\n    }\r\n\r\n    pleaeLogin(){\r\n        alert('please log in')\r\n    }\r\n\r\n    render() {\r\n\r\n        const { requests,friends,isLoading,newFriends } = this.state\r\n        const { id } = this.props\r\n\r\n        const mappedConnections = friends.map(el => {\r\n            return <MyConnection key={el.user_id} photo_url={el.photo_url} user_id={el.user_id} user_name={el.user_name} my_id={id} removeConnection={this.removeConnection} getUserID={this.props.getUserID} />\r\n        })\r\n\r\n        const mappedRequests = requests.map(el => {\r\n            return <ConnectRequests key={el.user_id} photo_url={el.photo_url} user_name={el.user_name} user_id={el.user_id} my_id={id} removeConnection={this.removeConnection}  acceptRequest={this.acceptRequest} />\r\n        })\r\n\r\n        const mappedNewRequestes = newFriends.map(el => {\r\n            return <ConnectRequests key={el.id} photo_url={el.photo} user_name={el.user} user_id={el.id} my_id={id} removeConnection={this.removeConnection}  acceptRequest={this.acceptRequest}/>\r\n        })\r\n\r\n        return(<div className=\"friend-container\">\r\n            {isLoading === true ? <Loading /> : null}\r\n            {mappedNewRequestes}\r\n            {mappedRequests}\r\n            {mappedConnections}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default DisplayFriends","import './SelectedPhoto.css'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst SelectedImage = (props) => {\r\n\r\n    const { image_url,user_id } = props\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n\r\n    const clickHandler = async (params) => {\r\n        await setMenuOpen(!menuOpen)\r\n        await props.setCurrentImg(null)\r\n       \r\n        switch (params) {\r\n            case 'delete':\r\n                await props.removingPhoto(image_url)\r\n                await props.getPhotos(user_id)\r\n                break;\r\n            case 'update_photo':\r\n                await axios.post('/api/users/update/photo/',{image_url,user_id})\r\n                break;\r\n            case 'update_background_img':\r\n                await axios.post('/api/user/update/background',{image_url,user_id})\r\n                break;\r\n        }\r\n        // await props.getPhotos(user_id)\r\n    }\r\n\r\n    return(<div className=\"selected-img\">\r\n        {/* <p>X</p> */}\r\n        <header className='selected-img-head'>\r\n        <svg onClick={() => setMenuOpen(!menuOpen)} xmlns=\"http://www.w3.org/2000/svg\" className='friend-menu-icon' style={{position:'absolute',left:'0px'}}  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n            {menuOpen === false ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />:\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />}\r\n        </svg>\r\n\r\n        {menuOpen === true ? <ul className='friend-options' style={{width:'200px',height:'130px',left:'0px',top:'30px'}}>\r\n            <li className='friend-menu-row' style={{width:'200px'}} onClick={() => clickHandler('update_photo')} >Use as Profile Picture</li>\r\n            <li onClick={() => clickHandler('update_background_img')} className='friend-menu-row' style={{width:'200px'}} >Use as Background</li>\r\n            <li onClick={() => clickHandler('delete')} className='friend-menu-row' style={{width:'200px'}} >Delete Photo</li>\r\n        </ul> : null}\r\n\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',right:'0px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => props.setCurrentImg(null)} >\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n        </svg>\r\n        </header>\r\n        <img  src={image_url} className=\"prev-im-size\" />\r\n    </div>)\r\n}\r\n\r\nexport default SelectedImage\r\n\r\n\r\n// <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n//   <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n// </svg>","import './PhotoAlbum.css'\r\nimport axios from 'axios'\r\nimport { useState,useEffect } from 'react'\r\nimport SelectedImage from './SelectedImage'\r\nimport Resizer from 'react-image-file-resizer'\r\n// import { get } from 'http'\r\nimport { addNewModel } from '../../../ducks/firebaseReducer'\r\nimport { connect } from 'react-redux'\r\nimport ImagePreview from '../../FeaturedProjects/EditProject/ImagePreview';\r\nimport {app} from '../../../base'\r\nconst db = app.firestore()\r\n\r\n\r\nconst PhotoAlbum = (props) => {\r\n    \r\n    const newPhotoEndpoint = '/api/photos/add/new'\r\n    const [albums, setAlbums] = useState([])\r\n    const [photos,setPhotos] = useState([])\r\n    const [view,setView] = useState('photos')\r\n    const [create,setCreate] = useState(false)\r\n    const [currentImg,setCurrentImg] = useState(null)\r\n    // const [previewImageFile,setPreviewImage] = useState(null)\r\n    const [photoUrl,setPhotoUrl] = useState(null)\r\n    const [state,setState] = useState({\r\n        previewImageFile:null\r\n    })\r\n\r\n    const { id } = props\r\n    const user_id = id\r\n\r\n    useEffect(() => {\r\n        axios.get(`/api/photos/albums/${user_id}`).then(res => {\r\n            setAlbums(res.data)\r\n        })\r\n        getPhotos(user_id)\r\n    },[])\r\n\r\n    const handleInput = (prop,val) => {\r\n        setState({[prop]:val})\r\n    }\r\n\r\n    // --- editing / adding / removing user photos with firebase --- //\r\n// --- add file to state / resize / show preview --- //\r\n    const addAndUpdate = async (e) => {\r\n        await handlePhoto(e)\r\n        await getPhotos(user_id)\r\n    }\r\n\r\n        // --- get user photos -- //\r\n    const getPhotos = async (user_id) => {\r\n        await axios.get(`/api/user/photos/get/${user_id}`).then(res => {\r\n            setPhotos(res.data)\r\n        })\r\n    }\r\n\r\n    const handlePhoto = async (e) => {\r\n        // const photo = e.target.files[0]\r\n        var fileInput = false;\r\n\r\n        if (e.target.files[0]) {\r\n            fileInput = true\r\n        }\r\n\r\n        if (fileInput) {\r\n            try {\r\n                Resizer.imageFileResizer(\r\n                    e.target.files[0],\r\n                    400,\r\n                    267,\r\n                    \"JPEG\",\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                        console.log(uri,'uri')\r\n                        const objUrl = URL.createObjectURL(uri)\r\n                        // setPreviewImage(URL.createObjectURL(uri))\r\n                        setState({previewImageFile:objUrl})\r\n                        setPhotoUrl(uri)\r\n                    },\r\n                    \"file\",\r\n                    298,\r\n                    191\r\n                );\r\n            } catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    const addingPhoto = async () => {\r\n        const photo_url = photoUrl\r\n        const { id,user } = props.user.user\r\n        var album_id = null\r\n        // this.setState({previewImageFile:null})\r\n        // setPreviewImage(null)\r\n        \r\n        props.setIsLoading()\r\n        // get firebase ref\r\n        const cloud = await props.addNewModel(photo_url,`${user}/photos`)\r\n\r\n        // get dl url\r\n        const image_url = await cloud.action.payload.ref.getDownloadURL()\r\n\r\n        // add to photo db\r\n        await axios.post(newPhotoEndpoint,{album_id,id,image_url})\r\n        await getPhotos(id)\r\n        await props.setIsLoading()\r\n    }\r\n\r\n    const removingPhoto = async (image_url) => {\r\n\r\n        await deletePhotoFromFirebase(image_url)\r\n        // await axios.post(`${deletePhotoEndpoint}${photo_id}`)\r\n        // console.log(' here is url ',image_url)\r\n        await axios.post(`/api/photos/delete/`,{image_url})\r\n    }\r\n\r\n    const deletePhotoFromFirebase = async (url) => {\r\n        const storageRef = app.storage().refFromURL(url)\r\n        storageRef.delete().then(function deleted(params) {\r\n            console.log('image deleted')\r\n        }).catch(function (error) {\r\n            console.log('there was an error')\r\n        })\r\n    }\r\n    // -------------------------------------------------------------//\r\n\r\n        const mappedAlbums = albums.map(el => {\r\n            return <p key={el.album_id} >{el.title}</p>\r\n        })\r\n\r\n        const mappedPhotos = photos.map(el => {\r\n            return <img key={el.photo_id} src={el.image_url} style={{height:'75px',width:'75px'}} onClick={() => setCurrentImg(el.image_url)}/>\r\n        })\r\n\r\n    return(<div className=\"album-container\">\r\n\r\n            {view === 'photos' ? <header className='album-title-row'>\r\n                <p style={{float:'left',fontWeight:'700'}}>Photos</p>\r\n\r\n                    <input className='user-photo-file-input'\r\n                    style={{position:'absolute',top:'5px',right:'10px',width:'20px',height:'20px'}}\r\n                    type=\"file\"\r\n                    accept=\"image/png,image/jpeg\"\r\n                    onChange={e => addAndUpdate(e)} \r\n                    />\r\n                    \r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',top:'4px',right:'0px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                        {/* <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" /> */}\r\n                    </svg>\r\n\r\n            </header>\r\n            :\r\n            <header className='album-title-row'>\r\n                <p style={{float:'left',fontWeight:'700'}}>Albums</p>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{float:'right',marginTop:'5px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => setCreate(!create)} >\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z\" />\r\n                </svg>\r\n            </header>\r\n            }\r\n\r\n        <header className='album-title-row-bottom'>\r\n            {/*  ---- not functional yet --------- */}\r\n            {/* <p className={`photo-selector`} onClick={() => switchView('albums')} >Albums</p> */}\r\n\r\n            <p className={`photo-selector`} onClick={() => setView('photos')} >Photos</p>\r\n        </header>\r\n\r\n        {currentImg ? <SelectedImage image_url={currentImg} setCurrentImg={setCurrentImg} removingPhoto={props.removingPhoto} getPhotos={getPhotos} user_id={user_id} /> : null}\r\n        {view === 'albums' ? mappedAlbums : null}\r\n        {view === 'photos' ? mappedPhotos : null}\r\n        {state.previewImageFile != null ? <ImagePreview previewImageFile={state.previewImageFile} photo_url={photoUrl} addPhoto={addingPhoto} handleInput={handleInput} /> : null}\r\n    </div>)\r\n}\r\n\r\n// export default PhotoAlbum\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{addNewModel})(PhotoAlbum)\r\n\r\n{/* <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n</svg> */}","import axios from 'axios';\r\nimport Home from '../Home/Home'\r\n// import CreateProject from './CreateProject';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Project from '../FeaturedProjects/Project'\r\nimport { Component, lazy } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport './UserPage.css'\r\nimport { connect } from 'react-redux'\r\nimport { getProjects } from '../../ducks/projectsReducer';\r\nimport { updateUser } from '../../ducks/userReducer'\r\nimport Collections from './Collections'\r\nimport UserInfo from './UserInfo'\r\nimport {app} from '../../base'\r\nimport { addNewModel } from './../../ducks/firebaseReducer'\r\nimport SecurityTest from './SecurityTest'\r\nimport MobileLogin from '../MobileLogin/MobileLogin'\r\nimport Loading from '../Loading/Loading';\r\nimport AdminPage from '../AdminPage/AdminPage';\r\nimport EditUserInfo from './EditUserInfo';\r\nimport Table from './../Games/Table'\r\nimport MyConnection from './Friends/MyConnections';\r\nimport ConnectRequests from './Friends/ConnectRequests';\r\nimport DisplayFriends from './Friends/DisplayFriends';\r\nimport GameInvite from './Friends/GameInvite'; // notice to indicate invite to play game\r\nimport PhotoAlbum from './PhotoAlbum/PhotoAlbum';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// import ImagePreview from '../FeaturedProjects/EditProject/ImagePreview';\r\nimport Resizer from 'react-image-file-resizer'\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\nconst db = app.firestore()\r\nconst newPhotoEndpoint = '/api/photos/add/new'\r\nconst deletePhotoEndpoint = '/api/photos/delete/'\r\nconst deletePhotoByUrlEndpoint = '/api/photos/delete/'\r\n\r\n\r\nclass UserPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state ={\r\n\r\n            // -- this will change when new photo is added -- //\r\n            previewImageFile:null,\r\n            photo_url:null,\r\n            photos:[],\r\n\r\n            showPhotos:false,\r\n\r\n            items:[],\r\n            user:{},\r\n\r\n            friends:[],\r\n            \r\n            requests:[],\r\n            showUserInfo:true,\r\n            showCollections:true,\r\n            showAdminPage:false,\r\n            showCreateProject:false,\r\n            showEditUserInto:false,\r\n            showGames:false,\r\n            showFriends:false,\r\n            profilePic:null,\r\n            userName:null,\r\n            isLoading:false,\r\n            setPermission:true,\r\n            challengeUser:null, // challenge this your to game\r\n            currentGame:null,\r\n        }\r\n        this.handleCollections = this.handleCollections.bind(this)\r\n        this.hideView = this.hideView.bind(this)\r\n        this.resetView = this.resetView.bind(this)\r\n        this.pleaseLogin = this.pleaeLogin.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.deleteFromFirebase = this.deleteFromFirebase.bind(this)\r\n        this.getUserID = this.getUserID.bind(this)\r\n        this.receiveInvite = this.receiveInvite.bind(this)\r\n        // this.handlePhoto = this.handlePhoto.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.receiveInvite()\r\n        // this.getPhotos()\r\n        this.setState({currentGame:this.getUniqueID()})\r\n    }\r\n\r\n    // --- get user photos -- //\r\n    // getPhotos = async (user_id) => {\r\n    //     await axios.get(`/api/user/photos/get/${user_id}`).then(res => {\r\n    //         this.setState({photos:res.data})\r\n    //     })\r\n    // }\r\n\r\n    componentDidUpdate() {\r\n        const { id,photo } = this.props.user.user\r\n        // this.props.updateUser()\r\n        // this.getPhotos(id)\r\n        if(this.state.friends.length < 1 && id != undefined){\r\n            axios.get(`/api/join/friends/${id}`).then(res => this.setState({friends:res.data}))   \r\n            // axios.get(`/api/user/photos/get/${id}`).then(res => this.setState({photos:res.data}))\r\n            // this.getPhotos(id)\r\n        }\r\n    }\r\n\r\n    // // --- editing / adding / removing user photos with firebase --- //\r\n    // // --- add file to state / resize / show preview --- //\r\n\r\n\r\n    // handlePhoto = async (e) => {\r\n    //     var fileInput = false;\r\n\r\n    //     if (e.target.files[0]) {\r\n    //         fileInput = true\r\n    //     }\r\n\r\n    //     if (fileInput) {\r\n    //         try {\r\n    //             Resizer.imageFileResizer(\r\n    //                 e.target.files[0],\r\n    //                 400,\r\n    //                 267,\r\n    //                 \"JPEG\",\r\n    //                 100,\r\n    //                 0,\r\n    //                 (uri) => {\r\n    //                     console.log(uri,'uri')\r\n    //                     this.setState({\r\n    //                         previewImageFile:URL.createObjectURL(uri),\r\n    //                         photo_url:uri\r\n    //                     })\r\n    //                 },\r\n    //                 \"file\",\r\n    //                 298,\r\n    //                 191\r\n    //             );\r\n    //         } catch (err) {\r\n    //             console.log(err)\r\n    //         }\r\n    //     }\r\n    //     return\r\n    // }\r\n\r\n    // addingPhoto = async () => {\r\n    //     const { photo_url } = this.state\r\n    //     const { id,user } = this.props.user.user\r\n    //     var album_id = null\r\n    //     this.setState({previewImageFile:null})\r\n        \r\n    //     this.setIsLoading()\r\n    //     // get firebase ref\r\n    //     const cloud = await this.props.addNewModel(photo_url,`${user}/photos`)\r\n\r\n    //     // get dl url\r\n    //     const image_url = await cloud.action.payload.ref.getDownloadURL()\r\n\r\n    //     // add to photo db\r\n    //     await axios.post(newPhotoEndpoint,{album_id,id,image_url})\r\n    //     // await this.getPhotos(id)\r\n    //     this.setIsLoading()\r\n    // }\r\n\r\n    removingPhoto = async (image_url) => {\r\n        await this.deleteFromFirebase(image_url)\r\n        // await axios.post(`${deletePhotoEndpoint}${photo_id}`)\r\n        console.log(' here is url ',image_url)\r\n        await axios.post(`/api/photos/delete/`,{image_url})\r\n    }\r\n    // // -------------------------------------------------------------//\r\n\r\n    changeGameID = (confirm,val) => {\r\n        if(confirm === true){this.setState({currentGame:val})} else {this.setState({challengeUser:null})}\r\n        \r\n    }\r\n\r\n    receiveInvite = () => {\r\n        client.onopen = () => {\r\n        }\r\n        client.onmessage = (message) => {\r\n            const dataFromServer = JSON.parse(message.data)\r\n            const { id } = this.props.user.user\r\n            \r\n            if(dataFromServer.type === 'gameInvite' && dataFromServer.gameInformation.to === id) {\r\n\r\n                this.setState({challengeUser:dataFromServer})\r\n\r\n                // console.log('invite send to server',typeof(dataFromServer.to), typeof(id))\r\n            }\r\n        }\r\n    }\r\n\r\n    sendInvite = (gameInformation) => {\r\n        console.log('hit send invite')\r\n        const { id } = this.props.user.user\r\n        client.send(JSON.stringify({type: 'gameInvite',gameInformation:gameInformation}))\r\n    }\r\n    \r\n    // --- get user_id from props. this is used to invite other users to join an activity --- //\r\n    getUniqueID = () => {\r\n        const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n        return s4() + s4() + '-' + s4();\r\n      };\r\n    getUserID = (to) => {\r\n        console.log('hit \"sendUserId')\r\n        const { id,photo } = this.props.user.user\r\n        var { currentGame } = this.state\r\n        // var newChallenge = [...challengeUser]\r\n        // const gameID = this.getUniqueID()\r\n        var gameInformation = {\r\n            to:to,\r\n            from:id,\r\n            isAccepted:false,\r\n            photo:photo,\r\n            gameID:currentGame\r\n\r\n        }\r\n        // this.setState({currentGame:gameID})\r\n        this.sendInvite(gameInformation)\r\n    }\r\n\r\n    handleInput = (prop,val) => {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    resetView(){\r\n        this.setState({\r\n            showCollections:true,\r\n            showUserInfo:false,\r\n            showEditUserInto:false,\r\n            showCreateProject:false,\r\n            showGames:false,\r\n            showFriends:false,\r\n            showPhotos:false,\r\n        })\r\n    }\r\n\r\n    handleCollections(params){\r\n        this.setState({isView:'isCollections'})\r\n        console.log(this.state.isView)\r\n    }\r\n    \r\n    \r\n    hideView(params) {\r\n        this.receiveInvite()\r\n        this.resetView()\r\n        switch (params) {\r\n            case 'showUserInfo':\r\n                this.setState({ showUserInfo : !this.state.showUserInfo })\r\n                break;\r\n            case 'showCollections':\r\n                this.setState({ showCollections : true })\r\n                break;\r\n            case 'showAdminPage':\r\n                this.setState({ showAdminPage : !this.state.showAdminPage})\r\n                break;\r\n            case 'showEditUserInfo':\r\n                this.setState({ showEditUserInto : true})\r\n                break;\r\n            case 'showCreateProject':\r\n                this.setState({showCreateProject : true})\r\n                break;\r\n            case 'showGames':\r\n                this.setState({showGames:true})\r\n                break;\r\n            case 'showFriends':\r\n                this.setState({ showFriends : true, showCollections:false})\r\n            case 'showPhotos':\r\n                this.setState({showPhotos:true,showCollections:false})\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    deleteFromFirebase(url){\r\n        const storageRef = app.storage().refFromURL(url)\r\n        storageRef.delete().then(function deleted(params) {\r\n            console.log('image deleted')\r\n        }).catch(function (error) {\r\n            console.log('there was an error')\r\n        })\r\n    }\r\n\r\n    handleFriends(){\r\n        this.setState({isView:'isFriends'})\r\n    }\r\n\r\n    pleaeLogin(){\r\n        alert('please log in')\r\n    }\r\n\r\n    render(){\r\n        const { photos,previewImageFile,photoUrl,showCollections,showUserInfo,items,isLoading,showCreateProject,showEditUserInto,showGames,showFriends,friends,requests,challengeUser,currentGame,currentPhoto,showPhotos  } = this.state\r\n        const { isLoggedIn } = this.props.user\r\n        const { photo,auth,name,is_admin,background_url,user,email,id} = this.props.user.user\r\n\r\n    return(\r\n        <div>\r\n            {!isLoggedIn ? (<Route path=\"/\" component={Home}/>) : (\r\n            <div className=\"user-page\">\r\n            {isLoading ? <Loading/> : null}\r\n            <section className=\"column1\">\r\n                <img src={background_url} className='background-photo' />\r\n                   {challengeUser === null ? null: <GameInvite challengeUser={challengeUser} changeGameID={this.changeGameID} hideView={this.hideView} /> }\r\n\r\n                    {/* <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',color:'#fff'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg> */}\r\n\r\n                <div className=\"portrait\">\r\n                    <img className=\"profile-photo\" \r\n                    src={photo}\r\n                    alt=\"photo\"/>\r\n\r\n                \r\n                    {/* <input className='user-photo-file-input '\r\n                    style={{position:'absolute',top:'0px',left:'0px',width:'20px',height:'20px'}}\r\n                    type=\"file\"\r\n                    accept=\"image/png,image/jpeg\"\r\n                    \r\n                    onChange={e => this.handlePhoto(e)} \r\n                    /> */}\r\n\r\n                    {/* <input className='user-photo-file-input '\r\n                    style={{position:'absolute',top:'190px',right:'55%',width:'20px',height:'20px'}}\r\n                    type=\"file\"\r\n                    accept=\"image/png,image/jpeg\"\r\n                    onChange={e => this.handlePhoto(e)} \r\n                    />\r\n\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" style={{position:'absolute',top:'190px',right:'50%'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                    </svg> */}\r\n\r\n                    <h4 className=\"portrait-row\" style={{textTransform:'none'}} >{this.props.user.user.user}</h4>\r\n                    <div className='portrait-row' style={{flexWrap:'wrap',justifyContent:'center',width:'300px'}}>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showEditUserInfo')}><p style={{marginTop:'5px'}}  >My Info</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}}  onClick={() => this.hideView('showCreateProject')} ><p style={{marginTop:'5px'}} >Create</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}}  onClick={() => this.hideView('showGames')} ><p style={{marginTop:'5px'}} >Games</p></div>\r\n\r\n                        <div className='user-buttons' style={{marginTop:'10px'}}  onClick={() => this.hideView('showPhotos')} ><p style={{marginTop:'5px'}} >Photos</p></div>\r\n\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showFriends')} ><p style={{marginTop:'5px'}} >Friends</p></div>\r\n                        <div className='user-buttons' style={{marginTop:'10px'}} onClick={() => this.hideView('showCollections')} ><p style={{marginTop:'5px'}} >Collections</p></div>\r\n                    </div>\r\n \r\n                    <div className='portrait-row' >{is_admin ? (<Link to={'/admin'} style={{ textDecoration:'none' }}><p className='go-to-admin'>admin</p></Link>) : null}  </div>\r\n\r\n                </div>\r\n                <UserInfo user={user} name={name} email={email} id={id} setIsLoading={this.setIsLoading} deleteFromFirebase={this.deleteFromFirebase} />\r\n\r\n            </section>\r\n\r\n            <section className=\"column2\">\r\n\r\n                {showGames === true ? <Table hideView={this.hideView} challengeUser={challengeUser} client={client} currentGame={currentGame} /> : null}\r\n\r\n                {showEditUserInto === true ? <EditUserInfo setIsLoading={this.setIsLoading} resetView={this.resetView} updateUser={this.props.updateUser} /> : null}\r\n\r\n                {showCollections === true ? <Collections setIsLoading={this.setIsLoading} photo_url={photo} resetView={this.resetView} showCreateProject={showCreateProject}/> : null} \r\n\r\n                {showFriends === true ? <DisplayFriends id={id} getUserID={this.getUserID} /> : null }\r\n                \r\n                {showPhotos === true ? <PhotoAlbum id={id} handlePhoto={this.handlePhoto} removingPhoto={this.removingPhoto} setIsLoading={this.setIsLoading} /> : null }\r\n\r\n                {/* {previewImageFile != null ? <ImagePreview previewImageFile={previewImageFile} photo_url={photoUrl} addPhoto={this.addingPhoto} handleInput={this.handleInput} /> : null} */}\r\n            </section>\r\n        </div>\r\n        )}\r\n        </div>\r\n        )}\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{getProjects,updateUser,addNewModel})(UserPage)\r\n\r\n\r\n/*\r\nuserinfo\r\nmodels/colections\r\nfriends\r\nedit\r\ngroups\r\n*/","export default __webpack_public_path__ + \"static/media/cdLabs-logo-1-alpha.8a76484b.png\";","export default __webpack_public_path__ + \"static/media/MM3D2333x50orthofff.66b36e66.png\";","export default __webpack_public_path__ + \"static/media/CDinits.d5585836.png\";","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport { loginUser,logoutUser,updateUser,autoLogin,remoteLogin } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport './Header.css'\r\nimport { Link } from 'react-router-dom'\r\nimport MobileLogin from '../MobileLogin/MobileLogin'\r\nimport UserPage from '../UserPage/UserPage'\r\nimport { withRouter } from 'react-router'\r\nimport Loading from '../Loading/Loading'\r\nimport cdLabs3d from '../../assets/cdLabs-logo-1-alpha.png'\r\n// import cdLabs300300 from '../../assets/cdlabs-300x300.png'\r\nimport MM3D1 from '../../assets/MM3D2333x50orthofff.png'\r\n// import MBox from '../../assets/MBox.png'\r\n// import MBox from '../../assets/MBoxOrtho.png'\r\nimport CDinits from '../../assets/CDinits.png'\r\n\r\n\r\nclass Header extends Component{\r\n    constructor(props){\r\n        super();\r\n\r\n        this.state = {\r\n            username:{},\r\n            user_name:'',\r\n            password:'',\r\n            setPermission:true,\r\n            isLoggedInState:null,\r\n            saveSession:false,\r\n            unique_id:null,\r\n        }\r\n        this.handleLogging = this.handleLogging.bind(this)\r\n        this.resetState = this.resetState.bind(this)\r\n        this.toggleMenu = this.toggleMenu.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.handlePassword = this.handlePassword.bind(this)\r\n        this.handleUserName = this.handleUserName.bind(this)\r\n        this.toggleLogin = this.toggleLogin.bind(this)\r\n        this.handleLogout = this.handleLogout.bind(this)\r\n        this.setSaveSession = this.setSaveSession.bind(this)\r\n\r\n    // --- this function saves user info to browser\r\n        this.sessionToWindow = this.sessionToWindow.bind(this)\r\n        // this.trackingHandler = this.trackingHandler.bind(this)\r\n    }\r\n\r\n    sessionToWindow(prop,val) {\r\n        localStorage.setItem(prop,val)\r\n    }\r\n\r\n    async componentDidMount(prevProps) {\r\n        \r\n        const visited = localStorage['visited']\r\n        const browser = localStorage['assigned_browser']\r\n        const savedUsername = localStorage['user_name']\r\n        // const savedPassword = localStorage['password']\r\n        \r\n        // const last_visit = new Date().toString().split('(')[0]\r\n        const last_visit = new Date()\r\n        \r\n        if(visited != undefined && localStorage['user_name'] != undefined){\r\n            // this.props.loginUser(savedUsername,savedPassword,last_visit,visited).catch(err =>{\r\n            this.props.autoLogin(savedUsername,last_visit,visited).catch(err => {\r\n                return console.log('there was an error',err)\r\n            })\r\n            \r\n        }\r\n\r\n        const getUniqueID = () => {\r\n            const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n            return s4() + s4() + '-' + s4();\r\n          };\r\n\r\n        if (visited === undefined) {\r\n            const unique_id = getUniqueID()\r\n            const assigned_browser = getUniqueID()\r\n            this.sessionToWindow('visited',unique_id)\r\n            this.sessionToWindow('assigned_browser',assigned_browser)\r\n            // axios.post('/api/track/new/',{unique_id}).then(res => this.sessionToWindow('visited',res.data))\r\n            // axios.post('/api/track/new/',{unique_id,assigned_browser}).then(res => \r\n            //     this.sessionToWindow('browser_id',res.data)\r\n            //     )\r\n        }\r\n        //  else {\r\n            // const unique_id = browser\r\n            \r\n            // axios.post('/api/track/increment/',{unique_id,last_visit,browser}).catch(err => {\r\n            //     console.log('here is the error',err)\r\n            //     localStorage.removeItem('visited')\r\n            //     const unique_id = getUniqueID()\r\n            //     axios.post('/api/track/new/',{unique_id,browser}).then(res => this.sessionToWindow('visited',res.data))\r\n            // })\r\n            // this.setState({unique_id:localStorage['visited']})\r\n        // }\r\n        if(visited !== undefined){\r\n            this.setState({unique_id:visited})\r\n        }\r\n        return\r\n    }\r\n    \r\n    componentWillUpdate(){\r\n        const { setPermission } = this.state\r\n        const { user } = this.props\r\n        // console.log('hit update')\r\n        // this.trackAdminUser()\r\n        if(user.isLoggedIn === true && setPermission===true){\r\n            if(user.user.is_admin === true) {this.trackAdminUser(true)}\r\n            this.setState({username:user.user.user.user,isLoggedInState:user.isLoggedIn,setPermission:false})\r\n        }   \r\n    }\r\n\r\n    resetState(){\r\n        this.setState({\r\n            setPermission:false,\r\n            username:{},\r\n            user_name:'',\r\n            password:'',\r\n            isMenuOpen:false,\r\n            toggleHideLoggin:true\r\n        })\r\n    }\r\n\r\n    // --- handles tracked info --- //\r\n    // trackingHandler(tag) {\r\n    //     const { unique_id } = this.state\r\n    //     if(unique_id !== null){\r\n            \r\n    //         switch(tag) {\r\n    //             case 'login':\r\n    //                 return axios.post('/api/track/login/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //             case 'projects':\r\n    //                 return axios.post('/api/track/projects/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //             case 'about':\r\n    //                 return axios.post('/api/track/about/click/',{unique_id,tag}).catch(err => {console.log(err)})\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    //  --- this block identifies brower as used during developent --- //\r\n    trackAdminUser = (params) => {\r\n        // const { is_admin } = this.props.user.user\r\n        \r\n        const unique_id = localStorage['visited']\r\n        const isAdmin = params\r\n        // console.log('hit in header',unique_id,params)\r\n        if(params === true && unique_id !== undefined){\r\n            axios.post('/api/tracking/setIsAdmin',{unique_id,isAdmin}).then().catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    // --- ----------------------- --- //\r\n\r\n    handleLogging(){\r\n        const { user_name, password } = this.state\r\n        const { loginUser,logoutUser } = this.props\r\n        const last_visit = new Date()\r\n        \r\n        const visited = localStorage['visited']\r\n\r\n        this.toggleLogin()\r\n        if(this.props.isLoggedIn === false){\r\n            loginUser(user_name,password,last_visit,visited)\r\n        } else {logoutUser()}\r\n    }\r\n\r\n    toggleMenu(){\r\n        this.setState({isMenuOpen: !this.state.isMenuOpen})\r\n    }\r\n\r\n    async handleClick(signInName,signInPass,saveMyInfo) {\r\n        const { menuOpen } = this.props.user \r\n        const { user_name, password } = this.state\r\n        const visited = localStorage['visited']\r\n        const last_visit = new Date()\r\n        // console.log('is visited defined',localStorage)\r\n        await this.props.loginUser(signInName,signInPass,last_visit,visited)\r\n\r\n        if (saveMyInfo === true && this.props.user.isLoggedIn === true) {\r\n            localStorage.setItem('user_name',signInName)\r\n            // localStorage.setItem('password',signInPass)\r\n        } else {localStorage.removeItem('visited')}\r\n        // this.props.remoteLogin(!menuOpen)\r\n        this.toggleLogin()\r\n        this.setState({user_name:'',password:''})\r\n    }\r\n\r\n    handleLogout() {\r\n        const { menuOpen } = this.props.user\r\n        const getUniqueID = () => {\r\n            const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n            return s4() + s4() + '-' + s4();\r\n          };\r\n        localStorage.removeItem(\"user_name\");\r\n        localStorage.setItem(\"visited\",getUniqueID())\r\n        this.toggleLogin()\r\n        this.props.logoutUser()\r\n    }\r\n\r\n    handleUserName(value){\r\n        this.setState({...this.state,user_name:value})\r\n    }\r\n\r\n    handlePassword(value){\r\n        this.setState({...this.state,password:value})\r\n    }\r\n\r\n    toggleLogin(){\r\n        const { loginOpen } = this.props.user\r\n        this.props.remoteLogin(!loginOpen)\r\n        // this.trackingHandler('login')\r\n        // this.setState({openLogin: !this.state.openLogin})\r\n    }\r\n\r\n    setSaveSession() {\r\n        this.setState({saveSession:!this.state.saveSession})\r\n    }\r\n\r\n            \r\n    \r\n\r\n    render() {\r\n        const { saveSession, username, unique_id, isMenuOpen, user_name, password, isLoggedInState } = this.state\r\n        const { isLoggedIn,isLoading,loginOpen } = this.props.user\r\n        const { photo,user } = this.props.user.user\r\n\r\n    return(\r\n        \r\n        <div className='header-container'>\r\n            {isLoading === true ? <Loading /> : null}\r\n            <img onClick={this.viewTheWindow}\r\n                // src=\"https://firebasestorage.googleapis.com/v0/b/depot-7bb3e.appspot.com/o/logo.png?alt=media&token=3d889013-f357-4d66-adc2-286bdb367ce6\"\r\n                src={cdLabs3d}\r\n                className=\"cd-logo\"\r\n                // style={{height:'120%'}}\r\n                />\r\n\r\n            {/* --- trims logo for smaller displays - might not get used -- */}\r\n            <img onClick={this.viewTheWindow}\r\n                src={CDinits}\r\n                className=\"cd-logo-small\"\r\n                />\r\n\r\n            {/* <Link to=\"/\" style={{textDecoration: 'none', color:'#fff' }}><h3 className=\"header-h3\">{isLoggedIn ? `Welcome, ${this.props.user.user.user}!` :'MadModels3d'}</h3></Link> */}\r\n            {/* <Link to=\"/\" style={{textDecoration: 'none', color:'#fff' }}><h3 className=\"header-h3\">{'MadModels3d'}</h3></Link> */}\r\n            <Link to=\"/\" style={{textDecoration: 'none', color:'#fff' }}><img className=\"mm3d-logo\" src={MM3D1}/></Link>\r\n            {/* <Link to=\"/\" style={{textDecoration: 'none', color:'#fff' }}><img className=\"mm3d-logo-small\" src={MBox}/></Link> */}\r\n            \r\n            <ul className='link-list'>\r\n                <Link to=\"/about\" style={{ textDecoration: 'none' }}><li className='link-item'><a >About</a></li></Link>\r\n                <Link to=\"/explore\" style={{ textDecoration: 'none' }}><li className='link-item'><a>Explore</a></li></Link>\r\n                {!isLoggedIn ? (<div></div>) : (<Link to=\"/user\" style={{ textDecoration: 'none' }}><li className='link-item'><a>{user}</a></li></Link>)}\r\n            </ul>\r\n\r\n            {!isLoggedIn ? (<h4 className=\"login-link\" onClick={this.toggleLogin} >Login</h4>):(<h4 className=\"login-link\" onClick={this.toggleLogin} >Log Out</h4>)}\r\n\r\n            {isLoggedIn ? <Link to=\"/user\" ><img src={photo} className=\"loggedin-user-photo\" /></Link> : null} \r\n\r\n            <svg className=\"hamburger\" onClick={this.toggleMenu} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path className='lines' stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                <path className='dots' strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n            </svg>\r\n\r\n            {/* ---------- MOBILE NAV ---------------------------- */}\r\n            <ul className={`mobile-nav ${isMenuOpen ? false : 'mobile-nav-hide'}`} style={{paddingTop:'10px'}} onClick={() => this.toggleMenu()} >\r\n\r\n                {!isLoggedIn ? (isMenuOpen === true ? <li className='mobile-link-item' onClick={this.toggleLogin}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" style={{color:'#fff',marginLeft:'20[x'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\r\n                </svg>\r\n                    <a>Login</a>\r\n                    </li> : null)\r\n                    :\r\n                    (isMenuOpen === true ?  <li className='mobile-link-item' onClick={this.toggleLogin}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" style={{color:'#fff',marginLeft:'20[x'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n                </svg>\r\n                <a>Logout</a>\r\n                </li> : null)}\r\n\r\n                {isMenuOpen === true ? <Link to=\"/about\" style={{ textDecoration: 'none' }}><li className='mobile-link-item' >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                    <a>About</a></li></Link> : null}\r\n                {isMenuOpen === true ? <Link to=\"/explore\" style={{ textDecoration: 'none' }}><li className='mobile-link-item'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n                </svg>\r\n                    <a>Explore</a></li></Link> : null}\r\n                {!isLoggedIn === true && isMenuOpen === true ? (<div></div>) : (isMenuOpen === true ? <Link to=\"/user\" style={{ textDecoration: 'none' }}><li className='mobile-link-item'>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"header-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2\" />\r\n                </svg>\r\n                <a>My page</a></li></Link> : null)}\r\n            </ul>\r\n            {/* ----------------------------------------------------------------- */}\r\n\r\n                {loginOpen ? (<MobileLogin current_user={user_name} setSaveSession={this.setSaveSession} logout={this.handleLogout} execute={this.handleClick} name={this.handleUserName} pass={this.handlePassword} hide={this.state.openLogin} exit={this.toggleLogin} isLoggedIn={this.props.user.isLoggedIn} saveSession={saveSession} />):(<div className=\"blank-div\"></div>)}\r\n        </div>\r\n          \r\n    )}\r\n} \r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {loginUser, logoutUser, updateUser, autoLogin, remoteLogin})(Header)","import React, { Component } from 'react'\r\nimport './FeaturedProjects.css'\r\nimport data from '../../data.js'\r\nimport Project from './Project'\r\nimport { connect } from 'react-redux';\r\n// import { getProjects } from '../../ducks/projectsReducer'\r\nimport { updateCharacters } from '../../ducks/breakingBadReducer'\r\nimport { getModels } from '../../ducks/modelsReducer'\r\nimport axios from 'axios';\r\n\r\nclass FeaturedProjects extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            featured: [],\r\n            reduxFeatured:[], //for testing modelsReducer\r\n            setPermission:true\r\n        }\r\n        // this.getRedux = this.getRedux.bind(this)\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n            // this.getRedux()\r\n        // this.getFromProps()\r\n\r\n            // this.props.getModels()\r\n            // const { data } = this.props.models.models\r\n            // // console.log(data)\r\n            // this.setState({...this.state,reduxFeatured:data})\r\n\r\n            // this code is the original and functional code to loading featrued projects---\r\n            axios.get('api/project/join').then(res => \r\n               this.setState({...this.state,featured:res.data}))\r\n    }\r\n\r\n    // getFromProps = async () => {\r\n    //     this.props.getModels()\r\n    //     const  { data } = this.props.models.models\r\n    //     this.setState({...this.state, reduxFeatured:data})\r\n    // }\r\n\r\n    // getRedux = async () => {\r\n    //     this.props.getModels()\r\n    //     const { data } = this.props.models.models\r\n    //     return this.setState({...this.state,featured:data})\r\n    // }\r\n\r\n    render(){\r\n        // const { data } = this.props.models.models\r\n        const { featured } = this.state\r\n        // for (var key in data) {\r\n        //     console.log(data[key])\r\n        // }\r\n\r\n        const mappedModels = featured.map(element => {\r\n            // return <Project data={element} key={element.user_id}/> // original\r\n            return <Project data={element} key={element.model_id}/>\r\n        })\r\n        return(\r\n            <div className=\"featured-projects\">\r\n                {/* <button onClick={this.handleReduxClick}>get redux</button> */}\r\n                {mappedModels}\r\n            {/* <button onClick={this.props.getModels}>click</button> */}\r\n                \r\n                {/* {console.log(data[3])} */}\r\n\r\n                {/* { this.props.models.isloading ? (\r\n                    <h3>loading</h3>\r\n                ) : (\r\n                    this.props.models.models.data.map(element => (\r\n                        <Project  key={element.model_id}/>\r\n                    ))\r\n                    // this.props.models.models.data.map(element => (\r\n                    //     <Project  data={element} key={element.model_id}/>\r\n                    // ))\r\n                )} */}\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\n// export default connect(mapStateToProps, { getModels,updateCharacters })(FeaturedProjects)\r\n\r\n// export default FeaturedProjects","import { useState, useEffect } from 'react'\r\nimport './GroupPage.css'\r\n\r\nconst GroupPage = (props) => {\r\n\r\n    return(\r\n        <div className=\"group-page\">\r\n            <ul>\r\n                {/* {mappedPeople} */}\r\n            </ul>\r\n            <h3>group page</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GroupPage","\r\nconst Document = (props) => {\r\n\r\n    const { content,tag,display } = props.data\r\n\r\n    return(\r\n    <div>\r\n        {display ? <div className=\"doc-containers\">\r\n            {/* <h4 className=\"about-h4\">about</h4> */}\r\n            <h4 className=\"about-h4\">{tag}</h4>\r\n            <div className=\"h4-border\"></div>\r\n            <p className=\"long-text\">\r\n                {content}\r\n            </p>\r\n        </div> : null}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Document","import { Color } from \"three\"\r\n\r\nconst OneLink = (props) => {\r\n\r\n    const { link_text, link_to, description } = props\r\n\r\n    return(\r\n        <div>\r\n            <a href={`https://www.${link_to}` } style={{textDecoration:'none'}}><h4 style={{textDecoration:'none',color:'blue'}}>{link_text}</h4></a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneLink","\r\nimport axios from 'axios';\r\nimport { Component } from 'react'\r\nimport OneLink from './OneLink'\r\n// import './About.css'\r\n\r\nexport default class Links extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state ={\r\n            link:'blender.org',\r\n            linkText:'Blender',\r\n            links:[],\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/links/get').then(res => {\r\n            this.setState({\r\n                links:res.data\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        \r\n        const { links } = this.state\r\n\r\n        const mappedLinks = links.map(element => {\r\n            return <OneLink link_to={element.link_to} link_id={element.link_id} link_text={element.link_text} description={element.description} />\r\n        })\r\n \r\n        return(\r\n            <div className=\"doc-containers\">\r\n                {mappedLinks}\r\n            </div>\r\n        )\r\n    }\r\n}","\r\nimport './Notice.css'\r\nimport { useState,useEffect } from 'react'\r\n\r\nconst Notice = (props) => {\r\n\r\n    useEffect(() => {\r\n        if(notDefault === undefined){setShowNotice(false)}\r\n    },[])\r\n\r\n    const [ showNotice, setShowNotice ] = useState(true)\r\n\r\n    const testFunc = () => {\r\n        alert('does it work')\r\n    }\r\n\r\n    const { item,content,notDefault } = props\r\n\r\n    return (\r\n        <div className={`notice-container ${item} ${showNotice ? true : 'hidden'}`}>\r\n            <p style={{color:'#fff',textTransform:'none'}}>{content}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notice","import { Component } from 'react'\r\nimport './About.css'\r\nimport Document from './../Document'\r\nimport axios from 'axios'\r\nimport data from '../../data';\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../ducks/userReducer';\r\nimport UserPage from '../UserPage/UserPage';\r\nimport Links from './Links/Links';\r\nimport Notice from '../Notice/Notice';\r\n\r\nclass About extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            about:[],\r\n            showAbout:true,\r\n            general:[],\r\n            showGeneral:true,\r\n\r\n            mainSelected:true,\r\n            linksSelected:false\r\n        }\r\n        this.changeView = this.changeView.bind(this)\r\n        this.resetView = this.resetView.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/documents/about').then(res => {\r\n            this.setState({\r\n                about:res.data\r\n            })\r\n        })\r\n        axios.get('/api/documents/general').then(res => {\r\n            this.setState({general:res.data})\r\n        })\r\n    }\r\n\r\n    resetView = () => {\r\n        this.setState({\r\n            mainSelected:false,\r\n            linksSelected:false\r\n        })\r\n    }\r\n\r\n    changeView = (params) => {\r\n        this.resetView()\r\n        switch(params) {\r\n            case 'main':\r\n                this.setState({mainSelected:true})\r\n                break;\r\n            case 'links':\r\n                this.setState({linksSelected:true})\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n        render(){\r\n\r\n            const { about,general,mainSelected,linksSelected } = this.state\r\n\r\n            const mappedAbout = about.map(element => {\r\n                return <Document data={element} key={element.doc_id} />\r\n            })\r\n\r\n            const mappedGeneral = general.map(element => {\r\n                return <Document data={element} key={element.doc_id} />\r\n            })\r\n\r\n            return(\r\n                <div>\r\n                    <div className=\"sub-header\">\r\n                        {!mainSelected ? (<a onClick={() => this.changeView('main')}>main</a>) : (<a className=\"a-selected\" >main</a>)}\r\n                        {!linksSelected ? (<div className='about-header-item'><Notice item={'about-links'} content={'Resources'} /><a onClick={() => this.changeView('links')}>links</a></div>) : (<a className=\"a-selected\">links</a>)}\r\n                    </div>\r\n                    <div className=\"about-container\">   \r\n                        {mainSelected ? <div>{mappedAbout}</div> : null}\r\n                        {mainSelected ? <div>{mappedGeneral}</div> : null}\r\n                        {linksSelected ? <Links /> : null}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser})(About)","import React, { Component } from 'react'\r\nimport './Explore.css'\r\nimport Project from '../FeaturedProjects/Project'\r\nimport VideoPlayer from '../VideoPlayer/VideoPlayer'\r\nimport Loading from '../Loading/Loading'\r\nimport { loginUser,updateUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport axios from 'axios'\r\n\r\nclass Explore extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            data:[],\r\n            names:[],\r\n            videos:[],\r\n            userId:null,\r\n            likes:[],\r\n            projectSearch:\"\",\r\n            openSearchBar:false,\r\n            isLoading:false,\r\n\r\n    // --- select items to view --- //\r\n            viewModels:true,\r\n            viewVideos:false,\r\n        }\r\n        this.addLike = this.addLike.bind(this)\r\n        this.handleClick = this.handleClick.bind(this)\r\n        this.updateState = this.updateState.bind(this)\r\n        this.projectIsLiked = this.projectIsLiked.bind(this)\r\n        this.handleText = this.handleText.bind(this)\r\n        this.openSearch = this.openSearch.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.updateState()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.props.updateUser()\r\n    }\r\n\r\n    setIsLoading() {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    async updateState(){\r\n        await this.setIsLoading()\r\n        await axios.get('/api/project/join').then(res =>\r\n            this.setState({ ...this.state,data:res.data}))\r\n\r\n        await axios.get('/api/videos/get').then(res2 => {\r\n            this.setState({videos:res2.data})\r\n        })\r\n        await this.setIsLoading()\r\n    }\r\n\r\n    addLike(params_id){\r\n        const { data } = this.state\r\n        const { id } = this.props.user.user\r\n        const user_id = id\r\n        console.log('this is add like()',user_id)\r\n        \r\n        const { userId } = this.state\r\n        if(user_id != undefined){\r\n            axios.post('/api/projects/like', { user_id, params_id }).then(res => {\r\n            })\r\n                for(let key in data){\r\n                    if (data[key].model_id === params_id) {\r\n                    console.log(key,data[key],data[key].likes)\r\n                    }\r\n                }\r\n        } else {\r\n            alert('please sign in')\r\n        }\r\n    }\r\n\r\n    handleClick(){\r\n        this.addLike()\r\n    }\r\n\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    handleText = (prop,val) => {\r\n        this.setState({\r\n            [prop]:val,\r\n        })\r\n    }\r\n\r\n    openSearch = () => {\r\n        this.setState({openSearchBar:!this.state.openSearchBar})\r\n    }\r\n\r\n    changeView = (param) => {\r\n        this.resetView()\r\n        switch(param) {\r\n            case '3D Models':\r\n                this.setState({viewModels:true})\r\n                break;\r\n            case 'Videos':\r\n                this.setState({viewVideos:true})\r\n                break;\r\n        }\r\n    }\r\n    resetView = () => {\r\n        this.setState({\r\n            viewModels:false,\r\n            viewVideos:false,\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        const { data,projectSearch,openSearchBar,videos,isLoading } = this.state\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_likes,model_likes,id } = this.props.user.user\r\n\r\n        const filterProjects = data.filter(element => element.name.toString().includes(projectSearch))\r\n\r\n        const mappedData = filterProjects.map(element => {\r\n            return <Project data={element} key={element.model_id} projectIsLiked={this.projectIsLiked} handleClick={this.handleClick} isLoggedIn={isLoggedIn} likes={element.likes} id={id} user_likes={user_likes} />\r\n        })\r\n\r\n        const mappedVideos = videos.map(el => {\r\n            return <VideoPlayer key={el.video_id} video_url={el.video_url} category={el.category} tag={el.tag} firebase_url={el.firebase_url} photo_url={el.photo_url} user_name={el.user_name} name={el.name} video_name={el.video_name}  />\r\n        })\r\n    \r\n        // const mappedData = data.map(element => {\r\n        //     return <Project data={element} key={element.model_id} projectIsLiked={this.projectIsLiked} handleClick={this.handleClick} isLoggedIn={isLoggedIn} likes={element.likes} id={id} user_likes={user_likes} />\r\n        // })\r\n\r\n        return(\r\n            <div >\r\n            {isLoading === true ? <Loading /> : null}\r\n            <div className=\"sub-header\" style={{position:'absolute'}}>\r\n                <a onClick={() => this.changeView('3D Models')} className={`null ${!this.state.viewModels ? true : 'a-selected'}`} >3D Models</a>\r\n                <a onClick={() => this.changeView(\"Videos\")} className={`null ${!this.state.viewVideos ? true : 'a-selected'}`} >Videos</a>\r\n            </div>\r\n            <div className=\"explore-container\" style={{paddingTop:'25px'}}>\r\n                {/* className for \"about header\" is in About.css and App.css */}\r\n                {/* <div className=\"about-header-closed project-search\" style={{marginLeft:'0px',width:'100%'}}>  */}\r\n                <div className={`search-menu ${!isLoggedIn ? true : 'slide-over'} ${openSearchBar ? true : `search-menu-closed ${!isLoggedIn ? true : 'slide-over'}`}`} >\r\n\r\n                    <svg onClick={() => this.openSearch()} style={{width:'25px',opacity:'.5'}} xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                    </svg>\r\n                    <div className={`show-bar ${openSearchBar ? false : `dont-show-bar`}`}>\r\n                    <input placeholder=\"search\" type=\"text\" style={{height:'25px',width:'100px',borderRadius:'10px',color:'#fff',marginLeft:'10px'}} onChange={e => this.handleText(\"projectSearch\",e.target.value)} ></input>\r\n                    </div>\r\n                </div>\r\n                {this.state.viewModels === true ? mappedData : null}\r\n                {this.state.viewVideos === true ? mappedVideos : null}\r\n            </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser })(Explore)","import { useState, useEffect } from 'react'\r\n\r\nconst Sites = (props) => {\r\n\r\n    return(\r\n        <div>\r\n            <h3>{}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sites","import { useState, useEffect } from 'react'\r\nimport './Register.css'\r\nimport { registerUser } from '../../ducks/userReducer'\r\nimport {connect} from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Agreement from './Agreement'\r\n\r\nconst Register = (props) => {\r\n\r\n    const [ user_name, setUserName ] = useState('')\r\n    const [ password, setPassword ] = useState('')\r\n    const [ email, setEmail ] = useState('')\r\n    const [ first_name, setFirstName] = useState('')\r\n    const [ last_name, setLastName ] = useState('')\r\n    const [ photo_url, setPhoto ] = useState('')\r\n    const [ is_admin ] = useState(false)\r\n    const [ is_sudo ] = useState(false)\r\n    const [ iAgree, setIAgree ] = useState(false)\r\n    const [ openIAgree, setOpenIAgree ] = useState(false)\r\n    \r\n\r\n    useEffect(() => {\r\n        console.log('props from Register',props)\r\n    },[])\r\n\r\n    // function handlePhotoInput(params){\r\n    //     setPhoto(params)\r\n    // }\r\n\r\n    function plsAgree() {\r\n        alert('please agree to conditions')\r\n    }\r\n\r\n    function handleOpenIAgree() {\r\n        setOpenIAgree(!openIAgree)\r\n    }\r\n\r\n    function executeRegister(){\r\n        props.registerUser(user_name, password, email, first_name, is_admin, is_sudo)\r\n    }\r\n\r\n    return(\r\n        <div className=\"signup-menu\">\r\n\r\n            {!openIAgree ? <div><h2 style={{color:'#555'}}>Register</h2>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Username</p>\r\n                <input value={user_name}  onChange={e => setUserName(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Password</p>\r\n                <input className=\"text-bar\" value={password} onChange={e => setPassword(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Email</p>\r\n                <input  value={email} onChange={e => setEmail(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">First Name</p>\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)}></input>\r\n            </div>\r\n            <div className=\"one-line\">\r\n                <p className=\"text\">Last Name</p>\r\n                <input value={first_name} onChange={e => setFirstName(e.target.value)}></input>\r\n            </div>\r\n\r\n            <div className=\"agreement-check\">\r\n                <input type=\"checkbox\" style={{marginRight:'20px',marginTop:'5px'}} onChange={e => setIAgree(!iAgree)}/>\r\n                \r\n                <h5 style={{color:'blue',fontWeight:'200'}} onClick={handleOpenIAgree}>terms of use</h5>\r\n                {/* {!openIAgree ? (<Agreement/>) : (null)} */}\r\n                {/* <Link to={'/agreement'}><h5 style={{color:'blue'}}>terms of use</h5></Link> */}\r\n            </div>\r\n            \r\n\r\n            { iAgree ? <div className=\"register-link\" onClick={executeRegister}>\r\n                <h4>signup now</h4>\r\n            </div>\r\n            :\r\n            <div className=\"register-link\" onClick={plsAgree}>\r\n                <h4>signup now</h4>\r\n            </div>}</div> : <Agreement handleOpenIAgree={handleOpenIAgree} />}\r\n\r\n        </div>\r\n    )\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\nexport default connect(mapStateToProps,{registerUser})(Register)\r\n","import axios from 'axios'\r\nimport { useEffect, useState } from 'react'\r\nimport './Project.css'\r\nimport { connect } from 'react-redux'\r\nimport { deleteFile } from '../../ducks/firebaseReducer'\r\n// import {app} from '../../base'\r\n// const db = app.firestore()\r\n// import logo from './../../assets/logo.png'\r\n\r\nconst ProjectPhotos = (props) => {\r\n\r\n    \r\n    const { firebase_url01, firebase_url, name, model_id } = props.data\r\n    const { first_name, photo_url, user_name } = props.userInfo[0]\r\n    const { isLoggedIn,url,maker_id,id } = props\r\n    \r\n    // -- Delete individual / selected photo from FB and DB -- //\r\n    const deletePhotoFromDB = async (url) => {\r\n        await deleteFile(url)\r\n        const deleted = await axios.post(`/api/projects/photos/delete/`,{url})\r\n        await props.getImages()\r\n        setOpenMenu(!openMenu)\r\n        return deleted\r\n    }\r\n\r\n    // -- Displays selected photo as main photo for this project -- //\r\n    const makeMainPhoto = () => {\r\n        setOpenMenu(!openMenu)\r\n        axios.post('/api/projects/photos/change/main/',{model_id,url})\r\n    }\r\n\r\n    const [ openMenu,setOpenMenu ] = useState(false)\r\n\r\n    return(\r\n        <div className=\"left\">\r\n            {maker_id === id ? <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"edit-photo-button\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} onClick={() => setOpenMenu(!openMenu)} >\r\n                {openMenu === false ? <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />:\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />}\r\n            </svg> : null}\r\n\r\n            {openMenu === true && maker_id === id ? <div className='friend-options' style={{top:'30px',left:'15px',height:'85px',width:'210px'}}>\r\n\r\n                <div className='friend-menu-row' style={{width:'250px'}} onClick={() => makeMainPhoto()} >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    <p className='friend-menu-text' >\r\n                        Display As Main Photo\r\n                    </p>\r\n                </div>\r\n\r\n                <div className='friend-menu-row' style={{width:'250px'}} onClick={() => deletePhotoFromDB(url)} >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                </svg>\r\n                    <p className='friend-menu-text' >\r\n                        Delete This Photo\r\n                    </p>\r\n                </div>\r\n\r\n            </div> : null}\r\n            <div className={`detail-photo-main`}><img src={url} className=\"detail-photo\"/></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (reduxState) => {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProjectPhotos)","import React, { Component } from 'react'\r\nimport './Comments.css'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../../ducks/userReducer'\r\nimport axios from 'axios'\r\nimport { useState } from 'react'\r\n\r\nconst Comments = (props) => {\r\n\r\n    const { content,date_created,user_name,photo_url,user_id,comment_id } = props\r\n    const { id } = props.user.user\r\n    const [menuOpen,setMenuOpen] = useState(false)\r\n\r\n    const deletePost = async () => {\r\n        // match logged in user id with comment author id\r\n        console.log('hit delete post front end')\r\n        if(user_id === id) {\r\n            await axios.delete(`/api/comments/user/delete/${comment_id}`).then(() => {props.getComments()})\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"container-flex\">\r\n            <img src={photo_url} className='author-pic'/>\r\n            <div className='right-column-flex'>\r\n                <div className='comment-text'>\r\n                    <p >{content}</p>\r\n                \r\n                </div>\r\n                    {/* <a className='comment-menu' >delete</a> */}\r\n                {id != undefined && id === user_id ? <svg onClick={() => setMenuOpen(!menuOpen)} xmlns=\"http://www.w3.org/2000/svg\" className='comment-menu small-icon' style={{marginBottom:'10px',marginRight:'0px', height:'40px',width:'40px',opacity:'60%'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\r\n                </svg> : null}\r\n                {!menuOpen ? true : <ul className='friend-options' style={{width:'130px',height:'40px'}}>\r\n                    <li className='friend-menu-row' onClick={() => deletePost()} >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"friend-menu-icon\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2} >\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                        <p className='friend-menu-text' >Delete post</p>\r\n                    </li>\r\n                </ul>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { updateUser })(Comments)\r\n\r\n// export default Comments","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport './Comments.css'\r\n\r\n\r\nexport default class CreateComment extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            text:\"\"\r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.sendPost = this.sendPost.bind(this)\r\n    }\r\n\r\n    sendPost(isLoggedIn) {\r\n        const { text } = this.state\r\n        const { id,model_id,user } = this.props\r\n        if (isLoggedIn === true) {\r\n            axios.post('/api/comments/create',{id,model_id,user,text}).then(this.props.getComments)\r\n        } else {this.props.plsSignIn()}\r\n    }\r\n\r\n    \r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isLoggedIn } = this.props\r\n \r\n        return(\r\n            <div className=\"create-post\" style={{minHeight:'100px'}}>\r\n\r\n                <textarea className='comment-text-input post-input' value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                 <a className='add-button' onClick={() => this.sendPost(isLoggedIn)} style={{marginLeft:'200px'}} >send</a>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import './Project.css'\r\n\r\nconst DlUrl = (props) => {\r\n\r\n    const { url,isLoggedIn } = props\r\n\r\n    return(\r\n        <div>\r\n           { isLoggedIn ? <a className=\"dark-text\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">Download</a> : <a className=\"dark-text\" onClick={props.plsSignIn} >Download</a>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DlUrl","\r\nconst Description = (props) => {\r\n\r\n    const { description } = props\r\n\r\n    return (\r\n        // <div className=\"doc-containers\" style={{backgroundColor:'blue'}} >\r\n        <div>\r\n            <p className=\"doc-containers\" style={{color:'#555',maxHeight:'200px'}} >{description}</p>\r\n        </div>        \r\n    )\r\n}\r\n\r\nexport default Description","import './Project.css'\r\nimport { Link } from 'react-router-dom'\r\n// import { useEffect, useState } from 'react'\r\n// import logo from './../../assets/logo.png'\r\n\r\nconst TheMaker = (props) => {\r\n\r\n    // const { firebase_url01, firebase_url, name } = props.info\r\n    const { first_name, photo_url, user_name,info,maker_id } = props\r\n    // const { isLoggedIn } = props\r\n    \r\n\r\n    return(\r\n        // <Link to={`viewuser/${user_id}`} ><img src={getPhotoUrl()} className=\"project-user-photo\"/></Link>\r\n            <div className=\"detail-box\" style={{margin:'auto',marginTop:'5px'}}>\r\n                <img src={photo_url} className=\"logo-box\"/>\r\n                <p className=\"dark-text\">{info[0].name}<br/>by {user_name}</p>\r\n            </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default TheMaker","import { Component } from 'react'\r\nimport { Switch,Route,Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './Project.css'\r\nimport ProjectPhotos from './ProjectPhotos'\r\nimport Comments from './Comments/Comments'\r\nimport { loginUser, updateUser, remoteLogin } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport CreateComment from './Comments/CreateComment'\r\nimport DlUrl from './DlUrl'\r\nimport Description from './Description'\r\nimport TheMaker from './TheMaker'\r\nimport EditModel from './EditProject/EditModel'\r\nimport UserPage from '../UserPage/UserPage'\r\nimport Home from '../Home/Home'\r\nimport SVG from '../SVG'\r\n\r\nclass ProjectDetail extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            maker_id:null,\r\n            model_id:null,\r\n            dlUrl:\"\",\r\n            info:[],\r\n            userInfo:[],\r\n            comments:[],\r\n            files:[],\r\n            viewFiles:true,\r\n            viewComments:false,\r\n            viewDetails:false,\r\n            viewEditProject:false,\r\n            viewInfo:false,\r\n            myLike:false,\r\n            allLikes:[],\r\n            modelImages:[],\r\n            isDeleted:false,\r\n        // - image currently selected - // \r\n            selectedPhoto:null,\r\n        }\r\n        this.changeView = this.changeView.bind(this)\r\n        this.getDetails = this.getDetails.bind(this)\r\n        this.plsSignIn = this.plsSignIn.bind(this)\r\n        this.getComments = this.getComments.bind(this)\r\n        this.likeFunc = this.likeFunc.bind(this)\r\n        this.clickLike = this.clickLike.bind(this)\r\n        this.setIsDeleted = this.setIsDeleted.bind(this)\r\n        this.getImages = this.getImages.bind(this)\r\n        this.highLightedPhoto = this.highLightedPhoto.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { model_id } = this.props.match.params\r\n        const { user_likes,isLoggedIn } = this.props.user.user\r\n        // ---get project info by model_id --- //\r\n        this.getDetails().then((val) => console.log(val)) // original/working function\r\n        // --- get project images by model_is --- //\r\n        this.getImages()\r\n        // ---get project comments by model_id --- //\r\n        this.getComments()\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        const { model_id } = this.props.match.params\r\n        if (prevProps.match.params.model_id !== model_id) {\r\n            this.getDetails() // original / working function // --- make sure to use this if using getDetails() \r\n            this.getImages()\r\n        }\r\n    \r\n    }\r\n\r\n    async getImages() {\r\n        const { model_id } = this.props.match.params\r\n        console.log('hit getImages function')\r\n        axios.get(`/api/project/photos/get/${model_id}`).then((res) => {\r\n            this.setState({modelImages:res.data})\r\n        })\r\n    }\r\n\r\n\r\n    async getDetails(){\r\n\r\n        const { model_id } = this.props.match.params\r\n\r\n        await (\r\n            axios\r\n            .get(`/api/projects/id/${model_id}`)\r\n            .then((res) => {\r\n                const { user_id, } = res.data[0]\r\n                axios.get(`/api/users/${user_id}`).then((res2) => {\r\n                    const { id } = this.props.user.user\r\n                    const { isLoggedIn } = this.props.user\r\n                    axios\r\n                    .get(`/api/project/photos/get/${model_id}`)\r\n                    .then((res3) => {\r\n                        console.log('function')\r\n                        this.setState({\r\n                            maker_id:user_id,\r\n                            model_id:model_id,\r\n                            dlUrl:res.data.firebase_url,\r\n                            info:res.data,\r\n                            userInfo:res2.data,\r\n                            modelImages:res3.data,\r\n                            selectedPhoto:res.data[0].firebase_url01,\r\n                        })\r\n                    })\r\n                    if(isLoggedIn === true) {\r\n                        axios.post(`/api/project/getLike`, {id,model_id}).then((res4) => {\r\n                        if(res4.data.user_id != null) {\r\n                        this.setState({\r\n                            myLike:true\r\n                        })}\r\n                        } )\r\n                    }\r\n                })\r\n\r\n            })\r\n            .catch((err) => {\r\n                this.props.history.push('/404')\r\n            })\r\n        )\r\n        await axios.get('')\r\n\r\n    }\r\n\r\n    async getComments() {\r\n        const { model_id } = this.props.match.params\r\n        axios\r\n        .get(`/api/comments/id/${model_id}`)\r\n        .then((res) => {\r\n            this.setState({ comments : res.data})\r\n        })\r\n    }\r\n\r\n    resetView() {\r\n        this.setState({\r\n            viewFiles:true,\r\n            viewComments:false,\r\n            \r\n        })\r\n    }\r\n\r\n    changeView(params) {\r\n        switch (params) {\r\n            case 'viewComments':\r\n                if( this.state.viewComments === false){\r\n                this.setState({ \r\n                    viewComments : true,\r\n                    viewDetails : false,\r\n                    viewFiles : false,\r\n                    viewInfo : false,\r\n                    viewEditProject : false\r\n                })\r\n                }\r\n                break;\r\n            case 'viewDetails':\r\n                if ( this.state.viewDetails === true){\r\n                    this.setState({ viewDetails : !this.state.viewDetails})\r\n                }\r\n                break;\r\n            case 'viewFiles':\r\n                if ( this.state.viewFiles === false){\r\n                    this.setState({\r\n                        // viewFiles : !this.state.viewFiles\r\n                        viewFiles : true,\r\n                        viewComments : false,\r\n                        viewDetails : false,\r\n                        viewInfo : false,\r\n                        viewEditProject : false\r\n                    })\r\n                }\r\n                break;\r\n            case 'viewEditProject':\r\n                if (this.state.viewEditProject === false){\r\n                    this.setState({\r\n                        viewFiles : false,\r\n                        viewComments :false,\r\n                        viewDetails : false,\r\n                        viewInfo : false,\r\n                        viewEditProject : true\r\n                    })\r\n                }\r\n                break;\r\n            case 'viewInfo':\r\n                if (this.state.viewInfo === false){\r\n                    this.setState({\r\n                        viewFiles : false,\r\n                        viewComments :false,\r\n                        viewDetails : false,\r\n                        viewEditProject : false,\r\n                        viewInfo : true,\r\n                    })\r\n                }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    plsSignIn = () => {\r\n        window.scrollTo(0, 0)\r\n        this.props.remoteLogin(true)\r\n    }\r\n\r\n    likeFunc = async () => {\r\n        const { id } = this.props.user.user\r\n        const { model_id } = this.state\r\n        const user_id = id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        // await updateLikes(model_id)\r\n        this.setState({myLike:!this.state.myLike})\r\n    }\r\n\r\n    clickLike = () => {\r\n        const { isLoggedIn,loginOpen } = this.props.user\r\n        if (isLoggedIn === true) {\r\n            this.likeFunc()\r\n        } else {\r\n            window.scrollTo(0, 0)\r\n            this.props.remoteLogin(!loginOpen)\r\n        }\r\n    }\r\n\r\n    setIsDeleted = () => {\r\n        this.setState({isDeleted:!this.state.isDeleted})\r\n    }\r\n\r\n    highLightedPhoto = (url) => {\r\n        this.setState({\r\n            selectedPhoto:url\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { comments,model_id,maker_id,myLike } = this.state\r\n        // const { firebase_url01,firebase_url,user_id,description } = this.state.info\r\n        const { info, userInfo, viewComments, viewDetails, viewFiles, viewInfo, dlUrl,viewEditProject,modelImages,isDeleted,selectedPhoto } = this.state\r\n        const { isLoggedIn,loginOpen } = this.props.user\r\n        const { user,id,photo_url,user_likes } = this.props.user.user\r\n\r\n        const mappedDescription = info.map(el => {\r\n            return <Description key={el.model_id} description={el.description} />\r\n        })\r\n\r\n        const mappedUrl = info.map(element => {\r\n            return <DlUrl data={element} key={element.model_id} url={element.firebase_url} isLoggedIn={isLoggedIn} plsSignIn={this.plsSignIn} />\r\n        })\r\n        \r\n        const mappedComments = comments.map(element => {\r\n            return <Comments content={element.text} key={element.comment_id} model_id={element.model_id} date_created={element.date_created} photo_url={element.photo_url} comment_id={element.comment_id} user_id={element.user_id} user_name={element.user_name} getComments={this.getComments} />\r\n        })\r\n\r\n        const mappedPhoto = info.map(element => {\r\n            return <ProjectPhotos data={element} key={element.model_id} firebase_url={info[0].firebase_url} model_id={element.model_id} userInfo={userInfo} url={selectedPhoto} isLoggedIn={isLoggedIn} id={id} maker_id={maker_id} plsSignIn={this.plsSignIn} getImages={this.getImages} />\r\n        })\r\n\r\n        const mappedUserInfo = userInfo.map(element => {\r\n            return <TheMaker data={element} key={element.user_id} photo_url={element.photo_url} user_name={element.user_name} info={info} maker_id={maker_id} />\r\n        })\r\n\r\n        const mappedThumbNails = modelImages.map((el) => {\r\n            return <div key={el.image_id} onClick={() => this.highLightedPhoto(el.photo_url)} ><img className='thumbnail-image' src={el.photo_url}/></div>\r\n        })\r\n\r\n        return(\r\n            <div>\r\n            {isDeleted ? (<Route path=\"/\" component={Home}/>) :\r\n            (<div className=\"view\">\r\n                \r\n                {mappedUserInfo}\r\n\r\n                <div className='image-viewer'>\r\n                    {mappedThumbNails}\r\n                </div>\r\n                <div className=\"detail-container\">\r\n                    {mappedPhoto}\r\n                    <section className=\"right\">\r\n                        <div className={`detail-box small down-load ${viewFiles ? true : 'detail-box small down-load-selected'}`} onClick={() => this.changeView('viewFiles')}><p className={`down-load-text ${viewFiles ? true : 'down-load-text-selected'}`}><a>Download Files</a></p></div>\r\n                        <div className=\"detail-box small\" onClick={this.clickLike} >\r\n\r\n                            {isLoggedIn === true && myLike === true ? \r\n                            // <SVG params={'large_heart_dark'} />\r\n                            <svg  className=\"small-icon\" style={{margin:'auto',marginLeft:'10px',marginRight:'10px', height:'45px',width:'45px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                            </svg>\r\n                            :\r\n                            <SVG params={'large_heart'} />\r\n                            }\r\n\r\n                            <p className=\"dark-text\">Like</p>\r\n                        </div>\r\n\r\n                        <div className={`detail-box small ${!viewComments ? true : 'detail-box small selected'}`} onClick={() => this.changeView('viewComments')}>\r\n                            {/* <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'10px',marginRight:'10px', height:'45px',width:'45px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n                            </svg> */}\r\n                        <SVG params={'comments'} />\r\n                            <p className={`dark-text ${!viewComments ? true : 'light-text'}`}>Comment</p>\r\n                        </div>\r\n                        {isLoggedIn === true && this.props.user.user.id === maker_id ? <div className={`detail-box small ${!viewEditProject ? true : 'detail-box small selected'}`} onClick={() => this.changeView('viewEditProject')}>\r\n                        <SVG params={'edit_project'} />\r\n                        {/* <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'12px',marginRight:'10px', height:'46px',width:'46px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                        </svg> */}\r\n\r\n                            \r\n                        <p className={`dark-text ${!viewEditProject ? true : 'light-text'}`}>Edit Project</p></div>\r\n                        :\r\n                        <div className=\"detail-box small\">\r\n                            <SVG params={'folder'} />\r\n                            {/* <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'12px',marginRight:'10px', height:'46px',width:'46px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z\" />\r\n                            </svg> */}\r\n                            <p className=\"dark-text\">Add To Favorites</p>\r\n                        </div>}\r\n\r\n                        {/* -----------------------------------------------information about project-------------------------------------------------- */}\r\n\r\n                        <div className={`detail-box small ${!viewInfo ? true : 'detail-box small selected'}`} onClick={() => this.changeView('viewInfo')} >\r\n                            <SVG params={'info'} />\r\n                        {/* <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'12px',marginRight:'10px', height:'46px',width:'46px',opacity:'60%'}}  xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                        </svg> */}\r\n\r\n                        {/* <svg className=\"small-icon\" style={{margin:'auto',marginLeft:'10px',marginRight:'10px', height:'45px',width:'45px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                        </svg> */}\r\n                            <p className={`dark-text ${!viewInfo ? true : 'light-text'}`} >Info</p>\r\n                        </div>\r\n                    </section>\r\n                \r\n                </div>\r\n                    <div className=\"comment-box\">\r\n                        {viewComments ? <section className='project-selection-title'><h3 className=\"prodect-selection-h3\">Comments</h3></section> : null}\r\n                        {viewComments ? <CreateComment user={user} key={id} id={id} isLoggedIn={isLoggedIn} model_id={model_id} plsSignIn={this.plsSignIn} getComments={this.getComments} /> : null}\r\n                        {viewComments ? mappedComments : null}\r\n                        {viewFiles ? <section className='project-selection-title'><h3 className=\"prodect-selection-h3\">Download File</h3></section> : null}\r\n                        {viewFiles ? mappedUrl : null}\r\n                        {viewEditProject ? <EditModel key={model_id} info={info} model_id={model_id} user_id={id} user_name={user} modelImages={modelImages} getDetails={this.getDetails} setIsDeleted={this.setIsDeleted} getImages={this.getImages} /> : null}\r\n                        {viewInfo ? <section className='project-selection-title'><h3 className=\"prodect-selection-h3\">Information</h3></section> : null}\r\n                        {/* {viewInfo ? <section className='doc-container'><p style={{color:'#555'}} >{description}</p></section> : null} */}\r\n                        {viewInfo ? mappedDescription : null}\r\n                    </div>\r\n            </div>)}\r\n            </div>\r\n        )}\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginUser,updateUser,remoteLogin })(ProjectDetail)","import './ViewUser.css'\r\nimport '../FeaturedProjects/Project.css'\r\nimport React, { useState,useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { getModels } from '../../ducks/modelsReducer'\r\nimport { updateUser } from '../../ducks/userReducer'\r\n// import { addLike } from '../../../server/controllers/projectsController'\r\n\r\nconst UserProject = (props) => {\r\n    // const { category, img, firebase_url,firebase_url01, name, description, user_name, model_likes, model_id, photo_url, user_id, likes } = props.data\r\n    const { category, img, firebase_url,firebase_url01, name, description, user_name, model_likes, model_id,photo_url, user_id, likes } = props.data\r\n    const { handleClick,id,user_likes } = props.user.user\r\n    const { isLoggedIn } = props.user\r\n\r\n    const [numOfLikes, setNumOfLikes] = useState(0)\r\n    const [heart,setHeart] = useState(false) // for highlighting hearts if current user has already like this project\r\n\r\n    useEffect(() => {\r\n        setNumOfLikes(likes)\r\n        props.updateUser()\r\n    },[])\r\n\r\n    const plsSignIn = () => {\r\n        alert('please sign in')\r\n    }\r\n\r\n    const likeFunc = async (id,m_id) => {\r\n        const user_id = id\r\n        const model_id = m_id\r\n        await axios.post('/api/projects/like', { user_id,model_id })\r\n        await updateLikes(model_id)\r\n        await setHeart(!heart)\r\n        await checkIfLiked(heart)\r\n    }\r\n\r\n    const updateLikes = async (params) => {\r\n        console.log('params',params)\r\n        axios.get(`/api/like/update/${params}`).then(res => {\r\n            const { likes } = res.data[0]\r\n            console.log(likes)\r\n            setNumOfLikes(likes)\r\n        })\r\n    }\r\n\r\n    const clickedLike = () => {\r\n       if (isLoggedIn === true && id != undefined) {likeFunc(id,model_id)} else {plsSignIn()}\r\n    }\r\n\r\n    const checkIfLiked = (params) => {\r\n        // console.log('clicked check if likeds',params)\r\n        if (props.projectIsLiked(model_id,user_likes) === true){ return(true) } else { return(false) } \r\n    }\r\n\r\n    const getPhotoUrl = () => {\r\n        const { user_photo_url } = props\r\n        if (photo_url != undefined) {\r\n            return(photo_url)\r\n        } else return(user_photo_url)\r\n    }\r\n\r\n    const getUserName = () => {\r\n        const { current_user_name } = props\r\n        if (user_name != undefined) {\r\n            return(user_name)\r\n        } else return(current_user_name)\r\n    }\r\n\r\n    return(\r\n        <div className='project-container'>\r\n            {checkIfLiked()}\r\n            <div>\r\n                <div className=\"photo-title-border\"><img src={getPhotoUrl()} className=\"project-user-photo\"/>\r\n\r\n                <p className=\"dark-text\">{name}<br/><p className='usr-nm-txt'>by {getUserName()}</p></p></div>\r\n\r\n                <div className=\"image-div\" ><Link to={`/projectdetails/${model_id}`}><img className=\"model-photo\" src={firebase_url01}/></Link></div>\r\n            </div>\r\n            <div>\r\n                <div className=\"download-container\">\r\n\r\n                    { isLoggedIn ? \r\n                    <a href={`${firebase_url}`} >\r\n                        <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                        </svg>\r\n                    </a> \r\n                    : \r\n                    <a onClick={plsSignIn} >\r\n                        <svg className=\"small-icon\" style={{marginLeft:'10px',marginRight:'5px', height:'50px',width:'50px',opacity:'60%'}} xmlns=\"http://www.w3.org/2000/svg\"  fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\r\n                        </svg>\r\n                    </a>}\r\n                    \r\n                    { isLoggedIn ? <a className=\"project-text\" href={`${firebase_url}`}>download</a> : <a className=\"project-text\" onClick={plsSignIn}>download</a>}\r\n\r\n                    <div className=\"like-share\">\r\n                        <div>\r\n                            <div className=\"like-share-box\" style={{borderBottom:'1px solid #555'}}>\r\n                                {checkIfLiked() === false ? <svg className=\"small-icon small-icon-tweaks\" onClick={() => clickedLike()} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" >\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"  />\r\n                                </svg>\r\n                                :\r\n                                <svg className=\"small-icon small-icon-tweaks\" onClick={clickedLike} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                    <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                                </svg>}\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>{numOfLikes}</p>\r\n                            </div>\r\n\r\n                            <div className=\"like-share-box\">\r\n                                <svg className=\"small-icon small-icon-tweaks\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                                </svg>\r\n                                <p className=\"like-share-text\" style={{marginLeft:'10px'}}>share</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, { getModels,updateUser })(UserProject)","\r\nimport '../UserMessages/MessageBoard.css'\r\nimport './OneMessage.css'\r\nimport { useState,useEffect } from 'react'\r\n\r\nconst OneMessage = (props) => {\r\n\r\n    useEffect(() => {\r\n        // setShowNotice(false)\r\n        if(loggedInUser === user_id){setIsUser(true)}\r\n    },[])\r\n\r\n    const [isUser,setIsUser] = useState(false)\r\n\r\n    const testFunc = () => {\r\n        alert('does it work')\r\n    }\r\n    var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    const { content,loggedInUser,user_id,photo_url,date_created } = props\r\n    const time = date_created.split(\"T\")\r\n    // find date\r\n    const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    const amPm = (input) => {\r\n        if(input[0] > 12){\r\n            return input[0]-12 + ':' + input[1] + ' pm'\r\n        } else {return(input[0] + ':' + input[1] + ' am')}\r\n    }\r\n    const timeVal = time[1].split(':')\r\n    \r\n    // console.log(loggedInUser === user_id)\r\n    return (\r\n        // <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`}>\r\n        <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`} style={{}} >\r\n        \r\n        <div className={`my-message-container ${loggedInUser === user_id ? true : 'user-message-container'}`}>\r\n            <p className='time-stamp'style={{textTransform:'none',fontSize:'xx-small'}}>{months[parseInt(dateVal[1])-1]+' '+dateVal[2]+' '+dateVal[0]}</p>\r\n        {/* <div className={`my-message-container`}> */}\r\n            <p style={{textTransform:'none'}}>{content}</p>\r\n            <p style={{textTransform:'none',fontSize:'xx-small'}}>{amPm(timeVal)}</p>\r\n            {/* <p className={`my-time-format ${isUser ? true : 'user-time-format'}`} >{amPm(timeVal)}</p> */}\r\n        </div>\r\n            <div>\r\n                <img src={photo_url} className={`my-message-photo ${isUser ? true : 'my-message-photo'}`} />\r\n                    {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n            </div>\r\n            {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default OneMessage","import { Component } from 'react'\r\nimport './CreateNewMessage.css'\r\nimport '../UserMessages/CreateMessage.css'\r\nimport '../UserMessages/MessageBoard.css'\r\n// import CreateMessage from '../UserMessages/CreateMessage'\r\n// import MyMessage from '../UserMessages/MyMessage'\r\nimport OneMessage from './OneMessage'\r\nimport { connect } from 'react-redux'\r\nimport { loginUser,registerUser,updateUser } from '../../ducks/userReducer'\r\nimport axios from 'axios'\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\nclass CreateNewMessage extends Component {\r\n    constructor() {\r\n        super()\r\n\r\n        this.state = {\r\n            currentConversationId:null,\r\n            newMessages:[],\r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.executeSendMessage = this.executeSendMessage.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { currentUserMessage } = this.props\r\n\r\n        this.getConnected()\r\n    }\r\n\r\n        // --- sockets --- //\r\n    getConnected = async (input) => {\r\n\r\n        const { conversation_id } = this.props\r\n\r\n       client.onopen = () => {\r\n        console.log('WebSocket Client Connected');\r\n       };\r\n   \r\n         client.onmessage = (message) => {\r\n             \r\n           const dataFromServer = JSON.parse(message.data);\r\n\r\n        //    console.log('got reply',dataFromServer.conversation_id, conversation_id)\r\n\r\n         if (dataFromServer.type === 'message' && dataFromServer.conversation_id === conversation_id ) {\r\n\r\n           this.setState((State) =>\r\n           ({newMessages:[...this.state.newMessages,\r\n           {\r\n             msg: dataFromServer.msg,\r\n             user:dataFromServer.user\r\n           }]\r\n   \r\n         }))\r\n        //    console.log('is messaged',conversation_id)\r\n         }\r\n         }\r\n   }\r\n\r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    executeSendMessage = async () => {\r\n        const { text } = this.state\r\n        const { id,photo } = this.props.user.user\r\n        const user_id = id\r\n        const { isLoggedIn } = this.props.user\r\n        const { currentUserMessage } =  this.props\r\n        // console.log('here is id',conversation_id)\r\n        if (isLoggedIn != false && id != undefined) {\r\n        if (currentUserMessage === null ){\r\n            await axios.post('/api/conversation/new',{user_id,id,text})\r\n        } else if (id != undefined && isLoggedIn != false){\r\n            const conversation_id = currentUserMessage[0].conversation_id\r\n            await axios.post('/api/conversation/user/new',{conversation_id,user_id,text,id})\r\n            return client.send(JSON.stringify({type: \"message\",conversation_id:conversation_id,msg:text,to:user_id,photo:photo}))\r\n        }\r\n    }\r\n        // const conversation = await axios.post('/api/conversation/new',{user_id,id,text})\r\n    }\r\n\r\n    processMessages = () => {\r\n        const { currentUserMessage,user_id } = this.props\r\n        if (currentUserMessage != null) {\r\n            const mappedMessages = currentUserMessage.map(el => {\r\n                return <OneMessage key={el.message_id} loggedInUser={user_id} content={el.content} user_id={el.user_id} photo_url={el.photo_url} user_name={el.user_name} date_created={el.date_created} />\r\n            })\r\n            return(mappedMessages)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const { user_id,user_name } = this.props\r\n        const { loggedInUser,currentUserMessage } = this.props\r\n        const { newMessages } = this.state\r\n\r\n        // const mappedNewMessage = newMessages.map(el => {\r\n        //     return <OneMessage key={el.} />\r\n        // })\r\n        \r\n        // const mappedMessage = currentUserMessage.map(el => {\r\n        //     return <OneMessage key={el.message_id} loggedInUser={user_id} content={el.content} user_id={el.user_id} photo_url={el.photo_url} user_name={el.user_name} date_created={el.date_created} />\r\n        // })\r\n\r\n        return(<div className='create-message-container'>\r\n                    <h4 className='message-board-title' style={{width:'105%',left:'-5px',textTransform:'none'}} >\r\n                        Send message to {user_name}\r\n                        <svg className=\"close-message-box\" onClick={() => this.props.openMessageBox()} style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px',right:'20px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                    </h4>\r\n                 \r\n                    <section className=\"create-message-input\" >\r\n                        <textarea className='message-input' style={{width:'250px',marginLeft:'10px',maxHeight:'50px'}} value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                    {/* <div className='portrait-row'> */}\r\n                        {/* <div className='user-buttons' style={{marginTop:'30px'}}  ><p style={{marginTop:'10px'}} onClick={() => this.props.openMessageBox()} >Cancel</p></div> */}\r\n                        {/* <div className='send-message-button' style={{marginTop:'30px'}}  ><p style={{marginTop:'10px'}} onClick={() => this.executeSendMessage()} >Send</p></div> */}\r\n                        <svg onClick={() => this.executeSendMessage()} xmlns=\"http://www.w3.org/2000/svg\" className=\"send-message-button\" style={{marginRight:'10px',marginLeft:'5px'}} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                        </svg>\r\n                    {/* </div> */}\r\n                    </section>\r\n                    {/* {this.processMessages()} */}\r\n                    <section className='thread-layout'>\r\n                        <div>{this.processMessages()}</div>\r\n                    {/* <section > */}\r\n                    </section>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(reduxState) {\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateUser})(CreateNewMessage)","import axios from 'axios';\r\nimport UserProject from './UserProject'\r\nimport { Component } from 'react'\r\nimport '../UserPage/UserPage.css'\r\nimport { connect } from 'react-redux'\r\nimport { updateUser } from '../../ducks/userReducer'\r\nimport UserInfo from '../UserPage/UserInfo';\r\nimport Loading from '../Loading/Loading';\r\nimport CreateNewMessage from './CreateNewMessage';\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\nclass ViewUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state ={\r\n            currentUserMessage:null,\r\n            conversation_id:null,\r\n            items:[],\r\n            user:[],\r\n            showUserInfo:true,\r\n            showCollections:false,\r\n            showAdminPage:false,\r\n            showCreateProject:false,\r\n            showEditUserInto:false,\r\n            profilePic:null,\r\n            userName:null,\r\n            user_id:null,\r\n            isLoading:false,\r\n            setPermission:true,\r\n            openMessageBox:false,\r\n            friendShipInfo:null,\r\n        }\r\n        this.pleaseLogin = this.pleaseLogin.bind(this)\r\n        this.setIsLoading = this.setIsLoading.bind(this)\r\n        this.openMessageBox = this.openMessageBox.bind(this)\r\n        this.checkForExistingMessage = this.checkForExistingMessage.bind(this)\r\n        this.getUserAndProjects = this.getUserAndProjects.bind(this)\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { user_id } = this.props.match.params\r\n        this.props.updateUser()\r\n        this.getUserAndProjects(user_id)\r\n        axios.get(`/api/users/${user_id}`).then(res => \r\n            this.setState({\r\n                user:res.data,\r\n            }))\r\n            // this.checkForExistingMessage()\r\n        }\r\n        \r\n        componentDidUpdate() {\r\n            if(this.state.friendShipInfo === null){this.getConnectionStatus()}\r\n    }\r\n\r\n// -- check if loggedin user is already connected to this user -- /\r\n    getConnectionStatus = async () => {\r\n        const { id } = this.props.user.user\r\n        // console.log('getting status',id)\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_id } = this.props.match.params\r\n        if(id != undefined && isLoggedIn === true) {\r\n            await axios.post('/api/get/friend/status',{id,user_id}).then(res => this.setState({friendShipInfo:res.data}))\r\n            this.checkForExistingMessage(id,user_id)\r\n        }\r\n    }\r\n\r\n    checkForExistingMessage = async (id,user_id) => {\r\n        // await axios.post('/api/conversation/exists',{id,user_id}).then(res => this.setState({currentUserMessage:res.data})).catch(err => console.log('err',err))\r\n        await axios.post('/api/conversation/exists',{id,user_id}).then(res => {\r\n            // console.log(res.data)\r\n            const { messages, conversation_id } = res.data\r\n            this.setState({\r\n                currentUserMessage:messages,\r\n                conversation_id:conversation_id\r\n            })\r\n        })\r\n    }\r\n\r\n    openMessageBox = () => {\r\n            const { isLoggedIn } = this.props.user\r\n            const { id } = this.props.user.user\r\n            const { currentUserMessage } = this.state\r\n        \r\n            if(id != undefined && isLoggedIn === true){\r\n            this.setState({openMessageBox:!this.state.openMessageBox})\r\n        } else {this.pleaseLogin()}\r\n    }\r\n\r\n    sendConnectInvite = () => {\r\n        // --- this is for sending connection requests --- //\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const { user_id } = this.state.user[0]\r\n        const friend_id = user_id\r\n        const no = false\r\n        // console.log('hit invite',id,friend_id)\r\n        this.setState({friendShipInfo:true})\r\n        if(id != undefined && isLoggedIn === true){\r\n            axios.post('/api/friends/add',{id,friend_id,no}).then().catch(err => console.log(err))\r\n            this.sendToSocket()\r\n        } else {this.pleaseLogin()}\r\n    }\r\n    sendToSocket = () => {\r\n        const { user_id } = this.props.match.params\r\n        const { id,photo,user} = this.props.user.user\r\n        const fromUser = {\r\n            toUser:user_id,\r\n            id:id,\r\n            photo:photo,\r\n            user:user\r\n        }\r\n        client.send(JSON.stringify({type:\"new_friend\",fromUser}))\r\n    }\r\n\r\n    getUserAndProjects(user_id) {\r\n        // const { user_id } = this.props.match.params\r\n        axios.get(`/api/user/projects/get/${user_id}`).then(res => {\r\n            this.setState({...this.state,items:res.data})\r\n        })\r\n    }\r\n    projectIsLiked(projectId,userLike) {\r\n        try {\r\n            return(userLike.filter(el => el.model_id === projectId)[0].model_id === projectId)\r\n          } catch (error) {\r\n            // console.log('user does not like this project',error);\r\n          }\r\n    }\r\n\r\n    setIsLoading = () => {\r\n        this.setState({isLoading:!this.state.isLoading})\r\n    }\r\n\r\n    handleFriends(){\r\n        this.setState({isView:'isFriends'})\r\n    }\r\n\r\n    pleaseLogin(){\r\n        alert('please log in')\r\n    }\r\n\r\n    render(){\r\n        const { items,isLoading,user,currentUserMessage,friendShipInfo,conversation_id } = this.state\r\n        const { id } = this.props.user.user\r\n        const { user_id } = this.props.match.params\r\n\r\n        const mappedNewMessage = user.map(el => {\r\n            return <CreateNewMessage key={el.user_id} user_id={el.user_id} user_name={el.user_name} conversation_id={conversation_id} currentUserMessage={currentUserMessage} pleaeLogin={this.pleaseLogin} openMessageBox={this.openMessageBox} sendToSocket={this.sendToSocket} checkForExistingMessage={this.checkForExistingMessage} />\r\n        })\r\n\r\n        const mappedUserName = user.map(el => {\r\n            return <h4 className=\"portrait-row\" style={{textTransform:'none'}} key={el.user_id} >{el.user_name}</h4>\r\n        })\r\n\r\n        // const mappedUserInfo = user.map(el => {\r\n        //     // return <UserInfo  key={el.user_id} user={el.user_name} name={el.first_name} email={el.email} />\r\n        //     return <UserInfo  key={el.user_id} user={el.user_name} name={el.first_name} email={null} />\r\n        // })\r\n\r\n        const mappedBackground = user.map(el => {\r\n           return <img src={el.background_url} key={el.user_id} className='background-photo' />\r\n        })\r\n\r\n        const mappedProfilePhoto = user.map(el => {\r\n            return <img className=\"profile-photo\" src={el.photo_url} key={el.user_id} alt=\"photo\"/>\r\n        })\r\n\r\n        const mappedProjects = items.map(el => {\r\n            return <UserProject key={el.model_id} model_id={el.model_id} data={el} projectIsLiked={this.projectIsLiked} />\r\n        })\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"user-page\">\r\n            {this.state.openMessageBox ? mappedNewMessage : null}\r\n            {isLoading ? <Loading/> : null}\r\n            <section className=\"column1\">\r\n                {mappedBackground}\r\n                <div className=\"portrait\">\r\n\r\n                    {mappedProfilePhoto}\r\n                    {mappedUserName}\r\n \r\n                    <div className='portrait-row'>\r\n                        {parseInt(user_id) === id ? true : <div className='user-buttons' style={{marginTop:'30px'}} onClick={() => this.openMessageBox()} >\r\n                            <p style={{marginTop:'3px'}} >Message</p>\r\n                        </div>}\r\n\r\n                        {this.props.user.isLoggedIn === true && this.state.friendShipInfo != true ? \r\n                        <div className='user-buttons' style={{marginTop:'30px'}} onClick={() => this.sendConnectInvite()} >\r\n                            <p style={{marginTop:'3px'}} >Connect</p>\r\n                        </div>\r\n                       : null}\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                {/* {mappedUserInfo} */}\r\n\r\n            </section>\r\n\r\n            <section className=\"column2\" >\r\n\r\n                <div className='collections'>\r\n                    {mappedProjects}\r\n                </div>\r\n\r\n            </section>\r\n        </div>\r\n        {/* )} */}\r\n        </div>\r\n        )}\r\n}\r\nfunction mapStateToProps(reduxState){\r\n    return reduxState\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateUser})(ViewUser)","\r\nimport './MessageBoard.css'\r\nimport { useState,useEffect } from 'react'\r\n\r\nconst MyMessage = (props) => {\r\n\r\n    useEffect(() => {\r\n        // setShowNotice(false)\r\n        if(loggedInUser === user_id){setIsUser(true)}\r\n    },[])\r\n\r\n    const [isUser,setIsUser] = useState(false)\r\n\r\n    const testFunc = () => {\r\n        alert('does it work')\r\n    }\r\n    var months = [ \"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n    const { content,loggedInUser,user_id,photo_url,date_created } = props\r\n    const time = date_created.split(\"T\")\r\n    // find date\r\n    const dateVal = time[0].split('-')\r\n    // find time\r\n    // find am or pm\r\n    const amPm = (input) => {\r\n        if(input[0] > 12){\r\n            return input[0]-12 + ':' + input[1] + ' pm'\r\n        } else {return(input[0] + ':' + input[1] + ' am')}\r\n    }\r\n    const timeVal = time[1].split(':')\r\n    \r\n    // console.log(loggedInUser === user_id)\r\n    return (\r\n        <div className={`over-flow ${loggedInUser === user_id ? true : 'user-over-flow'}`}>\r\n        <div className={`my-message-container ${loggedInUser === user_id ? true : 'user-message-container'}`}>\r\n            <p className='time-stamp'style={{textTransform:'none',fontSize:'xx-small'}}>{months[parseInt(dateVal[1])-1]+' '+dateVal[2]+' '+dateVal[0]}</p>\r\n        {/* <div className={`my-message-container`}> */}\r\n            <p style={{textTransform:'none'}}>{content}</p>\r\n            <p style={{textTransform:'none',fontSize:'xx-small'}}>{amPm(timeVal)}</p>\r\n            {/* <p className={`my-time-format ${isUser ? true : 'user-time-format'}`} >{amPm(timeVal)}</p> */}\r\n        </div>\r\n            <div>\r\n                <img src={photo_url} className={`my-message-photo ${isUser ? true : 'my-message-photo'}`} />\r\n                    {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n            </div>\r\n            {/* <p className='time-format' >{amPm(timeVal)}</p> */}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default MyMessage","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\n// import '../../Components/FeaturedProjects/Comments/Comments'\r\nimport './CreateMessage.css'\r\n// import { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket('ws://127.0.0.1:8000');\r\n\r\n\r\nexport default class CreateMessage extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            text:\"\",\r\n        }\r\n        this.handleText = this.handleText.bind(this)\r\n        this.executeSendMessage = this.executeSendMessage.bind(this)\r\n    }\r\n\r\n    executeSendMessage = async () => {\r\n        const { text } = this.state\r\n        const { user_id,conversation_id,to_user } = this.props\r\n\r\n        await axios.post('/api/conversation/user/new',{conversation_id,user_id,text,to_user})\r\n        await this.props.sendToSockets(text,conversation_id,to_user)\r\n        // this.props.openMessage(conversation_id) \r\n        this.setState({text:''})\r\n    }\r\n\r\n    \r\n    handleText(prop,val) {\r\n        this.setState({\r\n            [prop]:val\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isLoggedIn,conversation_id } = this.props\r\n \r\n        return(\r\n            <div>\r\n            {conversation_id != null ? <div className=\"input-background\" style={{maxHeight:'50px'}}>\r\n                <textarea className=' message-input' style={{minHeight:'45px'}} value={this.state.text} name=\"text\" rows=\"5\" cols=\"50\" wrap=\"soft\" onChange={e => this.handleText('text',e.target.value)} > </textarea>\r\n                <div className='send-message-button' onClick={() => this.executeSendMessage()} style={{position:'absolute',height:'30px',width:'30px'}} >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                </div> \r\n            </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}","import './SelectedMessage.css'\r\nimport { useState,useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst SelectedMessage = (props) => {\r\n\r\n    const { photo_url,conversation_id,selectedMessage,user_name,read_by,id,to_user } = props\r\n    const [isSelected,setIsSelected] = useState(false)\r\n    \r\n    useEffect(() => {\r\n\r\n    },[])\r\n\r\n    const gotClicked = (id) => {\r\n        props.openMessage(id,to_user)\r\n        const cancel = null\r\n        axios.post(`api/messages/read/`,{cancel,conversation_id})\r\n        setIsSelected(true)\r\n    }\r\n\r\n    return(\r\n        <div className={`selected-message-container ${selectedMessage!=conversation_id ? true : 'selected-message-selected'}`} onClick={() => gotClicked(conversation_id)} >\r\n            <img className='senders-photo' src={photo_url} />\r\n            {read_by === id && isSelected === false ? <p className='new-message' >new!</p> : null}\r\n            <p className='display-name-message'>{user_name}</p>\r\n        </div>\r\n          )\r\n}\r\n\r\nexport default SelectedMessage","\r\nimport './MessageBoard.css'\r\nimport { loginUser,registerUser,updateUser } from '../../ducks/userReducer'\r\nimport { connect } from 'react-redux'\r\nimport { Route } from 'react-router-dom'\r\nimport Home from '../Home/Home'\r\nimport axios from 'axios'\r\nimport { Component } from 'react'\r\nimport MyMessage from './MyMessage'\r\nimport CreateMessage from './CreateMessage'\r\nimport SelectedMessage from './SelectedMessage'\r\nimport EndOfMessages from './EndOfMessages'\r\nimport React from 'react'\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n// const client = new W3CWebSocket(`ws://127.0.0.1:8000`); // production\r\nconst client = new W3CWebSocket(`ws://165.227.102.189:8000`); // build\r\n\r\n class MessageBoard extends Component {\r\n     constructor() {\r\n         super()\r\n         \r\n         this.state = {\r\n             messages:[],\r\n             newMessages:[],\r\n             thread:[],\r\n             conversation_id:null,\r\n             gotMessages:false,\r\n             expand:false,\r\n             openContacts:true,\r\n             challengeUser:null, // adding game challenge notifications to messageBoard\r\n             gotNewMessage:false\r\n            }\r\n            this.getMessages = this.getMessages.bind(this)\r\n            this.openMessage = this.openMessage.bind(this)\r\n            this.expandMessageBoard = this.expandMessageBoard.bind(this)\r\n            this.setOpenContacts = this.setOpenContacts.bind(this)\r\n            this.sendToSockets = this.sendToSockets.bind(this)\r\n            this.getConnected = this.getConnected.bind(this)\r\n        }\r\n\r\n    componentDidMount() {\r\n        this.props.updateUser()\r\n        this.getConnected()\r\n     }\r\n\r\n     componentDidUpdate(prevProps,prevState) {\r\n         const { gotMessages } = this.state\r\n         const { id } = this.props.user.user\r\n         const { isLoggedIn } = this.props.user\r\n         if(gotMessages === false && id != undefined){\r\n             this.setState({gotMessages:true})\r\n             this.getMessages()\r\n         }\r\n         if(isLoggedIn === false && gotMessages === true){\r\n            this.setState({\r\n                messages:[],\r\n                thread:[],\r\n                conversation_id:null,\r\n                gotMessages:false,\r\n                expand:false,\r\n            })\r\n        }\r\n     }\r\n\r\n     // --- sockets --- //\r\n     getConnected = (input) => {\r\n         const { conversation_id } = this.state\r\n        //  console.log(`got connected to ${input}`,input === conversation_id)\r\n        // const contentDefaultMessage = \"default message as string\"\r\n        client.onopen = () => {\r\n        //  console.log('WebSocket Client Connected');\r\n        };\r\n    \r\n          client.onmessage = (message) => {\r\n              \r\n            const dataFromServer = JSON.parse(message.data);\r\n            if(dataFromServer.to === this.state.loggedInUser){this.setState({gotNewMessage:true})}\r\n            // console.log('got reply',dataFromServer.to === this.state.loggedInUser)\r\n            // this.setState({testSockIntfo:dataFromServer.to})\r\n          if (dataFromServer.type === 'message' && input === conversation_id ) {\r\n            this.openMessage(conversation_id)\r\n            this.setState((State) =>\r\n            ({newMessages:[...this.state.newMessages,\r\n            {\r\n              msg: dataFromServer.msg,\r\n              user:dataFromServer.user\r\n            }]\r\n    \r\n          }))\r\n            // console.log('is messaged')\r\n          }\r\n          }\r\n    }\r\n    sendToSockets = (text,conversation_id,toUser) => {\r\n        const { messages,loggedInUser } = this.state\r\n        const { user } = this.props.user.user\r\n        // client.send(JSON.stringify({type: \"message\",msg:text,user:user, conversation_id:conversation_id}))\r\n        client.send(JSON.stringify({type: \"message\",conversation_id:conversation_id,msg:text,to:toUser}))\r\n    };\r\n    //     // --------------- //\r\n                \r\n\r\n     getMessages = () => {\r\n        const { id } = this.props.user.user\r\n        const user_id = id\r\n        axios.get(`/api/conversations/${user_id}`).then(res => {\r\n            this.setState({\r\n                messages:res.data,\r\n                loggedInUser:id\r\n            })\r\n        })\r\n     }\r\n\r\n     openMessage = async (conversation_id,to_user) => {\r\n        // this.getConnected(conversation_id)\r\n        await axios.get(`/api/conversation/messages/get/${conversation_id}`).then(res => {\r\n            this.setState({\r\n                thread:res.data,\r\n                conversation_id:conversation_id,\r\n                openContacts:false,\r\n                to_user:to_user\r\n            })\r\n        })\r\n        await this.getConnected(conversation_id)\r\n     }\r\n\r\n     expandMessageBoard = () => {\r\n         this.setState({\r\n            expand:!this.state.expand,\r\n            gotNewMessage:false\r\n        })\r\n     }\r\n\r\n     setOpenContacts = () => {\r\n         this.setState({openContacts:!this.state.openContacts})\r\n     }\r\n\r\n     render() {\r\n\r\n        const { messages,thread,selectedMessage,conversation_id,expand,gotMessages,openContacts,newMessages,to_user } = this.state\r\n        const { id } = this.props.user.user\r\n        const { isLoggedIn } = this.props.user\r\n        const user_id = id\r\n        \r\n        const mappedMessageUsers = messages.map(el => {\r\n            return <SelectedMessage key={el.conversation_id} selectedMessage={conversation_id} conversation_name={el.conversation_name} conversation_id={el.conversation_id} to_user={el.to_user} openMessage={this.openMessage} photo_url={el.photo_url} user_name={el.user_name} read_by={el.read_by} id={id} getConnected={this.getConnected} />\r\n        })\r\n\r\n        const mappedThread = thread.map(el => {\r\n            return <MyMessage key={el.message_id} loggedInUser={user_id} content={el.content} user_id={el.user_id} photo_url={el.photo_url} user_name={el.user_name} date_created={el.date_created} />\r\n        })\r\n\r\n        const mappedNewMessages = newMessages.map(el => {\r\n            const { counter } = this.state\r\n            return <p style={{color:'#555'}}>{el.msg} </p>\r\n        })\r\n\r\n        // if(isLoggedIn === false && gotMessages === true){\r\n        //     this.setState({\r\n        //         messages:[],\r\n        //         thread:[],\r\n        //         conversation_id:null,\r\n        //         gotMessages:false,\r\n        //         expand:false,\r\n        //     })\r\n        // }\r\n\r\n        return(<div>\r\n            {isLoggedIn ?  (!expand ? <div className='message-board-closed' onClick={() => this.expandMessageBoard()} >\r\n            {this.state.gotNewMessage === true ? <p className='new-message'>new!</p> : null}\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" style={{width:'25px',opacity:'.5'}} className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" />\r\n            </svg>\r\n\r\n            </div> :\r\n            <div className='message-board ' >\r\n            <div className='message-board-title'>\r\n\r\n            <svg className=\"close-message-box\" onClick={() => this.expandMessageBoard()} style={{color:'#fff', height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n            </svg>\r\n\r\n\r\n            <h2 className='hide-message-h2' style={{textTransform:'none'}} >Messages</h2>\r\n\r\n            <svg className={`toggle-contacts ${openContacts ? true : 'toggle-contacts-rotated'}`} style={{ height:'35px',width:'35px',opacity:'60%',marginTop:'2px',marginBottom:'2px'}} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\" onClick={() => this.setOpenContacts()}>\r\n                <path d=\"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z\" />\r\n            </svg>\r\n\r\n            </div>\r\n            \r\n            <section>\r\n                <div className='dash' >{mappedMessageUsers}</div>\r\n            </section>\r\n\r\n            <section className={`mobile-dash ${openContacts ? false : 'mobile-dash-closed'}`}>\r\n                <div >{openContacts === true ? mappedMessageUsers : null }</div>\r\n            </section>\r\n\r\n            <section className=' board'>\r\n                <div >\r\n                    {mappedThread}\r\n                {/* {mappedNewMessages} */}\r\n                </div>\r\n                \r\n            </section>\r\n            <section>\r\n                <div className='text-input-container'><CreateMessage id='EndOfMessages' conversation_id={this.state.conversation_id} user_id={user_id} to_user={to_user} openMessage={this.openMessage} sendToSockets={this.sendToSockets} /></div>\r\n                {/* <div className='text-input-container'><CreateMessage id='EndOfMessages' conversation_id={this.state.conversation_id} user_id={user_id} openMessage={this.openMessage} /></div> */}\r\n\r\n            </section>\r\n        </div>) : null}\r\n        </div>)\r\n     }\r\n }\r\n\r\n function mapStateToProps(reduxState) {\r\n     return reduxState\r\n }\r\n\r\n export default connect(mapStateToProps, {updateUser})(MessageBoard)","import { Switch, Route } from 'react-router-dom'\r\nimport Home from './Components/Home/Home'\r\n// import FeaturedProjects from './Components/FeaturedProjects/FeaturedProjects'\r\nimport GroupPage from './Components/GroupPage/GroupPage'\r\nimport UserPage from './Components/UserPage/UserPage'\r\nimport Header from './Components/Header/Header'\r\nimport Explore from './Components/Explore/Explore'\r\nimport About from './Components/About/About'\r\nimport Sites from './Components/SiteLinks/Sites'\r\nimport Register from './Components/Register/Register'\r\nimport ProjectDetail from './Components/FeaturedProjects/ProjectDetail'\r\nimport SecurityTest from './Components/UserPage/SecurityTest'\r\nimport Agreement from './Components/Register/Agreement'\r\nimport AdminPage from './Components/AdminPage/AdminPage'\r\nimport Messages from './Components/Messages/Messages'\r\nimport ViewUser from './Components/ViewUser/ViewUser'\r\nimport MessageBoard from './Components/UserMessages/MessageBoard'\r\n// import ViewUserV2 from './Components/AdminPage/ViewUserV2'\r\n\r\n\r\nexport default (\r\n    <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        {/* <Route exact path=\"/\" component={Header} /> */}\r\n        {/* <Route path=\"/home\" component={Home} /> */}\r\n        {/* <Route path=\"/viewuser/:user_id\" component={ViewUser} /> */}\r\n        <Route path=\"/viewuser/:user_id\" component={ViewUser} />\r\n        <Route path=\"/explore\" component={Explore} />\r\n        <Route path=\"/group\" component={GroupPage} />\r\n        <Route path=\"/user\" component={UserPage} />\r\n        <Route path=\"/about\" component={About} />\r\n        <Route path=\"/sites\" component={Sites} />\r\n        <Route path=\"/register\" component={Register} />\r\n        <Route path=\"/projectdetails/:model_id\" component={ProjectDetail} />\r\n        <Route path=\"/securitytest\" component={SecurityTest} />\r\n        <Route path=\"/header\" component={Header} />\r\n        <Route path=\"/agreement\" component={Agreement} />\r\n        <Route path=\"/admin\" component={AdminPage} />\r\n        <Route path=\"/messages/:user_id\" component={Messages} />\r\n        <Route path=\"/usermessages\" component={MessageBoard} />\r\n    </Switch>\r\n)","export default __webpack_public_path__ + \"static/media/admin_photo1.c412f89d.jpg\";","import './Messages.css'\r\nimport React from 'react'\r\nimport  { Component } from 'react'\r\nimport photo from './admin_photo1.jpg'\r\nimport axios from 'axios';\r\n\r\nclass Message extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            showActualMessage:true,\r\n            contactAdmin:false,\r\n            messageContent:'Enter Message',\r\n            email:'email address',\r\n            name:'your name',\r\n            welcomeGreeting:'Welcome to MadModels3d. Click here if you have questions or comments',\r\n            responseGreeting:\"Your message has been sent. I'll get back to you asap\"\r\n        }\r\n        this.hideGreeting = this.hideGreeting.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(localStorage['visited'] !== undefined){this.setState({visited:localStorage['visited']})}\r\n    }\r\n\r\n    showGreeting() {\r\n        const { responseGreeting } = this.state\r\n        this.setState({showActualMessage:true,welcomeGreeting:responseGreeting})\r\n        \r\n        // this.setState({showActualMessage:false})\r\n    }\r\n\r\n    hideGreeting() {\r\n        // console.log('hit hover')\r\n        this.setState({showActualMessage:false})\r\n    }\r\n\r\n    setContactAdmin() {\r\n        this.setState({contactAdmin:!this.state.contactAdmin})\r\n    }\r\n\r\n    inputHandler = (prop,val) => {\r\n        this.setState({[prop]:val})\r\n    }\r\n\r\n    sendMessageToAdmin = () => {\r\n        const { messageContent,email,visited } = this.state\r\n        axios.post('/api/messages/user/add',{ messageContent,email,visited })\r\n        this.setContactAdmin()\r\n        this.showGreeting()\r\n    }\r\n\r\n    render() {\r\n\r\n        const { showActualMessage,contactAdmin,messageContent,email,welcomeGreeting,responseGreeting,name } = this.state\r\n\r\n        return(\r\n            <div>\r\n            <div className={`messages-container`}>\r\n                {contactAdmin === false ? <div \r\n                onMouseEnter={this.hideGreeting}\r\n                onClick={this.hideGreeting}\r\n                className={`actual-message ${showActualMessage ? true : 'hidden'}`}  >\r\n                    <p className='contact-admin-text' >{welcomeGreeting}</p>\r\n                    <img src={photo} className='admin-message-photo' />\r\n                </div> : null}\r\n\r\n                {contactAdmin === false ? <svg onClick={() => this.setContactAdmin()} xmlns=\"http://www.w3.org/2000/svg\" class={`admin-message-icon`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\r\n                </svg> : null}\r\n\r\n            </div>\r\n                {contactAdmin=== true ? <div className='send-message'>\r\n                    <div className='send-message-title'>\r\n                        <h2 style={{textTransform:'none'}} >Contact</h2>\r\n                        <svg onClick={() => this.setContactAdmin()} className=\"contact-admin-close-button\"  xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                        <textarea onChange={(e) => this.inputHandler(\"name\",e.target.value)} style={{minHeight:'25px',marginTop:'40px'}} name=\"text\" rows=\"0\" cols=\"35\" wrap=\"soft\" placeholder={name} />\r\n                        <textarea onChange={(e) => this.inputHandler(\"email\",e.target.value)} style={{minHeight:'25px',marginTop:'10px'}} name=\"text\" rows=\"0\" cols=\"35\" wrap=\"soft\" placeholder={email} />\r\n                        <textarea onChange={(e) => this.inputHandler(\"messageContent\",e.target.value)} style={{minHeight:'45px',marginTop:'10px'}} name=\"text\" rows=\"5\" cols=\"35\" wrap=\"soft\" placeholder={messageContent} />\r\n                        <div className='contact-admin-send-button' ><p style={{color:'#fff'}} onClick={() => this.sendMessageToAdmin()} >send</p></div>\r\n                    </div>\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message\r\n","\r\nimport './App.css';\r\nimport firebase from 'firebase'\r\nimport Home from './Components/Home/Home'\r\nimport Header from './Components/Header/Header'\r\nimport FeaturedProjects from './Components/FeaturedProjects/FeaturedProjects'\r\nimport UserPage from './Components/UserPage/UserPage'\r\nimport GroupPage from './Components/GroupPage/GroupPage'\r\nimport About from './Components/About/About'\r\nimport routes from './routes'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport Footer from './Components/Footer/Footer'\r\nimport Explore  from './Components/Explore/Explore'\r\nimport AdminPage from './Components/AdminPage/AdminPage';\r\nimport MessageBoard from './Components/UserMessages/MessageBoard';\r\nimport Dash from './Components/Dash/Dash'\r\nimport Message from './Components/Messages/Message';\r\nimport { useState,useEffect } from 'react'\r\n// import BaseBackend from './BaseBackend';\r\n// import EditModel from './Components/UserPage/EditModel' // for testing. will not be rendered in this component\r\n// import FirebaseTest from './Components/FirebaseTest';\r\n// import Three from './Components/Three'\r\n// import ThreeView from './Components/Three'\r\n// import DemoScene from './Components/Three/ThreeView'; // testing react 3\r\n\r\nfunction App() {\r\n\r\n  useEffect(() => {\r\n    // -- testing firebase messaging -- //\r\n    //   const messaging = firebase.app().messaging()\r\n    // messaging\r\n    //     .requestPermission()\r\n    //     .then(() => {\r\n    //       return messaging.getToken()\r\n    //     })\r\n    //     .catch(error => {\r\n    //       console.log(error)\r\n    //     })\r\n      \r\n      // -------------------------------//\r\n  })\r\n  \r\n  return (\r\n    <HashRouter>\r\n    <div className=\"App\">\r\n      {/* <AdminPage /> */}\r\n        {/* <FirebaseTest/> */}\r\n        <Header/>\r\n        {/* <Dash/> */}\r\n        <MessageBoard />\r\n        <Message />\r\n        {/* <EditModel/> */}\r\n        {/* <DemoScenes /> */}\r\n        {routes}\r\n        {/* <GroupPage/> */}\r\n\r\n    </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport reduxPromiseMiddleware from 'redux-promise-middleware'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport userReducer from './userReducer'\r\nimport modelsReducer from './modelsReducer'\r\nimport firebaseReducer from './firebaseReducer'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  // characters: breakingBadReducer,\r\n  user: userReducer,\r\n  // projects: projectsReducer,\r\n  models: modelsReducer,\r\n  firebase: firebaseReducer\r\n\r\n})\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(reduxPromiseMiddleware))\r\n)\r\n\r\n// composeWithDev\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux'\r\nimport store from './ducks/store'\r\nimport { HashRouter, BrowserRouter } from 'react-router-dom';\r\nconst Router = process.env.NODE_ENV === 'development' ? HashRouter : BrowserRouter;\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n    <Provider store={store}>\r\n    <App />\r\n    </Provider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}